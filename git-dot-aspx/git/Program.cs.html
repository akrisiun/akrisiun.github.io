<!DOCTYPE html>
<html><head><title>Program.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(359);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#git/Program.cs" target="_top">Program.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#git" target="_top">lib\GitSharp\Git\Git.csproj</a> (git)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">/*
 * Copyright (C) 2006, Robin Rosenberg &lt;robin.rosenberg@dewire.com&gt;
 * Copyright (C) 2008, Shawn O. Pearce &lt;spearce@spearce.org&gt;
 * Copyright (C) 2009, Henon &lt;meinrad.recheis@gmail.com&gt;
 * Copyrigth (C) 2010, Andrew Cooper &lt;andymancooper@gmail.com&gt;
 *
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or
 * without modification, are permitted provided that the following
 * conditions are met:
 *
 * - Redistributions of source code must retain the above copyright
 *   notice, this list of conditions and the following disclaimer.
 *
 * - Redistributions in binary form must reproduce the above
 *   copyright notice, this list of conditions and the following
 *   disclaimer in the documentation and/or other materials provided
 *   with the distribution.
 *
 * - Neither the name of the Git Development Community nor the
 *   names of its contributors may be used to endorse or promote
 *   products derived from this software without specific prior
 *   written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
 * CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */</span>


<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">Exceptions</span>;
<b>using</b> <span class="i n">NDesk</span>.<span class="i n">Options</span>;

<span class="c">// [henon] ported from org.spearce.jgit.pgm\src\org\spearce\jgit\pgm</span>
<b>namespace</b> <span class="i n">GitSharp</span>.<span class="i n">CLI</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Command line entry point.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="3ba1e575311a2bbd" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="fd1188bb27c7774f">Program</span></a>
    {
        <b>private static</b> <a href="CmdParserOptionSet.cs.html#1dcad5ce03641787" class="t t">CmdParserOptionSet</a> <a id="9eabda372548dfb3" href="R/9eabda372548dfb3.html" target="n" data-glyph="46,1" class="i field">options</a>;

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Display the stack trace on exceptions</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private static bool</b> <a id="61db71aff9152139" href="R/61db71aff9152139.html" target="n" data-glyph="46,1" class="i field">showStackTrace</a>;

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private static</b> <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="t t">String</a>&gt; <a id="25e9b64aac712beb" href="R/25e9b64aac712beb.html" target="n" data-glyph="46,1" class="i field">arguments</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="t t">String</a>&gt;();

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load the parser options and </span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">args</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>public static void</b> <a id="c0c104ca693fb928" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Main</a>(<b>string</b>[] <span id="r0 rd" class="r0 r">args</span>)
        {
            <a href="#9eabda372548dfb3" class="i field">options</a> = <b>new</b> <a href="CmdParserOptionSet.cs.html#1dcad5ce03641787" class="t constructor">CmdParserOptionSet</a>()
            {
                { <span class="s">&quot;complete&quot;</span>, <span class="s">&quot;display the complete commands&quot;</span>, <span id="r1 rd" class="r1 r">v</span> =&gt; <a href="#5ef2d8653ce34544" class="i method">ShowComplete</a>() },    

                { <span class="s">&quot;help|h&quot;</span>, <span class="s">&quot;display this help text&quot;</span>, <span id="r2 rd" class="r2 r">v</span> =&gt; <a href="#53f6e9d2ec1ea8f3" class="i method">ShowHelp</a>() },
                { <span class="s">&quot;incomplete&quot;</span>, <span class="s">&quot;display the incomplete commands&quot;</span>, <span id="r3 rd" class="r3 r">v</span> =&gt; <a href="#eb680a07848e696c" class="i method">ShowIncomplete</a>() },
                { <span class="s">&quot;show-stack-trace&quot;</span>, <span class="s">&quot;display the C# stack trace on exceptions&quot;</span>, <span id="r4 rd" class="r4 r">v</span> =&gt; <a href="#61db71aff9152139" class="i field">showStackTrace</a>=<b>true</b> },
                { <span class="s">&quot;version&quot;</span>, <span class="s">&quot;&quot;</span>, <span id="r5 rd" class="r5 r">v</span> =&gt; <a href="#b1591ac3aa39fd57" class="i method">ShowVersion</a>() },
                { <span class="s">&quot;git-dir&quot;</span>, <span class="s">&quot;&quot;</span>, <span id="r6 rd" class="r6 r">v</span> =&gt; <a href="#060f86b6dccfa2aa" class="i method">NoOp</a>()},
            };
            <b>try</b>
            {
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">ported</span>
<span class="e">                //AwtAuthenticator.install();
                //HttpSupport.configureHttpProxy();
</span><span class="k preprocess">#</span><span class="k preprocess">endif</span>
                <a href="#41f5775ed82c6bf3" class="i method">execute</a>(<span class="r0 r">args</span>);
            }
            <b>catch</b> (<a href="Die.cs.html#139d83e20ac0cdd5" class="t t">Die</a> <span id="r7 rd" class="r7 r">err</span>)
            {
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7c403e083a0bb390" class="i property">Error</a>.<a href="@0@mscorlib/A.html#5238cceaebfeaa74" class="i method">WriteLine</a>(<span class="s">&quot;fatal: &quot;</span> + <span class="r7 r">err</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>);
                <b>if</b> (<a href="#61db71aff9152139" class="i field">showStackTrace</a>)
                    <span class="r7 r">err</span>.<a href="/GitSharp.Core/A.html#56b0ee88765b35b5" class="i method">printStackTrace</a>();
                <a href="#63743e15deb1c802" class="i method">Exit</a>(128);
            }
            <b>catch</b> (<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r8 rd" class="r8 r">err</span>)
            {
                <b>if</b> (!<a href="#61db71aff9152139" class="i field">showStackTrace</a> &amp;&amp; <span class="r8 r">err</span>.<a href="@0@mscorlib/A.html#89c20b39fb04108b" class="i property">InnerException</a> != <b>null</b>
                        &amp;&amp; <span class="r8 r">err</span> <b>is</b> <a href="/GitSharp.Core/A.html#83170fd3ac9ca72d" class="t t">TransportException</a>)
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7c403e083a0bb390" class="i property">Error</a>.<a href="@0@mscorlib/A.html#5238cceaebfeaa74" class="i method">WriteLine</a>(<span class="s">&quot;fatal: &quot;</span> + <span class="r8 r">err</span>.<a href="@0@mscorlib/A.html#89c20b39fb04108b" class="i property">InnerException</a>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>);

                <b>if</b> (<span class="r8 r">err</span>.<a href="@0@mscorlib/A.html#cf7a3679f8b67db4" class="i method">GetType</a>().<a href="@0@mscorlib/A.html#aa4f112f79364b6e" class="i property">Name</a>.<a href="@0@mscorlib/A.html#23804789ea4c9c0e" class="i method">StartsWith</a>(<span class="s">&quot;GitSharp.Exceptions.&quot;</span>))
                {
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7c403e083a0bb390" class="i property">Error</a>.<a href="@0@mscorlib/A.html#5238cceaebfeaa74" class="i method">WriteLine</a>(<span class="s">&quot;fatal: &quot;</span> + <span class="r8 r">err</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>);
                    <b>if</b> (<a href="#61db71aff9152139" class="i field">showStackTrace</a>)
                        <span class="r8 r">err</span>.<a href="/GitSharp.Core/A.html#56b0ee88765b35b5" class="i method">printStackTrace</a>();
                    <a href="#63743e15deb1c802" class="i method">Exit</a>(128);
                }
                <span class="r8 r">err</span>.<a href="/GitSharp.Core/A.html#56b0ee88765b35b5" class="i method">printStackTrace</a>();
                <a href="#63743e15deb1c802" class="i method">Exit</a>(1);
            }

        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Execute the command line</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r9 r">argv</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>private static void</b> <a id="41f5775ed82c6bf3" href="R/41f5775ed82c6bf3.html" target="n" data-glyph="76,1" class="i method">execute</a>(<b>string</b>[] <span id="r9 rd" class="r9 r">argv</span>)
        {
            <b>if</b> (<span class="r9 r">argv</span>.<a href="@0@System.Core/A.html#41ef9e39e54d0d0b" class="i method">Count</a>() == 0)
            {
                <a href="#53f6e9d2ec1ea8f3" class="i method">ShowHelp</a>();
            }
            <b>else if</b> (!<span class="r9 r">argv</span>[0].<a href="@0@mscorlib/A.html#23804789ea4c9c0e" class="i method">StartsWith</a>(<span class="s">&quot;--&quot;</span>) &amp;&amp; !<span class="r9 r">argv</span>[0].<a href="@0@mscorlib/A.html#23804789ea4c9c0e" class="i method">StartsWith</a>(<span class="s">&quot;-&quot;</span>))
            {

                <a href="CommandCatalog.cs.html#f4d20271404a1b71" class="t t">CommandCatalog</a> <span id="r10 rd" class="r10 r">catalog</span> = <b>new</b> <a href="CommandCatalog.cs.html#f1f4ff2d767b9774" class="t constructor">CommandCatalog</a>();
                <a href="CommandRef.cs.html#de922a093f350b99" class="t t">CommandRef</a> <span id="r11 rd" class="r11 r">subcommand</span> = <span class="r10 r">catalog</span>.<a href="CommandCatalog.cs.html#1723804378ceae07" class="i method">Get</a>(<span class="r9 r">argv</span>[0]);
                <b>string</b> <span id="r12 rd" class="r12 r">gitdir</span> = <b>null</b>;

                <b>if</b> (<span class="r11 r">subcommand</span> != <b>null</b>)
                {
                    <a href="TextBuiltin.cs.html#d1cc02d31f7e37d1" class="t t">TextBuiltin</a> <span id="r13 rd" class="r13 r">cmd</span> = <span class="r11 r">subcommand</span>.<a href="CommandRef.cs.html#c83a6b4399abdcf4" class="i method">Create</a>();
                    <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="t t">String</a>&gt; <span id="r14 rd" class="r14 r">args</span> = <span class="r9 r">argv</span>.<a href="@0@System.Core/A.html#e276d6892241255b" class="i method">ToList</a>();
                    <span class="i n">GitSharp</span>.<a href="/GitSharp/A.html#88d32bb614749450" class="t t">Repository</a> <span id="r15 rd" class="r15 r">repo</span> = <b>null</b>;

                    <b>try</b>
                    {
                        <b>for</b> (<b>int</b> <span id="r16 rd" class="r16 r">x</span> = 0; <span class="r16 r">x</span> &lt; <span class="r14 r">args</span>.<a href="@0@mscorlib/A.html#78a69d857716bc68" class="i property">Count</a>; <span class="r16 r">x</span>++)
                        {
                            <b>if</b> (<span class="r14 r">args</span><a href="@0@mscorlib/A.html#0c65bec4d3fac21e">[</a><span class="r16 r">x</span>].<a href="@0@mscorlib/A.html#cf9e6bfe83442551" class="i method">IndexOf</a>(<span class="s">&quot;--git-dir=&quot;</span>) &gt; -1)
                            {
                                <b>if</b> (<span class="r14 r">args</span><a href="@0@mscorlib/A.html#0c65bec4d3fac21e">[</a><span class="r16 r">x</span>].<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> &gt; 10)
                                {
                                    <span class="r12 r">gitdir</span> = <span class="r14 r">args</span><a href="@0@mscorlib/A.html#0c65bec4d3fac21e">[</a><span class="r16 r">x</span>].<a href="@0@mscorlib/A.html#882fa7998d6ca35a" class="i method">Substring</a>(10);
                                    <span class="r14 r">args</span>.<a href="@0@mscorlib/A.html#3d46113cc199059a" class="i method">RemoveAt</a>(<span class="r16 r">x</span>);
                                    <b>break</b>;
                                }
                            }
                        }
                    }
                    <b>catch</b> (<a href="@0@mscorlib/A.html#109b3ef6299ef9df" class="t t">ArgumentException</a>)
                    {
                        <b>if</b> (<a href="/GitSharp/A.html#f16451cd1e981797" class="t t">Git</a>.<a href="/GitSharp/A.html#6a88960a31501fab" class="i property">DefaultOutputStream</a> != <b>null</b>)
                        {
                            <a href="/GitSharp/A.html#f16451cd1e981797" class="t t">Git</a>.<a href="/GitSharp/A.html#6a88960a31501fab" class="i property">DefaultOutputStream</a>.<a href="@0@mscorlib/A.html#5238cceaebfeaa74" class="i method">WriteLine</a>(<span class="s">&quot;error: can&#39;t find git directory&quot;</span>);
                            <a href="/GitSharp/A.html#f16451cd1e981797" class="t t">Git</a>.<a href="/GitSharp/A.html#6a88960a31501fab" class="i property">DefaultOutputStream</a>.<a href="@0@mscorlib/A.html#4d8cd91791f0d47c" class="i method">Flush</a>();
                        }
                        <a href="#63743e15deb1c802" class="i method">Exit</a>(1);
                    }

                    <b>if</b> (<span class="r13 r">cmd</span>.<a href="TextBuiltin.cs.html#ed2ea955b3377e36" class="i property">RequiresRepository</a>)
                    {
                        <b>if</b> (<span class="r12 r">gitdir</span> == <b>null</b>)
                        {
                            <span class="r12 r">gitdir</span> = <span class="i n">Commands</span>.<a href="/GitSharp/A.html#196b37e416d43265" class="t t">AbstractCommand</a>.<a href="/GitSharp/A.html#bcd2d72a1c6f338a" class="i method">FindGitDirectory</a>(<b>null</b>, <b>true</b>, <b>false</b>);
                            <b>if</b> (<span class="r12 r">gitdir</span> == <b>null</b>)
                            {
                                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7c403e083a0bb390" class="i property">Error</a>.<a href="@0@mscorlib/A.html#5238cceaebfeaa74" class="i method">WriteLine</a>(<span class="s">&quot;fatal: Not a git repository (or any of the parent directories): .git&quot;</span>);
                                <a href="#63743e15deb1c802" class="i method">Exit</a>(0);
                            }
                        }

                        <span class="r15 r">repo</span> = <b>new</b> <span class="i n">GitSharp</span>.<a href="/GitSharp/A.html#71ac264decd52f9d" class="t constructor">Repository</a>(<span class="r12 r">gitdir</span>);
                        <span class="r13 r">cmd</span>.<a href="TextBuiltin.cs.html#deafe990879ef7c3" class="i method">Init</a>(<span class="r15 r">repo</span>, <span class="r12 r">gitdir</span>);
                    }
                    <b>else</b>
                        <span class="r13 r">cmd</span>.<a href="TextBuiltin.cs.html#deafe990879ef7c3" class="i method">Init</a>(<b>null</b>, <span class="r12 r">gitdir</span>);

                    <b>try</b>
                    {
                        <span class="c">// Remove the subcommand from the command line</span>
                        <span class="r14 r">args</span>.<a href="@0@mscorlib/A.html#3d46113cc199059a" class="i method">RemoveAt</a>(0);
                        <span class="r13 r">cmd</span>.<a href="TextBuiltin.cs.html#40e80a91bdb1d851" class="i method">Execute</a>(<span class="r14 r">args</span>.<a href="@0@mscorlib/A.html#d4409b7542728cec" class="i method">ToArray</a>());
                    }
                    <b>finally</b>
                    {
                        <b>if</b> (<a href="/GitSharp/A.html#f16451cd1e981797" class="t t">Git</a>.<a href="/GitSharp/A.html#6a88960a31501fab" class="i property">DefaultOutputStream</a> != <b>null</b>)
                            <a href="/GitSharp/A.html#f16451cd1e981797" class="t t">Git</a>.<a href="/GitSharp/A.html#6a88960a31501fab" class="i property">DefaultOutputStream</a>.<a href="@0@mscorlib/A.html#4d8cd91791f0d47c" class="i method">Flush</a>();

                        <b>if</b> (<span class="r15 r">repo</span> != <b>null</b>)
                            <span class="r15 r">repo</span>.<a href="/GitSharp/A.html#df4b1c0689724ff3" class="i method">Close</a>();
                    }
                }
                <b>else</b>
                {
                    <span class="c">// List all available commands starting with argv[0] if the command</span>
                    <span class="c">// specified does not exist.</span>
                    <span class="c">// If no commands exist starting with argv[0], show the help screen.</span>
                    <b>if</b> (!<a href="#2e4dd0cb6e0cb257" class="i method">ShowCommandMatches</a>(<span class="r9 r">argv</span>[0]))
                        <a href="#53f6e9d2ec1ea8f3" class="i method">ShowHelp</a>();
                }
            }
            <b>else</b>
            {
                <span class="c">// If the first argument in the command line is an option (denoted by starting with - or --), </span>
                <span class="c">// no subcommand has been specified in the command line.</span>
                <b>try</b>
                {
                    <a href="#9eabda372548dfb3" class="i field">options</a>.<a href="Options.cs.html#4bacca20137f0ba0" class="i method">Parse</a>(<span class="r9 r">argv</span>, <b>out</b> <a href="#25e9b64aac712beb" class="i field">arguments</a>);
                }
                <b>catch</b> (<a href="Options.cs.html#bf9ec50e6245f785" class="t t">OptionException</a> <span id="r17 rd" class="r17 r">err</span>)
                {
                    <b>if</b> (<a href="#25e9b64aac712beb" class="i field">arguments</a>.<a href="@0@mscorlib/A.html#78a69d857716bc68" class="i property">Count</a> &gt; 0)
                    {
                        <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7c403e083a0bb390" class="i property">Error</a>.<a href="@0@mscorlib/A.html#5238cceaebfeaa74" class="i method">WriteLine</a>(<span class="s">&quot;fatal: &quot;</span> + <span class="r17 r">err</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>);
                        <a href="#63743e15deb1c802" class="i method">Exit</a>(1);
                    }
                }
            }
            <a href="#63743e15deb1c802" class="i method">Exit</a>(0);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Display the main offline help screen.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private static void</b> <a id="53f6e9d2ec1ea8f3" href="R/53f6e9d2ec1ea8f3.html" target="n" data-glyph="76,1" class="i method">ShowHelp</a>()
        {
            <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="s">&quot;usage: git &quot;</span>);
            <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<b>string</b>.<a href="@0@mscorlib/A.html#881354baa56fc358" class="i method">Join</a>(<span class="s">&quot; &quot;</span>, <a href="#9eabda372548dfb3" class="i field">options</a>.<a href="@0@System.Core/A.html#5c652c53e80df013" class="i method">Select</a>(<span id="r18 rd" class="r18 r">o</span> =&gt; <span class="s">&quot;[--&quot;</span> + <b>string</b>.<a href="@0@mscorlib/A.html#881354baa56fc358" class="i method">Join</a>(<span class="s">&quot;|-&quot;</span>, <span class="r18 r">o</span>.<a href="Options.cs.html#9bb9a4f66b58e4db" class="i property">Names</a>) + <span class="s">&quot;]&quot;</span>).<a href="@0@System.Core/A.html#783a052330e7d48d" class="i method">ToArray</a>()));
            <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">&quot;\nCOMMAND [ARGS]\n\nThe most commonly used git commands are:&quot;</span>);
            <a href="#9eabda372548dfb3" class="i field">options</a>.<a href="Options.cs.html#5da9b74c431673f5" class="i method">WriteOptionDescriptions</a>(<a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7c403e083a0bb390" class="i property">Error</a>);
            <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#748bde83a8b838d8" class="i method">WriteLine</a>();

            <a href="CommandCatalog.cs.html#f4d20271404a1b71" class="t t">CommandCatalog</a> <span id="r19 rd" class="r19 r">catalog</span> = <b>new</b> <a href="CommandCatalog.cs.html#f1f4ff2d767b9774" class="t constructor">CommandCatalog</a>();
            <b>foreach</b> (<a href="CommandRef.cs.html#de922a093f350b99" class="t t">CommandRef</a> <span id="r20 rd" class="r20 r">c</span> <b>in</b> <span class="r19 r">catalog</span>.<a href="CommandCatalog.cs.html#e1f8d512d9ba98fe" class="i method">Common</a>())
            {
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="s">&quot;      &quot;</span>);
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="r20 r">c</span>.<a href="CommandRef.cs.html#8abbe14b349f75ca" class="i method">getName</a>());
                <b>for</b> (<b>int</b> <span id="r21 rd" class="r21 r">i</span> = <span class="r20 r">c</span>.<a href="CommandRef.cs.html#8abbe14b349f75ca" class="i method">getName</a>().<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> + 8; <span class="r21 r">i</span> &lt; 31; <span class="r21 r">i</span>++)
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="s">&quot; &quot;</span>);
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="r20 r">c</span>.<a href="CommandRef.cs.html#8eb1c0fef983d600" class="i method">getUsage</a>());
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#748bde83a8b838d8" class="i method">WriteLine</a>();
            }
            <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7c403e083a0bb390" class="i property">Error</a>.<a href="@0@mscorlib/A.html#d2497198aa8f74c0" class="i method">WriteLine</a>();
            <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7c403e083a0bb390" class="i property">Error</a>.<a href="@0@mscorlib/A.html#d3fb8ea93246e9a9" class="i method">Write</a>(<span class="s">@&quot;See &#39;git help COMMAND&#39; for more information on a specific command.&quot;</span>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Implementation of --version</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private static void</b> <a id="b1591ac3aa39fd57" href="R/b1591ac3aa39fd57.html" target="n" data-glyph="76,1" class="i method">ShowVersion</a>()
        {
            <a href="Commands/Version.cs.html#09679b6d3949b7e7" class="k">var</a> <span id="r22 rd" class="r22 r">version_command</span> = <b>new</b> <span class="i n">GitSharp</span>.<span class="i n">CLI</span>.<span class="i n">Nonstandard</span>.<a href="Commands/Version.cs.html#09679b6d3949b7e7" class="t constructor">Version</a>();
            <span class="r22 r">version_command</span>.<a href="TextBuiltin.cs.html#deafe990879ef7c3" class="i method">Init</a>(<b>null</b>, <b>null</b>);
            <span class="r22 r">version_command</span>.<a href="TextBuiltin.cs.html#40e80a91bdb1d851" class="i method">Execute</a>(<b>new</b> <b>string</b>[0]);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Display the incomplete commands in GitSharp. Primarily for development use.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private static void</b> <a id="eb680a07848e696c" href="R/eb680a07848e696c.html" target="n" data-glyph="76,1" class="i method">ShowIncomplete</a>()
        {
            <a href="CommandCatalog.cs.html#f4d20271404a1b71" class="t t">CommandCatalog</a> <span id="r23 rd" class="r23 r">catalog</span> = <b>new</b> <a href="CommandCatalog.cs.html#f1f4ff2d767b9774" class="t constructor">CommandCatalog</a>();
            <b>foreach</b> (<a href="CommandRef.cs.html#de922a093f350b99" class="t t">CommandRef</a> <span id="r24 rd" class="r24 r">c</span> <b>in</b> <span class="r23 r">catalog</span>.<a href="CommandCatalog.cs.html#1bbb9747f3c0ebba" class="i method">Incomplete</a>())
            {
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="s">&quot;      &quot;</span>);
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="r24 r">c</span>.<a href="CommandRef.cs.html#8abbe14b349f75ca" class="i method">getName</a>());
                <b>for</b> (<b>int</b> <span id="r25 rd" class="r25 r">i</span> = <span class="r24 r">c</span>.<a href="CommandRef.cs.html#8abbe14b349f75ca" class="i method">getName</a>().<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> + 8; <span class="r25 r">i</span> &lt; 31; <span class="r25 r">i</span>++)
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="s">&quot; &quot;</span>);
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="r24 r">c</span>.<a href="CommandRef.cs.html#8eb1c0fef983d600" class="i method">getUsage</a>());
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#748bde83a8b838d8" class="i method">WriteLine</a>();
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Display the complete commands in GitSharp.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private static void</b> <a id="5ef2d8653ce34544" href="R/5ef2d8653ce34544.html" target="n" data-glyph="76,1" class="i method">ShowComplete</a>()
        {
            <a href="CommandCatalog.cs.html#f4d20271404a1b71" class="t t">CommandCatalog</a> <span id="r26 rd" class="r26 r">catalog</span> = <b>new</b> <a href="CommandCatalog.cs.html#f1f4ff2d767b9774" class="t constructor">CommandCatalog</a>();
            <b>foreach</b> (<a href="CommandRef.cs.html#de922a093f350b99" class="t t">CommandRef</a> <span id="r27 rd" class="r27 r">c</span> <b>in</b> <span class="r26 r">catalog</span>.<a href="CommandCatalog.cs.html#6087f4bae5f0026b" class="i method">Complete</a>())
            {
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="s">&quot;      &quot;</span>);
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="r27 r">c</span>.<a href="CommandRef.cs.html#8abbe14b349f75ca" class="i method">getName</a>());
                <b>for</b> (<b>int</b> <span id="r28 rd" class="r28 r">i</span> = <span class="r27 r">c</span>.<a href="CommandRef.cs.html#8abbe14b349f75ca" class="i method">getName</a>().<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> + 8; <span class="r28 r">i</span> &lt; 31; <span class="r28 r">i</span>++)
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="s">&quot; &quot;</span>);
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="r27 r">c</span>.<a href="CommandRef.cs.html#8eb1c0fef983d600" class="i method">getUsage</a>());
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#748bde83a8b838d8" class="i method">WriteLine</a>();
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Display the commands that start with the specified string.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r29 r">s</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">Returns true if matches exist, otherwise false.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>private static bool</b> <a id="2e4dd0cb6e0cb257" href="R/2e4dd0cb6e0cb257.html" target="n" data-glyph="76,1" class="i method">ShowCommandMatches</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="t t">String</a> <span id="r29 rd" class="r29 r">s</span>)
        {
            <a href="CommandCatalog.cs.html#f4d20271404a1b71" class="t t">CommandCatalog</a> <span id="r30 rd" class="r30 r">catalog</span> = <b>new</b> <a href="CommandCatalog.cs.html#f1f4ff2d767b9774" class="t constructor">CommandCatalog</a>();
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="CommandRef.cs.html#de922a093f350b99" class="t t">CommandRef</a>&gt; <span id="r31 rd" class="r31 r">matches</span> = <span class="r30 r">catalog</span>.<a href="CommandCatalog.cs.html#4dbaf5d557591990" class="i method">StartsWith</a>(<span class="r29 r">s</span>);
            <b>if</b> (<span class="r31 r">matches</span>.<a href="@0@mscorlib/A.html#78a69d857716bc68" class="i property">Count</a> &gt; 0)
            {
                <b>foreach</b> (<a href="CommandRef.cs.html#de922a093f350b99" class="t t">CommandRef</a> <span id="r32 rd" class="r32 r">c</span> <b>in</b> <span class="r31 r">matches</span>)
                {
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">&quot;git: &#39;&quot;</span> + <span class="r29 r">s</span> + <span class="s">&quot;&#39; is not a git command. See &#39;git --help&#39;.&quot;</span>);
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#748bde83a8b838d8" class="i method">WriteLine</a>();
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">&quot;Did you mean this?&quot;</span>);
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="s">&quot;      &quot;</span>);
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="r32 r">c</span>.<a href="CommandRef.cs.html#8abbe14b349f75ca" class="i method">getName</a>());
                    <b>for</b> (<b>int</b> <span id="r33 rd" class="r33 r">i</span> = <span class="r32 r">c</span>.<a href="CommandRef.cs.html#8abbe14b349f75ca" class="i method">getName</a>().<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> + 8; <span class="r33 r">i</span> &lt; 31; <span class="r33 r">i</span>++)
                        <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="s">&quot; &quot;</span>);
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7f651102bd2b5927" class="i method">Write</a>(<span class="r32 r">c</span>.<a href="CommandRef.cs.html#8eb1c0fef983d600" class="i method">getUsage</a>());
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#748bde83a8b838d8" class="i method">WriteLine</a>();
                }
                <b>return true</b>;
            }
            <b>else</b>
            {
                <b>return false</b>;
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Wait for Enter key if in DEBUG mode</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r34 r">exit_code</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>static public void</b> <a id="63743e15deb1c802" href="R/63743e15deb1c802.html" target="n" data-glyph="72,1" class="i method">Exit</a>(<b>int</b> <span id="r34 rd" class="r34 r">exit_code</span>)
        {
            <span class="c">//Close the static global repository before exiting</span>
            <b>if</b> (<a href="/GitSharp/A.html#f16451cd1e981797" class="t t">Git</a>.<a href="/GitSharp/A.html#d6079c81784b19fe" class="i property">DefaultRepository</a> != <b>null</b>)
                <a href="/GitSharp/A.html#f16451cd1e981797" class="t t">Git</a>.<a href="/GitSharp/A.html#d6079c81784b19fe" class="i property">DefaultRepository</a>.<a href="/GitSharp/A.html#df4b1c0689724ff3" class="i method">Close</a>();

<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">DEBUG</span>
            <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">&quot;\n\nrunning in DEBUG mode, press any key to exit.&quot;</span>);
            <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#b43a20e3d81a7216" class="i property">In</a>.<a href="@0@mscorlib/A.html#91b2c7adbdc4b165" class="i method">ReadLine</a>();
<span class="k preprocess">#</span><span class="k preprocess">endif</span>
            <a href="@0@mscorlib/A.html#7d2f1469d916fc63" class="t t">Environment</a>.<a href="@0@mscorlib/A.html#29badb00f4fb6ca0" class="i method">Exit</a>(<span class="r34 r">exit_code</span>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Placeholder for the --git-dir command-line option. It is handled before it reaches this method.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>static private void</b> <a id="060f86b6dccfa2aa" href="R/060f86b6dccfa2aa.html" target="n" data-glyph="76,1" class="i method">NoOp</a>()
        {
        }

    }

}
</pre></td></tr></table></div></body></html>
