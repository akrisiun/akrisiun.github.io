<!DOCTYPE html>
<html><head><title>InfBlocks.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(847);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#NSch/NSch.ZLib/InfBlocks.cs" target="_top">NSch.ZLib\InfBlocks.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#NSch" target="_top">lib\NGit\NSch\NSch.csproj</a> (NSch)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">/*
Copyright (c) 2000,2001,2002,2003 ymnk, JCraft,Inc. All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

  1. Redistributions of source code must retain the above copyright notice,
     this list of conditions and the following disclaimer.

  2. Redistributions in binary form must reproduce the above copyright 
     notice, this list of conditions and the following disclaimer in 
     the documentation and/or other materials provided with the distribution.

  3. The names of the authors may not be used to endorse or promote products
     derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED ``AS IS&#39;&#39; AND ANY EXPRESSED OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

This program is based on zlib-1.1.3, so all credit should go authors
Jean-loup Gailly(jloup@gzip.org) and Mark Adler(madler@alumni.caltech.edu)
and contributors of zlib.
*/</span>

<b>using</b> <span class="i n">NSch</span>.<span class="i n">ZLib</span>;
<b>using</b> <span class="i n">Sharpen</span>;

<b>namespace</b> <span class="i n">NSch</span>.<span class="i n">ZLib</span>
{
	<b>internal sealed class</b> <a id="e7130a772740f028" href="../R/e7130a772740f028.html" target="n" data-glyph="2,0" class="t t">InfBlocks</a>
	{
		<b>private const int</b> <a id="12e4b4ef434ea96a" href="../R/12e4b4ef434ea96a.html" target="n" data-glyph="10,1" class="i field">MANY</a> = 1440;

		<b>private static readonly int</b>[] <a id="9b47f9382d3de299" href="../R/9b47f9382d3de299.html" target="n" data-glyph="46,1" class="i field">inflate_mask</a> = <b>new</b> <b>int</b>[] { <b>unchecked</b>((<b>int</b>)(0x00000000
			)), <b>unchecked</b>((<b>int</b>)(0x00000001)), <b>unchecked</b>((<b>int</b>)(0x00000003)), <b>unchecked</b>((<b>int</b>)(
			0x00000007)), <b>unchecked</b>((<b>int</b>)(0x0000000f)), <b>unchecked</b>((<b>int</b>)(0x0000001f)), <b>unchecked</b>(
			(<b>int</b>)(0x0000003f)), <b>unchecked</b>((<b>int</b>)(0x0000007f)), <b>unchecked</b>((<b>int</b>)(0x000000ff)), 
			<b>unchecked</b>((<b>int</b>)(0x000001ff)), <b>unchecked</b>((<b>int</b>)(0x000003ff)), <b>unchecked</b>((<b>int</b>)(0x000007ff
			)), <b>unchecked</b>((<b>int</b>)(0x00000fff)), <b>unchecked</b>((<b>int</b>)(0x00001fff)), <b>unchecked</b>((<b>int</b>)(
			0x00003fff)), <b>unchecked</b>((<b>int</b>)(0x00007fff)), <b>unchecked</b>((<b>int</b>)(0x0000ffff)) };

		<b>internal static readonly int</b>[] <a id="d992d625c7f2d834" href="../R/d992d625c7f2d834.html" target="n" data-glyph="44,1" class="i field">border</a> = <b>new</b> <b>int</b>[] { 16, 17, 18, 0, 8, 7, 9, 6, 10
			, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 };

		<b>private const int</b> <a id="60ec231587fe8e57" href="../R/60ec231587fe8e57.html" target="n" data-glyph="10,1" class="i field">Z_OK</a> = 0;

		<b>private const int</b> <a id="385170e758bba540" href="../R/385170e758bba540.html" target="n" data-glyph="10,1" class="i field">Z_STREAM_END</a> = 1;

		<b>private const int</b> <a id="9403439b03c3fb98" href="../R/../../0000000000.html" target="n" data-glyph="10,1" class="i field">Z_NEED_DICT</a> = 2;

		<b>private const int</b> <a id="f800210fc4baae27" href="../R/../../0000000000.html" target="n" data-glyph="10,1" class="i field">Z_ERRNO</a> = -1;

		<b>private const int</b> <a id="0bf0f8b29c521710" href="../R/0bf0f8b29c521710.html" target="n" data-glyph="10,1" class="i field">Z_STREAM_ERROR</a> = -2;

		<b>private const int</b> <a id="acf9e9c40ad2ff02" href="../R/acf9e9c40ad2ff02.html" target="n" data-glyph="10,1" class="i field">Z_DATA_ERROR</a> = -3;

		<b>private const int</b> <a id="f30807d2c7a73f66" href="../R/../../0000000000.html" target="n" data-glyph="10,1" class="i field">Z_MEM_ERROR</a> = -4;

		<b>private const int</b> <a id="05c043d84b1b54d0" href="../R/05c043d84b1b54d0.html" target="n" data-glyph="10,1" class="i field">Z_BUF_ERROR</a> = -5;

		<b>private const int</b> <a id="e4d77e43590667f7" href="../R/../../0000000000.html" target="n" data-glyph="10,1" class="i field">Z_VERSION_ERROR</a> = -6;

		<b>private const int</b> <a id="e0e8fb92af0d3cef" href="../R/e0e8fb92af0d3cef.html" target="n" data-glyph="10,1" class="i field">TYPE</a> = 0;

		<b>private const int</b> <a id="d47fce72c8f93ed1" href="../R/d47fce72c8f93ed1.html" target="n" data-glyph="10,1" class="i field">LENS</a> = 1;

		<b>private const int</b> <a id="48e81a593661b4d1" href="../R/48e81a593661b4d1.html" target="n" data-glyph="10,1" class="i field">STORED</a> = 2;

		<b>private const int</b> <a id="57655e90e86259f0" href="../R/57655e90e86259f0.html" target="n" data-glyph="10,1" class="i field">TABLE</a> = 3;

		<b>private const int</b> <a id="9ff8676357067c75" href="../R/9ff8676357067c75.html" target="n" data-glyph="10,1" class="i field">BTREE</a> = 4;

		<b>private const int</b> <a id="64292f57b6b01262" href="../R/64292f57b6b01262.html" target="n" data-glyph="10,1" class="i field">DTREE</a> = 5;

		<b>private const int</b> <a id="ff57688e1f428381" href="../R/ff57688e1f428381.html" target="n" data-glyph="10,1" class="i field">CODES</a> = 6;

		<b>private const int</b> <a id="c9eaff9076ab5d0e" href="../R/c9eaff9076ab5d0e.html" target="n" data-glyph="10,1" class="i field">DRY</a> = 7;

		<b>private const int</b> <a id="7314ba64c0e602e9" href="../R/7314ba64c0e602e9.html" target="n" data-glyph="10,1" class="i field">DONE</a> = 8;

		<b>private const int</b> <a id="9ef5a3bce74f6037" href="../R/9ef5a3bce74f6037.html" target="n" data-glyph="10,1" class="i field">BAD</a> = 9;

		<b>internal int</b> <a id="476a92c2477c18ac" href="../R/476a92c2477c18ac.html" target="n" data-glyph="44,1" class="i field">mode</a>;

		<b>internal int</b> <a id="b635c8135ab8d5cb" href="../R/b635c8135ab8d5cb.html" target="n" data-glyph="44,1" class="i field">left</a>;

		<b>internal int</b> <a id="f9b999a2d6275264" href="../R/f9b999a2d6275264.html" target="n" data-glyph="44,1" class="i field">table</a>;

		<b>internal int</b> <a id="c91ddcca69ae93d3" href="../R/c91ddcca69ae93d3.html" target="n" data-glyph="44,1" class="i field">index</a>;

		<b>internal int</b>[] <a id="507e353180a2c228" href="../R/507e353180a2c228.html" target="n" data-glyph="44,1" class="i field">blens</a>;

		<b>internal int</b>[] <a id="94855f11d6530fd3" href="../R/94855f11d6530fd3.html" target="n" data-glyph="44,1" class="i field">bb</a> = <b>new</b> <b>int</b>[1];

		<b>internal int</b>[] <a id="0765a66b0ffb04bc" href="../R/0765a66b0ffb04bc.html" target="n" data-glyph="44,1" class="i field">tb</a> = <b>new</b> <b>int</b>[1];

		<b>internal</b> <a href="InfCodes.cs.html#c3213fd1413c543a" class="t t">InfCodes</a> <a id="192fb23910e232c7" href="../R/192fb23910e232c7.html" target="n" data-glyph="44,1" class="i field">codes</a> = <b>new</b> <a href="InfCodes.cs.html#98612812c22d9f39" class="t constructor">InfCodes</a>();

		<b>internal int</b> <a id="10b473a713dbb194" href="../R/10b473a713dbb194.html" target="n" data-glyph="44,1" class="i field">last</a>;

		<b>internal int</b> <a id="9b8ddfdbaa9d93af" href="../R/9b8ddfdbaa9d93af.html" target="n" data-glyph="44,1" class="i field">bitk</a>;

		<b>internal int</b> <a id="4552ac0052c4e46f" href="../R/4552ac0052c4e46f.html" target="n" data-glyph="44,1" class="i field">bitb</a>;

		<b>internal int</b>[] <a id="388e7c51045fd45f" href="../R/388e7c51045fd45f.html" target="n" data-glyph="44,1" class="i field">hufts</a>;

		<b>internal byte</b>[] <a id="c430e1cb7f680c8d" href="../R/c430e1cb7f680c8d.html" target="n" data-glyph="44,1" class="i field">window</a>;

		<b>internal int</b> <a id="644e6059ae8f39cb" href="../R/644e6059ae8f39cb.html" target="n" data-glyph="44,1" class="i field">end</a>;

		<b>internal int</b> <a id="4951f0b9caa3dde3" href="../R/4951f0b9caa3dde3.html" target="n" data-glyph="44,1" class="i field">read</a>;

		<b>internal int</b> <a id="5bce480d14e3afaa" href="../R/5bce480d14e3afaa.html" target="n" data-glyph="44,1" class="i field">write</a>;

		<b>internal object</b> <a id="6bc1b44c002e2445" href="../R/6bc1b44c002e2445.html" target="n" data-glyph="44,1" class="i field">checkfn</a>;

		<b>internal long</b> <a id="0d9c3aeba6dc8bd5" href="../R/0d9c3aeba6dc8bd5.html" target="n" data-glyph="44,1" class="i field">check</a>;

		<b>internal</b> <a href="InfTree.cs.html#37a5078aafba1520" class="t t">InfTree</a> <a id="b0530defd4950eb9" href="../R/b0530defd4950eb9.html" target="n" data-glyph="44,1" class="i field">inftree</a> = <b>new</b> <a href="InfTree.cs.html#37a5078aafba1520" class="t constructor">InfTree</a>();

		<b>internal</b> <a id="a804f85cbc1ae48d" href="../R/a804f85cbc1ae48d.html" target="n" data-glyph="74,1" class="i constructor">InfBlocks</a>(<a href="ZStream.cs.html#d2b19bd05b9e75af" class="t t">ZStream</a> <span id="r0 rd" class="r0 r">z</span>, <b>object</b> <span id="r1 rd" class="r1 r">checkfn</span>, <b>int</b> <span id="r2 rd" class="r2 r">w</span>)
		{
			<span class="c">// And&#39;ing with mask[n] masks the lower n bits</span>
			<span class="c">// Table for deflate from PKZIP&#39;s appnote.txt.</span>
			<span class="c">// Order of the bit length code lengths</span>
			<span class="c">// get type bits (3, including end bit)</span>
			<span class="c">// get lengths for stored</span>
			<span class="c">// processing stored block</span>
			<span class="c">// get table lengths</span>
			<span class="c">// get bit lengths tree for a dynamic block</span>
			<span class="c">// get length, distance trees for a dynamic block</span>
			<span class="c">// processing fixed or dynamic block</span>
			<span class="c">// output remaining window bytes</span>
			<span class="c">// finished last block, done</span>
			<span class="c">// ot a data error--stuck here</span>
			<span class="c">// current inflate_block mode </span>
			<span class="c">// if STORED, bytes left to copy </span>
			<span class="c">// table lengths (14 bits) </span>
			<span class="c">// index into blens (or border) </span>
			<span class="c">// bit lengths of codes </span>
			<span class="c">// bit length tree depth </span>
			<span class="c">// bit length decoding tree </span>
			<span class="c">// if CODES, current state </span>
			<span class="c">// true if this block is the last block </span>
			<span class="c">// mode independent information </span>
			<span class="c">// bits in bit buffer </span>
			<span class="c">// bit buffer </span>
			<span class="c">// single malloc for tree space </span>
			<span class="c">// sliding window </span>
			<span class="c">// one byte after sliding window </span>
			<span class="c">// window read pointer </span>
			<span class="c">// window write pointer </span>
			<span class="c">// check function </span>
			<span class="c">// check on output </span>
			<a href="#388e7c51045fd45f" class="i field">hufts</a> = <b>new</b> <b>int</b>[<a href="#12e4b4ef434ea96a" class="i field">MANY</a> * 3];
			<a href="#c430e1cb7f680c8d" class="i field">window</a> = <b>new</b> <b>byte</b>[<span class="r2 r">w</span>];
			<a href="#644e6059ae8f39cb" class="i field">end</a> = <span class="r2 r">w</span>;
			<a href="#e7130a772740f028" class="k">this</a>.<a href="#6bc1b44c002e2445" class="i field">checkfn</a> = <span class="r1 r">checkfn</span>;
			<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#e0e8fb92af0d3cef" class="i field">TYPE</a>;
			<a href="#c09d9d5e7246f22e" class="i method">Reset</a>(<span class="r0 r">z</span>, <b>null</b>);
		}

		<b>internal void</b> <a id="c09d9d5e7246f22e" href="../R/c09d9d5e7246f22e.html" target="n" data-glyph="74,1" class="i method">Reset</a>(<a href="ZStream.cs.html#d2b19bd05b9e75af" class="t t">ZStream</a> <span id="r3 rd" class="r3 r">z</span>, <b>long</b>[] <span id="r4 rd" class="r4 r">c</span>)
		{
			<b>if</b> (<span class="r4 r">c</span> != <b>null</b>)
			{
				<span class="r4 r">c</span>[0] = <a href="#0d9c3aeba6dc8bd5" class="i field">check</a>;
			}
			<b>if</b> (<a href="#476a92c2477c18ac" class="i field">mode</a> == <a href="#9ff8676357067c75" class="i field">BTREE</a> || <a href="#476a92c2477c18ac" class="i field">mode</a> == <a href="#64292f57b6b01262" class="i field">DTREE</a>)
			{
			}
			<b>if</b> (<a href="#476a92c2477c18ac" class="i field">mode</a> == <a href="#ff57688e1f428381" class="i field">CODES</a>)
			{
				<a href="#192fb23910e232c7" class="i field">codes</a>.<a href="InfCodes.cs.html#fc9af321855b71e9" class="i method">Free</a>(<span class="r3 r">z</span>);
			}
			<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#e0e8fb92af0d3cef" class="i field">TYPE</a>;
			<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = 0;
			<a href="#4552ac0052c4e46f" class="i field">bitb</a> = 0;
			<a href="#4951f0b9caa3dde3" class="i field">read</a> = <a href="#5bce480d14e3afaa" class="i field">write</a> = 0;
			<b>if</b> (<a href="#6bc1b44c002e2445" class="i field">checkfn</a> != <b>null</b>)
			{
				<span class="r3 r">z</span>.<a href="ZStream.cs.html#54c8d72ec39aac51" class="i field">adler</a> = <a href="#0d9c3aeba6dc8bd5" class="i field">check</a> = <span class="r3 r">z</span>.<a href="ZStream.cs.html#5f0289fb90ae540d" class="i field">_adler</a>.<a href="Adler32.cs.html#7fa9b9ad6d717656" class="i method">Adler</a>(0L, <b>null</b>, 0, 0);
			}
		}

		<b>internal int</b> <a id="94b5e5336fb54851" href="../R/94b5e5336fb54851.html" target="n" data-glyph="74,1" class="i method">Proc</a>(<a href="ZStream.cs.html#d2b19bd05b9e75af" class="t t">ZStream</a> <span id="r5 rd" class="r5 r">z</span>, <b>int</b> <span id="r6 rd" class="r6 r">r</span>)
		{
			<b>int</b> <span id="r7 rd" class="r7 r">t</span>;
			<span class="c">// temporary storage</span>
			<b>int</b> <span id="r8 rd" class="r8 r">b</span>;
			<span class="c">// bit buffer</span>
			<b>int</b> <span id="r9 rd" class="r9 r">k</span>;
			<span class="c">// bits in bit buffer</span>
			<b>int</b> <span id="r10 rd" class="r10 r">p</span>;
			<span class="c">// input data pointer</span>
			<b>int</b> <span id="r11 rd" class="r11 r">n</span>;
			<span class="c">// bytes available there</span>
			<b>int</b> <span id="r12 rd" class="r12 r">q</span>;
			<span class="c">// output window write pointer</span>
			<b>int</b> <span id="r13 rd" class="r13 r">m</span>;
			{
				<span class="c">// bytes to end of window or read pointer</span>
				<span class="c">// copy input/output information to locals (UPDATE macro restores)</span>
				<span class="r10 r">p</span> = <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
				<span class="r11 r">n</span> = <span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a>;
				<span class="r8 r">b</span> = <a href="#4552ac0052c4e46f" class="i field">bitb</a>;
				<span class="r9 r">k</span> = <a href="#9b8ddfdbaa9d93af" class="i field">bitk</a>;
			}
			{
				<span class="r12 r">q</span> = <a href="#5bce480d14e3afaa" class="i field">write</a>;
				<span class="r13 r">m</span> = (<b>int</b>)(<span class="r12 r">q</span> &lt; <a href="#4951f0b9caa3dde3" class="i field">read</a> ? <a href="#4951f0b9caa3dde3" class="i field">read</a> - <span class="r12 r">q</span> - 1 : <a href="#644e6059ae8f39cb" class="i field">end</a> - <span class="r12 r">q</span>);
			}
			<span class="c">// process input based on current state</span>
			<b>while</b> (<b>true</b>)
			{
				<b>switch</b> (<a href="#476a92c2477c18ac" class="i field">mode</a>)
				{
					<b>case</b> <a href="#e0e8fb92af0d3cef" class="i field">TYPE</a>:
					{
						<b>while</b> (<span class="r9 r">k</span> &lt; (3))
						{
							<b>if</b> (<span class="r11 r">n</span> != 0)
							{
								<span class="r6 r">r</span> = <a href="#60ec231587fe8e57" class="i field">Z_OK</a>;
							}
							<b>else</b>
							{
								<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
								<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
								<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
								<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
								<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
								<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
								<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
							}
							<span class="r11 r">n</span>--;
							<span class="r8 r">b</span> |= (<span class="r5 r">z</span>.<a href="ZStream.cs.html#4369f207df005701" class="i field">next_in</a>[<span class="r10 r">p</span>++] &amp; <b>unchecked</b>((<b>int</b>)(0xff))) &lt;&lt; <span class="r9 r">k</span>;
							<span class="r9 r">k</span> += 8;
						}
						<span class="r7 r">t</span> = (<b>int</b>)(<span class="r8 r">b</span> &amp; 7);
						<a href="#10b473a713dbb194" class="i field">last</a> = <span class="r7 r">t</span> &amp; 1;
						<b>switch</b> ((<b>int</b>)(((<b>uint</b>)<span class="r7 r">t</span>) &gt;&gt; 1))
						{
							<b>case</b> 0:
							{
								<span class="c">// stored </span>
								<span class="r8 r">b</span> = (<b>int</b>)(((<b>uint</b>)<span class="r8 r">b</span>) &gt;&gt; (3));
								<span class="r9 r">k</span> -= (3);
								<span class="r7 r">t</span> = <span class="r9 r">k</span> &amp; 7;
								<span class="c">// go to byte boundary</span>
								<span class="r8 r">b</span> = (<b>int</b>)(((<b>uint</b>)<span class="r8 r">b</span>) &gt;&gt; (<span class="r7 r">t</span>));
								<span class="r9 r">k</span> -= (<span class="r7 r">t</span>);
								<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#d47fce72c8f93ed1" class="i field">LENS</a>;
								<span class="c">// get length of stored block</span>
								<b>break</b>;
							}

							<b>case</b> 1:
							{
								<span class="c">// fixed</span>
								<b>int</b>[] <span id="r14 rd" class="r14 r">bl</span> = <b>new</b> <b>int</b>[1];
								<b>int</b>[] <span id="r15 rd" class="r15 r">bd</span> = <b>new</b> <b>int</b>[1];
								<b>int</b>[][] <span id="r16 rd" class="r16 r">tl</span> = <b>new</b> <b>int</b>[1][];
								<b>int</b>[][] <span id="r17 rd" class="r17 r">td</span> = <b>new</b> <b>int</b>[1][];
								<a href="InfTree.cs.html#37a5078aafba1520" class="t t">InfTree</a>.<a href="InfTree.cs.html#b0bc54e19042b67b" class="i method">Inflate_trees_fixed</a>(<span class="r14 r">bl</span>, <span class="r15 r">bd</span>, <span class="r16 r">tl</span>, <span class="r17 r">td</span>, <span class="r5 r">z</span>);
								<a href="#192fb23910e232c7" class="i field">codes</a>.<a href="InfCodes.cs.html#badaffde1c4d1e5d" class="i method">Init</a>(<span class="r14 r">bl</span>[0], <span class="r15 r">bd</span>[0], <span class="r16 r">tl</span>[0], 0, <span class="r17 r">td</span>[0], 0, <span class="r5 r">z</span>);
								<span class="r8 r">b</span> = (<b>int</b>)(((<b>uint</b>)<span class="r8 r">b</span>) &gt;&gt; (3));
								<span class="r9 r">k</span> -= (3);
								<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#ff57688e1f428381" class="i field">CODES</a>;
								<b>break</b>;
							}

							<b>case</b> 2:
							{
								<span class="c">// dynamic</span>
								<span class="r8 r">b</span> = (<b>int</b>)(((<b>uint</b>)<span class="r8 r">b</span>) &gt;&gt; (3));
								<span class="r9 r">k</span> -= (3);
								<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#57655e90e86259f0" class="i field">TABLE</a>;
								<b>break</b>;
							}

							<b>case</b> 3:
							{
								<span class="c">// illegal</span>
								<span class="r8 r">b</span> = (<b>int</b>)(((<b>uint</b>)<span class="r8 r">b</span>) &gt;&gt; (3));
								<span class="r9 r">k</span> -= (3);
								<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#9ef5a3bce74f6037" class="i field">BAD</a>;
								<span class="r5 r">z</span>.<a href="ZStream.cs.html#1375722af7f7b471" class="i field">msg</a> = <span class="s">&quot;invalid block type&quot;</span>;
								<span class="r6 r">r</span> = <a href="#acf9e9c40ad2ff02" class="i field">Z_DATA_ERROR</a>;
								<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
								<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
								<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
								<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
								<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
								<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
								<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
							}
						}
						<b>break</b>;
					}

					<b>case</b> <a href="#d47fce72c8f93ed1" class="i field">LENS</a>:
					{
						<b>while</b> (<span class="r9 r">k</span> &lt; (32))
						{
							<b>if</b> (<span class="r11 r">n</span> != 0)
							{
								<span class="r6 r">r</span> = <a href="#60ec231587fe8e57" class="i field">Z_OK</a>;
							}
							<b>else</b>
							{
								<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
								<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
								<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
								<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
								<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
								<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
								<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
							}
							<span class="r11 r">n</span>--;
							<span class="r8 r">b</span> |= (<span class="r5 r">z</span>.<a href="ZStream.cs.html#4369f207df005701" class="i field">next_in</a>[<span class="r10 r">p</span>++] &amp; <b>unchecked</b>((<b>int</b>)(0xff))) &lt;&lt; <span class="r9 r">k</span>;
							<span class="r9 r">k</span> += 8;
						}
						<b>if</b> ((((<b>int</b>)(((<b>uint</b>)(~<span class="r8 r">b</span>)) &gt;&gt; 16)) &amp; <b>unchecked</b>((<b>int</b>)(0xffff))) != (<span class="r8 r">b</span> &amp; <b>unchecked</b>((<b>int</b>
							)(0xffff))))
						{
							<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#9ef5a3bce74f6037" class="i field">BAD</a>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#1375722af7f7b471" class="i field">msg</a> = <span class="s">&quot;invalid stored block lengths&quot;</span>;
							<span class="r6 r">r</span> = <a href="#acf9e9c40ad2ff02" class="i field">Z_DATA_ERROR</a>;
							<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
							<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
							<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
							<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
						}
						<a href="#b635c8135ab8d5cb" class="i field">left</a> = (<span class="r8 r">b</span> &amp; <b>unchecked</b>((<b>int</b>)(0xffff)));
						<span class="r8 r">b</span> = <span class="r9 r">k</span> = 0;
						<span class="c">// dump bits</span>
						<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#b635c8135ab8d5cb" class="i field">left</a> != 0 ? <a href="#48e81a593661b4d1" class="i field">STORED</a> : (<a href="#10b473a713dbb194" class="i field">last</a> != 0 ? <a href="#c9eaff9076ab5d0e" class="i field">DRY</a> : <a href="#e0e8fb92af0d3cef" class="i field">TYPE</a>);
						<b>break</b>;
					}

					<b>case</b> <a href="#48e81a593661b4d1" class="i field">STORED</a>:
					{
						<b>if</b> (<span class="r11 r">n</span> == 0)
						{
							<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
							<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
							<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
							<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
						}
						<b>if</b> (<span class="r13 r">m</span> == 0)
						{
							<b>if</b> (<span class="r12 r">q</span> == <a href="#644e6059ae8f39cb" class="i field">end</a> &amp;&amp; <a href="#4951f0b9caa3dde3" class="i field">read</a> != 0)
							{
								<span class="r12 r">q</span> = 0;
								<span class="r13 r">m</span> = (<b>int</b>)(<span class="r12 r">q</span> &lt; <a href="#4951f0b9caa3dde3" class="i field">read</a> ? <a href="#4951f0b9caa3dde3" class="i field">read</a> - <span class="r12 r">q</span> - 1 : <a href="#644e6059ae8f39cb" class="i field">end</a> - <span class="r12 r">q</span>);
							}
							<b>if</b> (<span class="r13 r">m</span> == 0)
							{
								<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
								<span class="r6 r">r</span> = <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
								<span class="r12 r">q</span> = <a href="#5bce480d14e3afaa" class="i field">write</a>;
								<span class="r13 r">m</span> = (<b>int</b>)(<span class="r12 r">q</span> &lt; <a href="#4951f0b9caa3dde3" class="i field">read</a> ? <a href="#4951f0b9caa3dde3" class="i field">read</a> - <span class="r12 r">q</span> - 1 : <a href="#644e6059ae8f39cb" class="i field">end</a> - <span class="r12 r">q</span>);
								<b>if</b> (<span class="r12 r">q</span> == <a href="#644e6059ae8f39cb" class="i field">end</a> &amp;&amp; <a href="#4951f0b9caa3dde3" class="i field">read</a> != 0)
								{
									<span class="r12 r">q</span> = 0;
									<span class="r13 r">m</span> = (<b>int</b>)(<span class="r12 r">q</span> &lt; <a href="#4951f0b9caa3dde3" class="i field">read</a> ? <a href="#4951f0b9caa3dde3" class="i field">read</a> - <span class="r12 r">q</span> - 1 : <a href="#644e6059ae8f39cb" class="i field">end</a> - <span class="r12 r">q</span>);
								}
								<b>if</b> (<span class="r13 r">m</span> == 0)
								{
									<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
									<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
									<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
									<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
									<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
									<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
									<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
								}
							}
						}
						<span class="r6 r">r</span> = <a href="#60ec231587fe8e57" class="i field">Z_OK</a>;
						<span class="r7 r">t</span> = <a href="#b635c8135ab8d5cb" class="i field">left</a>;
						<b>if</b> (<span class="r7 r">t</span> &gt; <span class="r11 r">n</span>)
						{
							<span class="r7 r">t</span> = <span class="r11 r">n</span>;
						}
						<b>if</b> (<span class="r7 r">t</span> &gt; <span class="r13 r">m</span>)
						{
							<span class="r7 r">t</span> = <span class="r13 r">m</span>;
						}
						<span class="i n">System</span>.<a href="@0@mscorlib/A.html#156e066ecc4ccedf" class="t t">Array</a>.<a href="@0@mscorlib/A.html#7441c6721593042c" class="i method">Copy</a>(<span class="r5 r">z</span>.<a href="ZStream.cs.html#4369f207df005701" class="i field">next_in</a>, <span class="r10 r">p</span>, <a href="#c430e1cb7f680c8d" class="i field">window</a>, <span class="r12 r">q</span>, <span class="r7 r">t</span>);
						<span class="r10 r">p</span> += <span class="r7 r">t</span>;
						<span class="r11 r">n</span> -= <span class="r7 r">t</span>;
						<span class="r12 r">q</span> += <span class="r7 r">t</span>;
						<span class="r13 r">m</span> -= <span class="r7 r">t</span>;
						<b>if</b> ((<a href="#b635c8135ab8d5cb" class="i field">left</a> -= <span class="r7 r">t</span>) != 0)
						{
							<b>break</b>;
						}
						<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#10b473a713dbb194" class="i field">last</a> != 0 ? <a href="#c9eaff9076ab5d0e" class="i field">DRY</a> : <a href="#e0e8fb92af0d3cef" class="i field">TYPE</a>;
						<b>break</b>;
					}

					<b>case</b> <a href="#57655e90e86259f0" class="i field">TABLE</a>:
					{
						<b>while</b> (<span class="r9 r">k</span> &lt; (14))
						{
							<b>if</b> (<span class="r11 r">n</span> != 0)
							{
								<span class="r6 r">r</span> = <a href="#60ec231587fe8e57" class="i field">Z_OK</a>;
							}
							<b>else</b>
							{
								<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
								<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
								<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
								<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
								<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
								<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
								<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
							}
							<span class="r11 r">n</span>--;
							<span class="r8 r">b</span> |= (<span class="r5 r">z</span>.<a href="ZStream.cs.html#4369f207df005701" class="i field">next_in</a>[<span class="r10 r">p</span>++] &amp; <b>unchecked</b>((<b>int</b>)(0xff))) &lt;&lt; <span class="r9 r">k</span>;
							<span class="r9 r">k</span> += 8;
						}
						<a href="#f9b999a2d6275264" class="i field">table</a> = <span class="r7 r">t</span> = (<span class="r8 r">b</span> &amp; <b>unchecked</b>((<b>int</b>)(0x3fff)));
						<b>if</b> ((<span class="r7 r">t</span> &amp; <b>unchecked</b>((<b>int</b>)(0x1f))) &gt; 29 || ((<span class="r7 r">t</span> &gt;&gt; 5) &amp; <b>unchecked</b>((<b>int</b>)(0x1f))) &gt; 29)
						{
							<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#9ef5a3bce74f6037" class="i field">BAD</a>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#1375722af7f7b471" class="i field">msg</a> = <span class="s">&quot;too many length or distance symbols&quot;</span>;
							<span class="r6 r">r</span> = <a href="#acf9e9c40ad2ff02" class="i field">Z_DATA_ERROR</a>;
							<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
							<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
							<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
							<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
						}
						<span class="r7 r">t</span> = 258 + (<span class="r7 r">t</span> &amp; <b>unchecked</b>((<b>int</b>)(0x1f))) + ((<span class="r7 r">t</span> &gt;&gt; 5) &amp; <b>unchecked</b>((<b>int</b>)(0x1f)));
						<b>if</b> (<a href="#507e353180a2c228" class="i field">blens</a> == <b>null</b> || <a href="#507e353180a2c228" class="i field">blens</a>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> &lt; <span class="r7 r">t</span>)
						{
							<a href="#507e353180a2c228" class="i field">blens</a> = <b>new</b> <b>int</b>[<span class="r7 r">t</span>];
						}
						<b>else</b>
						{
							<b>for</b> (<b>int</b> <span id="r18 rd" class="r18 r">i</span> = 0; <span class="r18 r">i</span> &lt; <span class="r7 r">t</span>; <span class="r18 r">i</span>++)
							{
								<a href="#507e353180a2c228" class="i field">blens</a>[<span class="r18 r">i</span>] = 0;
							}
						}
						<span class="r8 r">b</span> = (<b>int</b>)(((<b>uint</b>)<span class="r8 r">b</span>) &gt;&gt; (14));
						<span class="r9 r">k</span> -= (14);
						<a href="#c91ddcca69ae93d3" class="i field">index</a> = 0;
						<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#9ff8676357067c75" class="i field">BTREE</a>;
						<b>goto case</b> <a href="#9ff8676357067c75" class="i field">BTREE</a>;
					}

					<b>case</b> <a href="#9ff8676357067c75" class="i field">BTREE</a>:
					{
						<b>while</b> (<a href="#c91ddcca69ae93d3" class="i field">index</a> &lt; 4 + ((<b>int</b>)(((<b>uint</b>)<a href="#f9b999a2d6275264" class="i field">table</a>) &gt;&gt; 10)))
						{
							<b>while</b> (<span class="r9 r">k</span> &lt; (3))
							{
								<b>if</b> (<span class="r11 r">n</span> != 0)
								{
									<span class="r6 r">r</span> = <a href="#60ec231587fe8e57" class="i field">Z_OK</a>;
								}
								<b>else</b>
								{
									<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
									<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
									<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
									<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
									<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
									<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
									<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
								}
								<span class="r11 r">n</span>--;
								<span class="r8 r">b</span> |= (<span class="r5 r">z</span>.<a href="ZStream.cs.html#4369f207df005701" class="i field">next_in</a>[<span class="r10 r">p</span>++] &amp; <b>unchecked</b>((<b>int</b>)(0xff))) &lt;&lt; <span class="r9 r">k</span>;
								<span class="r9 r">k</span> += 8;
							}
							<a href="#507e353180a2c228" class="i field">blens</a>[<a href="#d992d625c7f2d834" class="i field">border</a>[<a href="#c91ddcca69ae93d3" class="i field">index</a>++]] = <span class="r8 r">b</span> &amp; 7;
							{
								<span class="r8 r">b</span> = (<b>int</b>)(((<b>uint</b>)<span class="r8 r">b</span>) &gt;&gt; (3));
								<span class="r9 r">k</span> -= (3);
							}
						}
						<b>while</b> (<a href="#c91ddcca69ae93d3" class="i field">index</a> &lt; 19)
						{
							<a href="#507e353180a2c228" class="i field">blens</a>[<a href="#d992d625c7f2d834" class="i field">border</a>[<a href="#c91ddcca69ae93d3" class="i field">index</a>++]] = 0;
						}
						<a href="#94855f11d6530fd3" class="i field">bb</a>[0] = 7;
						<span class="r7 r">t</span> = <a href="#b0530defd4950eb9" class="i field">inftree</a>.<a href="InfTree.cs.html#b39c912f11b12e0b" class="i method">Inflate_trees_bits</a>(<a href="#507e353180a2c228" class="i field">blens</a>, <a href="#94855f11d6530fd3" class="i field">bb</a>, <a href="#0765a66b0ffb04bc" class="i field">tb</a>, <a href="#388e7c51045fd45f" class="i field">hufts</a>, <span class="r5 r">z</span>);
						<b>if</b> (<span class="r7 r">t</span> != <a href="#60ec231587fe8e57" class="i field">Z_OK</a>)
						{
							<span class="r6 r">r</span> = <span class="r7 r">t</span>;
							<b>if</b> (<span class="r6 r">r</span> == <a href="#acf9e9c40ad2ff02" class="i field">Z_DATA_ERROR</a>)
							{
								<a href="#507e353180a2c228" class="i field">blens</a> = <b>null</b>;
								<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#9ef5a3bce74f6037" class="i field">BAD</a>;
							}
							<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
							<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
							<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
							<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
						}
						<a href="#c91ddcca69ae93d3" class="i field">index</a> = 0;
						<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#64292f57b6b01262" class="i field">DTREE</a>;
						<b>goto case</b> <a href="#64292f57b6b01262" class="i field">DTREE</a>;
					}

					<b>case</b> <a href="#64292f57b6b01262" class="i field">DTREE</a>:
					{
						<b>while</b> (<b>true</b>)
						{
							<span class="r7 r">t</span> = <a href="#f9b999a2d6275264" class="i field">table</a>;
							<b>if</b> (!(<a href="#c91ddcca69ae93d3" class="i field">index</a> &lt; 258 + (<span class="r7 r">t</span> &amp; <b>unchecked</b>((<b>int</b>)(0x1f))) + ((<span class="r7 r">t</span> &gt;&gt; 5) &amp; <b>unchecked</b>((<b>int</b>)(0x1f
								)))))
							{
								<b>break</b>;
							}
							<b>int</b>[] <span id="r19 rd" class="r19 r">h</span>;
							<b>int</b> <span id="r20 rd" class="r20 r">i</span>;
							<b>int</b> <span id="r21 rd" class="r21 r">j</span>;
							<b>int</b> <span id="r22 rd" class="r22 r">c</span>;
							<span class="r7 r">t</span> = <a href="#94855f11d6530fd3" class="i field">bb</a>[0];
							<b>while</b> (<span class="r9 r">k</span> &lt; (<span class="r7 r">t</span>))
							{
								<b>if</b> (<span class="r11 r">n</span> != 0)
								{
									<span class="r6 r">r</span> = <a href="#60ec231587fe8e57" class="i field">Z_OK</a>;
								}
								<b>else</b>
								{
									<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
									<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
									<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
									<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
									<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
									<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
									<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
								}
								<span class="r11 r">n</span>--;
								<span class="r8 r">b</span> |= (<span class="r5 r">z</span>.<a href="ZStream.cs.html#4369f207df005701" class="i field">next_in</a>[<span class="r10 r">p</span>++] &amp; <b>unchecked</b>((<b>int</b>)(0xff))) &lt;&lt; <span class="r9 r">k</span>;
								<span class="r9 r">k</span> += 8;
							}
							<b>if</b> (<a href="#0765a66b0ffb04bc" class="i field">tb</a>[0] == -1)
							{
							}
							<span class="c">//System.err.println(&quot;null...&quot;);</span>
							<span class="r7 r">t</span> = <a href="#388e7c51045fd45f" class="i field">hufts</a>[(<a href="#0765a66b0ffb04bc" class="i field">tb</a>[0] + (<span class="r8 r">b</span> &amp; <a href="#9b47f9382d3de299" class="i field">inflate_mask</a>[<span class="r7 r">t</span>])) * 3 + 1];
							<span class="r22 r">c</span> = <a href="#388e7c51045fd45f" class="i field">hufts</a>[(<a href="#0765a66b0ffb04bc" class="i field">tb</a>[0] + (<span class="r8 r">b</span> &amp; <a href="#9b47f9382d3de299" class="i field">inflate_mask</a>[<span class="r7 r">t</span>])) * 3 + 2];
							<b>if</b> (<span class="r22 r">c</span> &lt; 16)
							{
								<span class="r8 r">b</span> = (<b>int</b>)(((<b>uint</b>)<span class="r8 r">b</span>) &gt;&gt; (<span class="r7 r">t</span>));
								<span class="r9 r">k</span> -= (<span class="r7 r">t</span>);
								<a href="#507e353180a2c228" class="i field">blens</a>[<a href="#c91ddcca69ae93d3" class="i field">index</a>++] = <span class="r22 r">c</span>;
							}
							<b>else</b>
							{
								<span class="c">// c == 16..18</span>
								<span class="r20 r">i</span> = <span class="r22 r">c</span> == 18 ? 7 : <span class="r22 r">c</span> - 14;
								<span class="r21 r">j</span> = <span class="r22 r">c</span> == 18 ? 11 : 3;
								<b>while</b> (<span class="r9 r">k</span> &lt; (<span class="r7 r">t</span> + <span class="r20 r">i</span>))
								{
									<b>if</b> (<span class="r11 r">n</span> != 0)
									{
										<span class="r6 r">r</span> = <a href="#60ec231587fe8e57" class="i field">Z_OK</a>;
									}
									<b>else</b>
									{
										<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
										<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
										<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
										<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
										<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
										<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
										<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
									}
									<span class="r11 r">n</span>--;
									<span class="r8 r">b</span> |= (<span class="r5 r">z</span>.<a href="ZStream.cs.html#4369f207df005701" class="i field">next_in</a>[<span class="r10 r">p</span>++] &amp; <b>unchecked</b>((<b>int</b>)(0xff))) &lt;&lt; <span class="r9 r">k</span>;
									<span class="r9 r">k</span> += 8;
								}
								<span class="r8 r">b</span> = (<b>int</b>)(((<b>uint</b>)<span class="r8 r">b</span>) &gt;&gt; (<span class="r7 r">t</span>));
								<span class="r9 r">k</span> -= (<span class="r7 r">t</span>);
								<span class="r21 r">j</span> += (<span class="r8 r">b</span> &amp; <a href="#9b47f9382d3de299" class="i field">inflate_mask</a>[<span class="r20 r">i</span>]);
								<span class="r8 r">b</span> = (<b>int</b>)(((<b>uint</b>)<span class="r8 r">b</span>) &gt;&gt; (<span class="r20 r">i</span>));
								<span class="r9 r">k</span> -= (<span class="r20 r">i</span>);
								<span class="r20 r">i</span> = <a href="#c91ddcca69ae93d3" class="i field">index</a>;
								<span class="r7 r">t</span> = <a href="#f9b999a2d6275264" class="i field">table</a>;
								<b>if</b> (<span class="r20 r">i</span> + <span class="r21 r">j</span> &gt; 258 + (<span class="r7 r">t</span> &amp; <b>unchecked</b>((<b>int</b>)(0x1f))) + ((<span class="r7 r">t</span> &gt;&gt; 5) &amp; <b>unchecked</b>((<b>int</b>)(0x1f
									))) || (<span class="r22 r">c</span> == 16 &amp;&amp; <span class="r20 r">i</span> &lt; 1))
								{
									<a href="#507e353180a2c228" class="i field">blens</a> = <b>null</b>;
									<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#9ef5a3bce74f6037" class="i field">BAD</a>;
									<span class="r5 r">z</span>.<a href="ZStream.cs.html#1375722af7f7b471" class="i field">msg</a> = <span class="s">&quot;invalid bit length repeat&quot;</span>;
									<span class="r6 r">r</span> = <a href="#acf9e9c40ad2ff02" class="i field">Z_DATA_ERROR</a>;
									<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
									<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
									<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
									<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
									<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
									<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
									<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
								}
								<span class="r22 r">c</span> = <span class="r22 r">c</span> == 16 ? <a href="#507e353180a2c228" class="i field">blens</a>[<span class="r20 r">i</span> - 1] : 0;
								<b>do</b>
								{
									<a href="#507e353180a2c228" class="i field">blens</a>[<span class="r20 r">i</span>++] = <span class="r22 r">c</span>;
								}
								<b>while</b> (--<span class="r21 r">j</span> != 0);
								<a href="#c91ddcca69ae93d3" class="i field">index</a> = <span class="r20 r">i</span>;
							}
						}
						<a href="#0765a66b0ffb04bc" class="i field">tb</a>[0] = -1;
						<b>int</b>[] <span id="r23 rd" class="r23 r">bl</span> = <b>new</b> <b>int</b>[1];
						<b>int</b>[] <span id="r24 rd" class="r24 r">bd</span> = <b>new</b> <b>int</b>[1];
						<b>int</b>[] <span id="r25 rd" class="r25 r">tl</span> = <b>new</b> <b>int</b>[1];
						<b>int</b>[] <span id="r26 rd" class="r26 r">td</span> = <b>new</b> <b>int</b>[1];
						<span class="r23 r">bl</span>[0] = 9;
						<span class="c">// must be &lt;= 9 for lookahead assumptions</span>
						<span class="r24 r">bd</span>[0] = 6;
						<span class="c">// must be &lt;= 9 for lookahead assumptions</span>
						<span class="r7 r">t</span> = <a href="#f9b999a2d6275264" class="i field">table</a>;
						<span class="r7 r">t</span> = <a href="#b0530defd4950eb9" class="i field">inftree</a>.<a href="InfTree.cs.html#3dd0877c02ba5243" class="i method">Inflate_trees_dynamic</a>(257 + (<span class="r7 r">t</span> &amp; <b>unchecked</b>((<b>int</b>)(0x1f))), 1 + ((<span class="r7 r">t</span> &gt;&gt; 
							5) &amp; <b>unchecked</b>((<b>int</b>)(0x1f))), <a href="#507e353180a2c228" class="i field">blens</a>, <span class="r23 r">bl</span>, <span class="r24 r">bd</span>, <span class="r25 r">tl</span>, <span class="r26 r">td</span>, <a href="#388e7c51045fd45f" class="i field">hufts</a>, <span class="r5 r">z</span>);
						<b>if</b> (<span class="r7 r">t</span> != <a href="#60ec231587fe8e57" class="i field">Z_OK</a>)
						{
							<b>if</b> (<span class="r7 r">t</span> == <a href="#acf9e9c40ad2ff02" class="i field">Z_DATA_ERROR</a>)
							{
								<a href="#507e353180a2c228" class="i field">blens</a> = <b>null</b>;
								<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#9ef5a3bce74f6037" class="i field">BAD</a>;
							}
							<span class="r6 r">r</span> = <span class="r7 r">t</span>;
							<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
							<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
							<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
							<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
						}
						<a href="#192fb23910e232c7" class="i field">codes</a>.<a href="InfCodes.cs.html#badaffde1c4d1e5d" class="i method">Init</a>(<span class="r23 r">bl</span>[0], <span class="r24 r">bd</span>[0], <a href="#388e7c51045fd45f" class="i field">hufts</a>, <span class="r25 r">tl</span>[0], <a href="#388e7c51045fd45f" class="i field">hufts</a>, <span class="r26 r">td</span>[0], <span class="r5 r">z</span>);
						<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#ff57688e1f428381" class="i field">CODES</a>;
						<b>goto case</b> <a href="#ff57688e1f428381" class="i field">CODES</a>;
					}

					<b>case</b> <a href="#ff57688e1f428381" class="i field">CODES</a>:
					{
						<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
						<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
						<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
						<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
						<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
						<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
						<b>if</b> ((<span class="r6 r">r</span> = <a href="#192fb23910e232c7" class="i field">codes</a>.<a href="InfCodes.cs.html#f8980d369a818eda" class="i method">Proc</a>(<a href="#e7130a772740f028" class="k">this</a>, <span class="r5 r">z</span>, <span class="r6 r">r</span>)) != <a href="#385170e758bba540" class="i field">Z_STREAM_END</a>)
						{
							<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
						}
						<span class="r6 r">r</span> = <a href="#60ec231587fe8e57" class="i field">Z_OK</a>;
						<a href="#192fb23910e232c7" class="i field">codes</a>.<a href="InfCodes.cs.html#fc9af321855b71e9" class="i method">Free</a>(<span class="r5 r">z</span>);
						<span class="r10 r">p</span> = <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
						<span class="r11 r">n</span> = <span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a>;
						<span class="r8 r">b</span> = <a href="#4552ac0052c4e46f" class="i field">bitb</a>;
						<span class="r9 r">k</span> = <a href="#9b8ddfdbaa9d93af" class="i field">bitk</a>;
						<span class="r12 r">q</span> = <a href="#5bce480d14e3afaa" class="i field">write</a>;
						<span class="r13 r">m</span> = (<b>int</b>)(<span class="r12 r">q</span> &lt; <a href="#4951f0b9caa3dde3" class="i field">read</a> ? <a href="#4951f0b9caa3dde3" class="i field">read</a> - <span class="r12 r">q</span> - 1 : <a href="#644e6059ae8f39cb" class="i field">end</a> - <span class="r12 r">q</span>);
						<b>if</b> (<a href="#10b473a713dbb194" class="i field">last</a> == 0)
						{
							<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#e0e8fb92af0d3cef" class="i field">TYPE</a>;
							<b>break</b>;
						}
						<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#c9eaff9076ab5d0e" class="i field">DRY</a>;
						<b>goto case</b> <a href="#c9eaff9076ab5d0e" class="i field">DRY</a>;
					}

					<b>case</b> <a href="#c9eaff9076ab5d0e" class="i field">DRY</a>:
					{
						<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
						<span class="r6 r">r</span> = <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
						<span class="r12 r">q</span> = <a href="#5bce480d14e3afaa" class="i field">write</a>;
						<span class="r13 r">m</span> = (<b>int</b>)(<span class="r12 r">q</span> &lt; <a href="#4951f0b9caa3dde3" class="i field">read</a> ? <a href="#4951f0b9caa3dde3" class="i field">read</a> - <span class="r12 r">q</span> - 1 : <a href="#644e6059ae8f39cb" class="i field">end</a> - <span class="r12 r">q</span>);
						<b>if</b> (<a href="#4951f0b9caa3dde3" class="i field">read</a> != <a href="#5bce480d14e3afaa" class="i field">write</a>)
						{
							<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
							<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
							<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
							<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
							<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
						}
						<a href="#476a92c2477c18ac" class="i field">mode</a> = <a href="#7314ba64c0e602e9" class="i field">DONE</a>;
						<b>goto case</b> <a href="#7314ba64c0e602e9" class="i field">DONE</a>;
					}

					<b>case</b> <a href="#7314ba64c0e602e9" class="i field">DONE</a>:
					{
						<span class="r6 r">r</span> = <a href="#385170e758bba540" class="i field">Z_STREAM_END</a>;
						<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
						<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
						<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
						<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
						<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
						<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
						<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
					}

					<b>case</b> <a href="#9ef5a3bce74f6037" class="i field">BAD</a>:
					{
						<span class="r6 r">r</span> = <a href="#acf9e9c40ad2ff02" class="i field">Z_DATA_ERROR</a>;
						<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
						<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
						<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
						<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
						<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
						<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
						<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
					}

					<b>default</b>:
					{
						<span class="r6 r">r</span> = <a href="#0bf0f8b29c521710" class="i field">Z_STREAM_ERROR</a>;
						<a href="#4552ac0052c4e46f" class="i field">bitb</a> = <span class="r8 r">b</span>;
						<a href="#9b8ddfdbaa9d93af" class="i field">bitk</a> = <span class="r9 r">k</span>;
						<span class="r5 r">z</span>.<a href="ZStream.cs.html#4dde63befa366043" class="i field">avail_in</a> = <span class="r11 r">n</span>;
						<span class="r5 r">z</span>.<a href="ZStream.cs.html#948985959b111adc" class="i field">total_in</a> += <span class="r10 r">p</span> - <span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a>;
						<span class="r5 r">z</span>.<a href="ZStream.cs.html#b33f6c3d5ac8bf3e" class="i field">next_in_index</a> = <span class="r10 r">p</span>;
						<a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r12 r">q</span>;
						<b>return</b> <a href="#935bf1338a2e6d6f" class="i method">Inflate_flush</a>(<span class="r5 r">z</span>, <span class="r6 r">r</span>);
						<b>break</b>;
					}
				}
			}
		}

		<b>internal void</b> <a id="2f2fb3a0ba1a5f93" href="../R/2f2fb3a0ba1a5f93.html" target="n" data-glyph="74,1" class="i method">Free</a>(<a href="ZStream.cs.html#d2b19bd05b9e75af" class="t t">ZStream</a> <span id="r27 rd" class="r27 r">z</span>)
		{
			<a href="#c09d9d5e7246f22e" class="i method">Reset</a>(<span class="r27 r">z</span>, <b>null</b>);
			<a href="#c430e1cb7f680c8d" class="i field">window</a> = <b>null</b>;
			<a href="#388e7c51045fd45f" class="i field">hufts</a> = <b>null</b>;
		}

		<span class="c">//ZFREE(z, s);</span>
		<b>internal void</b> <a id="966811981f76ee3c" href="../R/966811981f76ee3c.html" target="n" data-glyph="74,1" class="i method">Set_dictionary</a>(<b>byte</b>[] <span id="r28 rd" class="r28 r">d</span>, <b>int</b> <span id="r29 rd" class="r29 r">start</span>, <b>int</b> <span id="r30 rd" class="r30 r">n</span>)
		{
			<span class="i n">System</span>.<a href="@0@mscorlib/A.html#156e066ecc4ccedf" class="t t">Array</a>.<a href="@0@mscorlib/A.html#7441c6721593042c" class="i method">Copy</a>(<span class="r28 r">d</span>, <span class="r29 r">start</span>, <a href="#c430e1cb7f680c8d" class="i field">window</a>, 0, <span class="r30 r">n</span>);
			<a href="#4951f0b9caa3dde3" class="i field">read</a> = <a href="#5bce480d14e3afaa" class="i field">write</a> = <span class="r30 r">n</span>;
		}

		<span class="c">// Returns true if inflate is currently at the end of a block generated</span>
		<span class="c">// by Z_SYNC_FLUSH or Z_FULL_FLUSH. </span>
		<b>internal int</b> <a id="59f0acb697712499" href="../R/59f0acb697712499.html" target="n" data-glyph="74,1" class="i method">Sync_point</a>()
		{
			<b>return</b> <a href="#476a92c2477c18ac" class="i field">mode</a> == <a href="#d47fce72c8f93ed1" class="i field">LENS</a> ? 1 : 0;
		}

		<span class="c">// copy as much as possible from the sliding window to the output area</span>
		<b>internal int</b> <a id="935bf1338a2e6d6f" href="../R/935bf1338a2e6d6f.html" target="n" data-glyph="74,1" class="i method">Inflate_flush</a>(<a href="ZStream.cs.html#d2b19bd05b9e75af" class="t t">ZStream</a> <span id="r31 rd" class="r31 r">z</span>, <b>int</b> <span id="r32 rd" class="r32 r">r</span>)
		{
			<b>int</b> <span id="r33 rd" class="r33 r">n</span>;
			<b>int</b> <span id="r34 rd" class="r34 r">p</span>;
			<b>int</b> <span id="r35 rd" class="r35 r">q</span>;
			<span class="c">// local copies of source and destination pointers</span>
			<span class="r34 r">p</span> = <span class="r31 r">z</span>.<a href="ZStream.cs.html#81709bf277ccea73" class="i field">next_out_index</a>;
			<span class="r35 r">q</span> = <a href="#4951f0b9caa3dde3" class="i field">read</a>;
			<span class="c">// compute number of bytes to copy as far as end of window</span>
			<span class="r33 r">n</span> = (<b>int</b>)((<span class="r35 r">q</span> &lt;= <a href="#5bce480d14e3afaa" class="i field">write</a> ? <a href="#5bce480d14e3afaa" class="i field">write</a> : <a href="#644e6059ae8f39cb" class="i field">end</a>) - <span class="r35 r">q</span>);
			<b>if</b> (<span class="r33 r">n</span> &gt; <span class="r31 r">z</span>.<a href="ZStream.cs.html#3b62b55713a813fa" class="i field">avail_out</a>)
			{
				<span class="r33 r">n</span> = <span class="r31 r">z</span>.<a href="ZStream.cs.html#3b62b55713a813fa" class="i field">avail_out</a>;
			}
			<b>if</b> (<span class="r33 r">n</span> != 0 &amp;&amp; <span class="r32 r">r</span> == <a href="#05c043d84b1b54d0" class="i field">Z_BUF_ERROR</a>)
			{
				<span class="r32 r">r</span> = <a href="#60ec231587fe8e57" class="i field">Z_OK</a>;
			}
			<span class="c">// update counters</span>
			<span class="r31 r">z</span>.<a href="ZStream.cs.html#3b62b55713a813fa" class="i field">avail_out</a> -= <span class="r33 r">n</span>;
			<span class="r31 r">z</span>.<a href="ZStream.cs.html#ceb766101ea71367" class="i field">total_out</a> += <span class="r33 r">n</span>;
			<span class="c">// update check information</span>
			<b>if</b> (<a href="#6bc1b44c002e2445" class="i field">checkfn</a> != <b>null</b>)
			{
				<span class="r31 r">z</span>.<a href="ZStream.cs.html#54c8d72ec39aac51" class="i field">adler</a> = <a href="#0d9c3aeba6dc8bd5" class="i field">check</a> = <span class="r31 r">z</span>.<a href="ZStream.cs.html#5f0289fb90ae540d" class="i field">_adler</a>.<a href="Adler32.cs.html#7fa9b9ad6d717656" class="i method">Adler</a>(<a href="#0d9c3aeba6dc8bd5" class="i field">check</a>, <a href="#c430e1cb7f680c8d" class="i field">window</a>, <span class="r35 r">q</span>, <span class="r33 r">n</span>);
			}
			<span class="c">// copy as far as end of window</span>
			<span class="i n">System</span>.<a href="@0@mscorlib/A.html#156e066ecc4ccedf" class="t t">Array</a>.<a href="@0@mscorlib/A.html#7441c6721593042c" class="i method">Copy</a>(<a href="#c430e1cb7f680c8d" class="i field">window</a>, <span class="r35 r">q</span>, <span class="r31 r">z</span>.<a href="ZStream.cs.html#18656008138492ba" class="i field">next_out</a>, <span class="r34 r">p</span>, <span class="r33 r">n</span>);
			<span class="r34 r">p</span> += <span class="r33 r">n</span>;
			<span class="r35 r">q</span> += <span class="r33 r">n</span>;
			<span class="c">// see if more to copy at beginning of window</span>
			<b>if</b> (<span class="r35 r">q</span> == <a href="#644e6059ae8f39cb" class="i field">end</a>)
			{
				<span class="c">// wrap pointers</span>
				<span class="r35 r">q</span> = 0;
				<b>if</b> (<a href="#5bce480d14e3afaa" class="i field">write</a> == <a href="#644e6059ae8f39cb" class="i field">end</a>)
				{
					<a href="#5bce480d14e3afaa" class="i field">write</a> = 0;
				}
				<span class="c">// compute bytes to copy</span>
				<span class="r33 r">n</span> = <a href="#5bce480d14e3afaa" class="i field">write</a> - <span class="r35 r">q</span>;
				<b>if</b> (<span class="r33 r">n</span> &gt; <span class="r31 r">z</span>.<a href="ZStream.cs.html#3b62b55713a813fa" class="i field">avail_out</a>)
				{
					<span class="r33 r">n</span> = <span class="r31 r">z</span>.<a href="ZStream.cs.html#3b62b55713a813fa" class="i field">avail_out</a>;
				}
				<b>if</b> (<span class="r33 r">n</span> != 0 &amp;&amp; <span class="r32 r">r</span> == <a href="#05c043d84b1b54d0" class="i field">Z_BUF_ERROR</a>)
				{
					<span class="r32 r">r</span> = <a href="#60ec231587fe8e57" class="i field">Z_OK</a>;
				}
				<span class="c">// update counters</span>
				<span class="r31 r">z</span>.<a href="ZStream.cs.html#3b62b55713a813fa" class="i field">avail_out</a> -= <span class="r33 r">n</span>;
				<span class="r31 r">z</span>.<a href="ZStream.cs.html#ceb766101ea71367" class="i field">total_out</a> += <span class="r33 r">n</span>;
				<span class="c">// update check information</span>
				<b>if</b> (<a href="#6bc1b44c002e2445" class="i field">checkfn</a> != <b>null</b>)
				{
					<span class="r31 r">z</span>.<a href="ZStream.cs.html#54c8d72ec39aac51" class="i field">adler</a> = <a href="#0d9c3aeba6dc8bd5" class="i field">check</a> = <span class="r31 r">z</span>.<a href="ZStream.cs.html#5f0289fb90ae540d" class="i field">_adler</a>.<a href="Adler32.cs.html#7fa9b9ad6d717656" class="i method">Adler</a>(<a href="#0d9c3aeba6dc8bd5" class="i field">check</a>, <a href="#c430e1cb7f680c8d" class="i field">window</a>, <span class="r35 r">q</span>, <span class="r33 r">n</span>);
				}
				<span class="c">// copy</span>
				<span class="i n">System</span>.<a href="@0@mscorlib/A.html#156e066ecc4ccedf" class="t t">Array</a>.<a href="@0@mscorlib/A.html#7441c6721593042c" class="i method">Copy</a>(<a href="#c430e1cb7f680c8d" class="i field">window</a>, <span class="r35 r">q</span>, <span class="r31 r">z</span>.<a href="ZStream.cs.html#18656008138492ba" class="i field">next_out</a>, <span class="r34 r">p</span>, <span class="r33 r">n</span>);
				<span class="r34 r">p</span> += <span class="r33 r">n</span>;
				<span class="r35 r">q</span> += <span class="r33 r">n</span>;
			}
			<span class="c">// update pointers</span>
			<span class="r31 r">z</span>.<a href="ZStream.cs.html#81709bf277ccea73" class="i field">next_out_index</a> = <span class="r34 r">p</span>;
			<a href="#4951f0b9caa3dde3" class="i field">read</a> = <span class="r35 r">q</span>;
			<span class="c">// done</span>
			<b>return</b> <span class="r32 r">r</span>;
		}
	}
}
</pre></td></tr></table></div></body></html>
