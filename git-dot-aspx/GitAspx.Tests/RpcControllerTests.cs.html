<!DOCTYPE html>
<html><head><title>RpcControllerTests.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(39);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#GitAspx.Tests/RpcControllerTests.cs" target="_top">RpcControllerTests.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#GitAspx.Tests" target="_top">GitAspx.Tests\GitAspx.Tests.csproj</a> (GitAspx.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>namespace</b> <span class="i n">GitAspx</span>.<span class="i n">Tests</span> {
	<b>using</b> <span class="i n">GitAspx</span>.<span class="i n">Controllers</span>;
	<b>using</b> <span class="i n">GitAspx</span>.<span class="i n">Lib</span>;
	<b>using</b> <span class="i n">NUnit</span>.<span class="i n">Framework</span>;
 
	[<span class="t constructor">TestFixture</span>]
	<b>public class</b> <a id="d309f3c9cdb9c362" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="2bfe6abec88cf1fa">RpcControllerTests</span></a> {
		<a href="/GitAspx/A.html#d1ec70336dbb9003" class="t t">RpcController</a> <a id="e8cbc36f4589f6e8" href="R/e8cbc36f4589f6e8.html" target="n" data-glyph="46,1" class="i field">controller</a>;
 
		[<span class="t constructor">SetUp</span>]
		<b>public void</b> <a id="f5132bd565938ddf" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Setup</a>() {
			<a href="#e8cbc36f4589f6e8" class="i field">controller</a> = <b>new</b> <a href="/GitAspx/A.html#d4add7c8ca60b2b9" class="t constructor">RpcController</a>(<b>new</b> <a href="/GitAspx/A.html#2203538f5b41a41e" class="t constructor">RepositoryService</a>(<a href="TestExtensions.cs.html#98d54fc880bea048" class="t t">TestExtensions</a>.<a href="TestExtensions.cs.html#94f84ec8667b2dae" class="i method">GetAppSettings</a>()))
				.<a href="TestExtensions.cs.html#ef1f74e774323d3c" class="i method">FakeContxt</a>();
 
			<a href="#e8cbc36f4589f6e8" class="i field">controller</a>.<a href="/GitAspx/A.html#057e7166a0f45782" class="i property">AppSettings</a> = <a href="TestExtensions.cs.html#98d54fc880bea048" class="t t">TestExtensions</a>.<a href="TestExtensions.cs.html#94f84ec8667b2dae" class="i method">GetAppSettings</a>();
		}
 
 
		[<span class="t constructor">Test</span>]
		<b>public void</b> <a id="7abd472e2f4a4589" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">NoAccess_to_UploadPack_when_incorrect_content_type</a>() {
			<b>var</b> <span id="r0 rd" class="r0 r">result</span> = <a href="#e8cbc36f4589f6e8" class="i field">controller</a>.<span class="i">UploadPack</span>(<b>null</b>, <b>null</b>, <span class="s">&quot;test.git&quot;</span>);
			<span class="r0 r">result</span>.<span class="i">ShouldBe</span>&lt;<a href="/GitAspx/A.html#1baa9229d98380be" class="t t">ForbiddenResult</a>&gt;();
		}
 
		[<span class="t constructor">Test</span>]
		<b>public void</b> <a id="04c5761c4e9f5607" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">NoAccess_to_ReceivePack_when_incorrect_content_type</a>() {
			<b>var</b> <span id="r1 rd" class="r1 r">result</span> = <a href="#e8cbc36f4589f6e8" class="i field">controller</a>.<span class="i">ReceivePack</span>(<b>null</b>, <b>null</b>, <span class="s">&quot;test.git&quot;</span>);
			<span class="r1 r">result</span>.<span class="i">ShouldBe</span>&lt;<a href="/GitAspx/A.html#1baa9229d98380be" class="t t">ForbiddenResult</a>&gt;();
		}
 
		[<span class="t constructor">Test</span>]
		<b>public void</b> <a id="b6f452db614befb6" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Not_found_when_wrong_path</a>() {
			<a href="#e8cbc36f4589f6e8" class="i field">controller</a>.<span class="i">Request</span>.<span class="i">ContentType</span> = <span class="s">&quot;application/x-git-receive-pack-request&quot;</span>;
			<b>var</b> <span id="r2 rd" class="r2 r">result</span> = <a href="#e8cbc36f4589f6e8" class="i field">controller</a>.<span class="i">ReceivePack</span>(<b>null</b>, <b>null</b>, <span class="s">&quot;no-such-project&quot;</span>);
			<span class="r2 r">result</span>.<span class="i">ShouldBe</span>&lt;<a href="/GitAspx/A.html#c6d0c4bc329a16be" class="t t">NotFoundResult</a>&gt;();
		}
 
	}
}</pre></td></tr></table></div></body></html>
