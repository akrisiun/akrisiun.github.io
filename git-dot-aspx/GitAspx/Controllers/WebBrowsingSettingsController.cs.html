<!DOCTYPE html>
<html><head><title>WebBrowsingSettingsController.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(44);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#GitAspx/Controllers/WebBrowsingSettingsController.cs" target="_top">Controllers\WebBrowsingSettingsController.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#GitAspx" target="_top">GitAspx\GitAspx.csproj</a> (GitAspx)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="k preprocess">#</span><span class="k preprocess">region</span> License

<span class="c">// Copyright 2011 Linquize</span>
<span class="c">//  </span>
<span class="c">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); </span>
<span class="c">// you may not use this file except in compliance with the License. </span>
<span class="c">// You may obtain a copy of the License at </span>
<span class="c">// </span>
<span class="c">// http://www.apache.org/licenses/LICENSE-2.0 </span>
<span class="c">// </span>
<span class="c">// Unless required by applicable law or agreed to in writing, software </span>
<span class="c">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS, </span>
<span class="c">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. </span>
<span class="c">// See the License for the specific language governing permissions and </span>
<span class="c">// limitations under the License.</span>
<span class="c">// </span>
<span class="c">// The latest version of this file can be found at http://github.com/Linquize/git-dot-aspx</span>

<span class="k preprocess">#</span><span class="k preprocess">endregion</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Reflection</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Web</span>.<span class="i n">Mvc</span>;
<b>using</b> <span class="i n">GitAspx</span>.<span class="i n">Lib</span>;

<b>namespace</b> <span class="i n">GitAspx</span>.<span class="i n">Controllers</span>
{
    <b>public class</b> <a id="6ac84393ab35de3c" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="925225e32fe8b4d1">WebBrowsingSettingsController</span></a> : <a href="/System.Web.Mvc/A.html#8704ba2c1847f1ec" class="t t">Controller</a>
    {
        <b>public</b> <a href="/System.Web.Mvc/A.html#8bbb8ceda32fbb12" class="t t">ActionResult</a> <a id="d8c4636df7c306ad" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Index</a>(<b>string</b> <span id="r0 rd" class="r0 r">key</span>, <b>string</b> <span id="r1 rd" class="r1 r">value</span>)
        {
            <a href="../Lib/WebBrowsingSettings.cs.html#e0dcb589efd9271d" class="t t">WebBrowsingSettings</a> <span id="r2 rd" class="r2 r">loSettings</span> = <a href="/System.Web.Mvc/A.html#43d89fe1c65d7553" class="i property">Session</a><a href="@0@System.Web/A.html#1da665a0b49aa2f9">[</a><span class="s">&quot;WebBrowsingSettings&quot;</span>] <b>as</b> <a href="../Lib/WebBrowsingSettings.cs.html#e0dcb589efd9271d" class="t t">WebBrowsingSettings</a>;
            <b>if</b> (<span class="r2 r">loSettings</span> == <b>null</b>)
                <a href="/System.Web.Mvc/A.html#43d89fe1c65d7553" class="i property">Session</a><a href="@0@System.Web/A.html#1da665a0b49aa2f9">[</a><span class="s">&quot;WebBrowsingSettings&quot;</span>] = <span class="r2 r">loSettings</span> = <b>new</b> <a href="../Lib/WebBrowsingSettings.cs.html#e0dcb589efd9271d" class="t constructor">WebBrowsingSettings</a>();
            <a href="@0@mscorlib/A.html#f3f0ea5f89a8f162" class="t t">PropertyInfo</a> <span id="r3 rd" class="r3 r">loProp</span> = <b>typeof</b>(<a href="../Lib/WebBrowsingSettings.cs.html#e0dcb589efd9271d" class="t t">WebBrowsingSettings</a>).<a href="@0@mscorlib/A.html#fabf683030a6ad8d" class="i method">GetProperty</a>(<span class="r0 r">key</span>);
            <b>if</b> (<span class="r3 r">loProp</span> != <b>null</b>)
            {
                <b>object</b> <span id="r4 rd" class="r4 r">loValue</span> = <a href="@0@mscorlib/A.html#fc990bd1275d43d6" class="t t">Convert</a>.<a href="@0@mscorlib/A.html#dc591cb7008278c6" class="i method">ChangeType</a>(<span class="r1 r">value</span>, <span class="r3 r">loProp</span>.<a href="@0@mscorlib/A.html#c9d06b39de74ade6" class="i property">PropertyType</a>);
                <span class="r3 r">loProp</span>.<a href="@0@mscorlib/A.html#fac5bcae675d50eb" class="i method">SetValue</a>(<span class="r2 r">loSettings</span>, <span class="r4 r">loValue</span>, <b>null</b>);
            }
            <b>return</b> <a href="/System.Web.Mvc/A.html#c09ecd9107850a32" class="i method">Redirect</a>(<a href="/System.Web.Mvc/A.html#5bf7f59d1ff48c41" class="i property">Request</a>.<a href="@0@System.Web/A.html#fbcca45fa7123d21" class="i property">UrlReferrer</a>.<a href="@0@System/A.html#e335fec0022465e6" class="i property">AbsoluteUri</a>);
        }
    }
}</pre></td></tr></table></div></body></html>
