<!DOCTYPE html>
<html><head><title>Helpers.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(352);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#GitAspx/App_Start/Helpers.cs" target="_top">App_Start\Helpers.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#GitAspx" target="_top">GitAspx\GitAspx.csproj</a> (GitAspx)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="k preprocess">#</span><span class="k preprocess">region</span> License

<span class="c">// Copyright 2010 Jeremy Skinner (http://www.jeremyskinner.co.uk)</span>
<span class="c">//  </span>
<span class="c">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); </span>
<span class="c">// you may not use this file except in compliance with the License. </span>
<span class="c">// You may obtain a copy of the License at </span>
<span class="c">// </span>
<span class="c">// http://www.apache.org/licenses/LICENSE-2.0 </span>
<span class="c">// </span>
<span class="c">// Unless required by applicable law or agreed to in writing, software </span>
<span class="c">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS, </span>
<span class="c">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. </span>
<span class="c">// See the License for the specific language governing permissions and </span>
<span class="c">// limitations under the License.</span>
<span class="c">// </span>
<span class="c">// The latest version of this file can be found at http://github.com/JeremySkinner/git-dot-aspx</span>

<span class="k preprocess">#</span><span class="k preprocess">endregion</span>

<b>namespace</b> <span class="i n">GitAspx</span>
{
    <b>using</b> <span class="i n">System</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Web</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Web</span>.<span class="i n">Mvc</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Web</span>.<span class="i n">Routing</span>;
    <b>using</b> <span class="i n">GitAspx</span>.<span class="i n">Lib</span>;

    <b>public static class</b> <a id="b4b873d2feecfa54" href="../R/b4b873d2feecfa54.html" target="n" data-glyph="0,0" class="t t">Helpers</a>
    {
        <b>static readonly string</b> <a id="6cf40d129b0b2cb7" href="../R/6cf40d129b0b2cb7.html" target="n" data-glyph="46,1" class="i field">version</a>, <a id="348d1fe4e8e519cc" href="../R/348d1fe4e8e519cc.html" target="n" data-glyph="46,1" class="i field">gitDllVersion</a>, <a id="b926c48d1cf71b22" href="../R/b926c48d1cf71b22.html" target="n" data-glyph="46,1" class="i field">gitCoreDllVersion</a>;

        <b>static</b> <a id="a7632e0fe57629fb" href="../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">Helpers</a>()
        {
            <a href="#6cf40d129b0b2cb7" class="i field">version</a> = <b>typeof</b>(<a href="#b4b873d2feecfa54" class="t t">Helpers</a>).<a href="@0@mscorlib/A.html#e87d536bd07fab01" class="i property">Assembly</a>.<a href="@0@mscorlib/A.html#1fd23b897ffa9a75" class="i method">GetName</a>().<a href="@0@mscorlib/A.html#c36677aa25838c8c" class="i property">Version</a>.<a href="@0@mscorlib/A.html#3b32a91c30a49c52" class="i method">ToString</a>();
            <a href="#348d1fe4e8e519cc" class="i field">gitDllVersion</a> = <b>typeof</b>(<span class="i n">GitSharp</span>.<a href="/GitSharp/A.html#f16451cd1e981797" class="t t">Git</a>).<a href="@0@mscorlib/A.html#e87d536bd07fab01" class="i property">Assembly</a>.<a href="@0@mscorlib/A.html#1fd23b897ffa9a75" class="i method">GetName</a>().<a href="@0@mscorlib/A.html#c36677aa25838c8c" class="i property">Version</a>.<a href="@0@mscorlib/A.html#3b32a91c30a49c52" class="i method">ToString</a>();
            <a href="#b926c48d1cf71b22" class="i field">gitCoreDllVersion</a> = <b>typeof</b>(<span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#26c90e71b2d0518a" class="t t">AnyObjectId</a>).<a href="@0@mscorlib/A.html#e87d536bd07fab01" class="i property">Assembly</a>.<a href="@0@mscorlib/A.html#1fd23b897ffa9a75" class="i method">GetName</a>().<a href="@0@mscorlib/A.html#c36677aa25838c8c" class="i property">Version</a>.<a href="@0@mscorlib/A.html#3b32a91c30a49c52" class="i method">ToString</a>();
        }

        <span class="k preprocess">#</span><span class="k preprocess">region</span> Software Version
        <b>public static string</b> <a id="f61055933c2502b9" href="../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Version</a>
        {
            <b>get</b> { <b>return</b> <a href="#6cf40d129b0b2cb7" class="i field">version</a>; }
        }

        <b>public static string</b> <a id="1c8cbec4b0eff572" href="../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">GitDllVersion</a>
        {
            <b>get</b> { <b>return</b> <a href="#348d1fe4e8e519cc" class="i field">gitDllVersion</a>; }
        }

        <b>public static string</b> <a id="ac02a9e0f756fee1" href="../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">GitCoreDllVersion</a>
        {
            <b>get</b> { <b>return</b> <a href="#b926c48d1cf71b22" class="i field">gitCoreDllVersion</a>; }
        }

        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>

        <span class="k preprocess">#</span><span class="k preprocess">region</span> Get Url

        <b>public static string</b> <a id="538b28d77664f3e9" href="../R/../../0000000000.html" target="n" data-glyph="220,1" class="i method">ProjectUrl</a>(<b>this</b> <a href="/System.Web.Mvc/A.html#770e19693bb6aca9" class="t t">UrlHelper</a> <span id="r0 rd" class="r0 r">urlHelper</span>, <b>string</b> <span id="r1 rd" class="r1 r">project</span>)
        {
            <b>return</b> <span class="r0 r">urlHelper</span>.<a href="/System.Web.Mvc/A.html#ee177e08bd320138" class="i method">RouteUrl</a>(<span class="s">&quot;project&quot;</span>, <b>new</b> <a href="@0@System.Web/A.html#392444774d124a43" class="t constructor">RouteValueDictionary</a>(<b>new</b> { <span class="r1 r">project</span> }),
                                      <span class="r0 r">urlHelper</span>.<a href="/System.Web.Mvc/A.html#af790dae338e2e5a" class="i property">RequestContext</a>.<a href="@0@System.Web/A.html#8ba2ef6eebe87168" class="i property">HttpContext</a>.<a href="@0@System.Web/A.html#bf9eed8ebb48f81f" class="i property">Request</a>.<a href="@0@System.Web/A.html#222b7bc4681f09a5" class="i property">Url</a>.<a href="@0@System/A.html#e73925be401b9bcb" class="i property">Scheme</a>,
                                      <span class="r0 r">urlHelper</span>.<a href="/System.Web.Mvc/A.html#af790dae338e2e5a" class="i property">RequestContext</a>.<a href="@0@System.Web/A.html#8ba2ef6eebe87168" class="i property">HttpContext</a>.<a href="@0@System.Web/A.html#bf9eed8ebb48f81f" class="i property">Request</a>.<a href="@0@System.Web/A.html#222b7bc4681f09a5" class="i property">Url</a>.<a href="@0@System/A.html#c230833968da7179" class="i property">Host</a>);
        }

        <b>public static string</b> <a id="93b1060c80d509d8" href="../R/../../0000000000.html" target="n" data-glyph="220,1" class="i method">GetGitUrl</a>(<b>this</b> <a href="/System.Web.Mvc/A.html#770e19693bb6aca9" class="t t">UrlHelper</a> <span id="r2 rd" class="r2 r">urlHelper</span>, <b>string</b> <span id="r3 rd" class="r3 r">project</span>)
        {
            <b>string</b>[] <span id="r4 rd" class="r4 r">lsaParts</span> = <span class="r3 r">project</span>.<a href="@0@mscorlib/A.html#1c4a9dc78ba38999" class="i method">Split</a>(<span class="s">&#39;/&#39;</span>);
            <b>string</b> <span id="r5 rd" class="r5 r">lsCat</span> = <span class="r4 r">lsaParts</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> &gt; 1 &amp;&amp; <span class="r4 r">lsaParts</span>[0].<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> &gt; 0 ? <span class="r4 r">lsaParts</span>[0] : <b>null</b>;
            <b>string</b> <span id="r6 rd" class="r6 r">lsSubCat</span> = <span class="r4 r">lsaParts</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> &gt; 2 &amp;&amp; <span class="r4 r">lsaParts</span>[1].<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> &gt; 0 ? <span class="r4 r">lsaParts</span>[1] : <b>null</b>;
            <b>string</b> <span id="r7 rd" class="r7 r">lsProject</span> = <span class="r4 r">lsaParts</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> &gt; 0 &amp;&amp;
                    <span class="r4 r">lsaParts</span>[<span class="r4 r">lsaParts</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> - 1].<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> &gt; 0 ? <span class="r4 r">lsaParts</span>[<span class="r4 r">lsaParts</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> - 1] : <b>null</b>;
            <b>return</b> <span class="r2 r">urlHelper</span>.<a href="/System.Web.Mvc/A.html#ee177e08bd320138" class="i method">RouteUrl</a>(<span class="s">&quot;giturl&quot;</span>,
                    <b>new</b> <a href="@0@System.Web/A.html#392444774d124a43" class="t constructor">RouteValueDictionary</a>(<b>new</b> { <a href="#9d7effe0ec53fb23" class="i property">cat</a> = <span class="r5 r">lsCat</span>, <a href="#855946d42ba11198" class="i property">subcat</a> = <span class="r6 r">lsSubCat</span>, <a href="#58c015ea1abcc666" class="i property">project</a> = <span class="r7 r">lsProject</span> }),
                    <span class="r2 r">urlHelper</span>.<a href="/System.Web.Mvc/A.html#af790dae338e2e5a" class="i property">RequestContext</a>.<a href="@0@System.Web/A.html#8ba2ef6eebe87168" class="i property">HttpContext</a>.<a href="@0@System.Web/A.html#bf9eed8ebb48f81f" class="i property">Request</a>.<a href="@0@System.Web/A.html#222b7bc4681f09a5" class="i property">Url</a>.<a href="@0@System/A.html#e73925be401b9bcb" class="i property">Scheme</a>,
                    <span class="r2 r">urlHelper</span>.<a href="/System.Web.Mvc/A.html#af790dae338e2e5a" class="i property">RequestContext</a>.<a href="@0@System.Web/A.html#8ba2ef6eebe87168" class="i property">HttpContext</a>.<a href="@0@System.Web/A.html#bf9eed8ebb48f81f" class="i property">Request</a>.<a href="@0@System.Web/A.html#222b7bc4681f09a5" class="i property">Url</a>.<a href="@0@System/A.html#c230833968da7179" class="i property">Host</a>);
        }

        <b>public static</b> <a href="@0@System.Web/A.html#a2b072abf6986389" class="t t">HtmlString</a> <a id="ee573190af27f517" href="../R/../../0000000000.html" target="n" data-glyph="220,1" class="i method">Segments</a>(<b>this</b> <a href="/System.Web.Mvc/A.html#770e19693bb6aca9" class="t t">UrlHelper</a> <span id="r8 rd" class="r8 r">url</span>, <span class="i n">GitAspx</span>.<span class="i n">ViewModels</span>.<a href="../ViewModels/BlobViewModel.cs.html#2e4bb5651f185c6c" class="t t">BlobViewModel</a> <span id="r9 rd" class="r9 r">Model</span>)
        {
            <b>var</b> <span id="r10 rd" class="r10 r">paths</span> = <span class="r9 r">Model</span>.<a href="../ViewModels/WebBrowsingBaseViewModel.cs.html#2b03eba1e17fcef1" class="i property">PathSegments</a>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r11 rd" class="r11 r">project</span> = <span class="r9 r">Model</span>.<a href="../ViewModels/WebBrowsingBaseViewModel.cs.html#f95ce0d585278530" class="i property">Project</a>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r12 rd" class="r12 r">treeName</span> = <span class="r9 r">Model</span>.<a href="../ViewModels/WebBrowsingBaseViewModel.cs.html#95d9fc916fba842d" class="i property">TreeName</a>;

            <a href="@0@mscorlib/A.html#adf60ee46ebd299f" class="k">var</a> <span id="r13 rd" class="r13 r">result</span> = <b>new</b> <a href="@0@mscorlib/A.html#6e631639c1e2746b" class="t constructor">StringBuilder</a>();

            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r14 rd" class="r14 r">formatTree</span> = <span class="s">@&quot;&lt;a href=&quot;&quot;{0}{1}/tree/{3}/{2}&quot;&quot;&gt;
                                   {2}
                             &lt;/a&gt;&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r15 rd" class="r15 r">formatBlob</span> = <span class="s">@&quot;&lt;a href=&quot;&quot;{0}{1}/blob/{3}/{2}&quot;&quot;&gt;
                                   {2}
                             &lt;/a&gt;&quot;</span>;

            <b>for</b> (<b>int</b> <span id="r16 rd" class="r16 r">i</span> = 0; <span class="r16 r">i</span> &lt; <span class="r10 r">paths</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a>; <span class="r16 r">i</span>++)
            {
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r17 rd" class="r17 r">segment</span> = <span class="r10 r">paths</span>[<span class="r16 r">i</span>];
                <span class="r13 r">result</span>.<a href="@0@mscorlib/A.html#e8eaef3c361184bc" class="i method">Append</a>(<span class="s">&quot; / &quot;</span>);
                <b>if</b> (<span class="r16 r">i</span> == <span class="r10 r">paths</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> - 1)
                    <span class="r13 r">result</span>.<a href="@0@mscorlib/A.html#e8eaef3c361184bc" class="i method">Append</a>(<b>string</b>.<a href="@0@mscorlib/A.html#ad9f5b0b214ae8f3" class="i method">Format</a>(
                            <span class="r15 r">formatBlob</span>, <span class="r8 r">url</span>.<a href="/System.Web.Mvc/A.html#b7184868a83f7de1" class="i method">Content</a>(<span class="s">&quot;~/&quot;</span>), <span class="r11 r">project</span>, <span class="r17 r">segment</span>, <span class="r12 r">treeName</span>));
                <b>else</b>
                    <span class="r13 r">result</span>.<a href="@0@mscorlib/A.html#e8eaef3c361184bc" class="i method">Append</a>(<b>string</b>.<a href="@0@mscorlib/A.html#ad9f5b0b214ae8f3" class="i method">Format</a>(
                            <span class="r14 r">formatTree</span>, <span class="r8 r">url</span>.<a href="/System.Web.Mvc/A.html#b7184868a83f7de1" class="i method">Content</a>(<span class="s">&quot;~/&quot;</span>), <span class="r11 r">project</span>, <span class="r17 r">segment</span>, <span class="r12 r">treeName</span>));
            }

            <b>return</b> <b>new</b> <a href="@0@System.Web/A.html#ebe8210e1801a68d" class="t constructor">HtmlString</a>(<span class="r13 r">result</span>.<a href="@0@mscorlib/A.html#5a97da49a158a3c9" class="i method">ToString</a>());
        }

        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>

        <span class="k preprocess">#</span><span class="k preprocess">region</span> DateTime/DateTimeOffset
        <b>public static string</b> <a id="c20588219618befd" href="../R/../../0000000000.html" target="n" data-glyph="220,1" class="i method">ToPrettyDateString</a>(<b>this</b> <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a> <span id="r18 rd" class="r18 r">d</span>)
        {
            <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a> <span id="r19 rd" class="r19 r">ts</span> = <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a>.<a href="@0@mscorlib/A.html#c6573f48ac6bd630" class="i property">Now</a>.<a href="@0@mscorlib/A.html#3b08106b9465af26" class="i method">Subtract</a>(<span class="r18 r">d</span>);
            <b>return</b> <a href="../Lib/PrettyDate.cs.html#5f65e60fc27057fa" class="t t">PrettyDateCache</a>.<a href="../Lib/PrettyDate.cs.html#56f02195f2e16dbb" class="i method">ToPrettyDateString</a>(<span class="r19 r">ts</span>);
        }

        <b>public static string</b> <a id="07ae7be7f3b39f59" href="../R/07ae7be7f3b39f59.html" target="n" data-glyph="220,1" class="i method">ToPrettyDateString</a>(<b>this</b> <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a> <span id="r20 rd" class="r20 r">d</span>)
        {
            <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a> <span id="r21 rd" class="r21 r">ts</span> = <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#1cd5dd408a32124f" class="i property">Now</a>.<a href="@0@mscorlib/A.html#2ecdd97f20a7f47c" class="i method">Subtract</a>(<span class="r20 r">d</span>);
            <b>return</b> <a href="../Lib/PrettyDate.cs.html#5f65e60fc27057fa" class="t t">PrettyDateCache</a>.<a href="../Lib/PrettyDate.cs.html#56f02195f2e16dbb" class="i method">ToPrettyDateString</a>(<span class="r21 r">ts</span>);
        }
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>

        <span class="k preprocess">#</span><span class="k preprocess">region</span> HttpReponseBase
        <b>public static void</b> <a id="deca9f80a3e9ff59" href="../R/deca9f80a3e9ff59.html" target="n" data-glyph="220,1" class="i method">WriteNoCache</a>(<b>this</b> <a href="@0@System.Web/A.html#0ebee877e7f3a44b" class="t t">HttpResponseBase</a> <span id="r22 rd" class="r22 r">response</span>)
        {
            <span class="r22 r">response</span>.<a href="@0@System.Web/A.html#8a14d517b047c1fb" class="i method">AddHeader</a>(<span class="s">&quot;Expires&quot;</span>, <span class="s">&quot;Fri, 01 Jan 1980 00:00:00 GMT&quot;</span>);
            <span class="r22 r">response</span>.<a href="@0@System.Web/A.html#8a14d517b047c1fb" class="i method">AddHeader</a>(<span class="s">&quot;Pragma&quot;</span>, <span class="s">&quot;no-cache&quot;</span>);
            <span class="r22 r">response</span>.<a href="@0@System.Web/A.html#8a14d517b047c1fb" class="i method">AddHeader</a>(<span class="s">&quot;Cache-Control&quot;</span>, <span class="s">&quot;no-cache, max-age=0, must-revalidate&quot;</span>);
        }

        <b>public static void</b> <a id="35f1f9955a1c24de" href="../R/35f1f9955a1c24de.html" target="n" data-glyph="220,1" class="i method">PktWrite</a>(<b>this</b> <a href="@0@System.Web/A.html#0ebee877e7f3a44b" class="t t">HttpResponseBase</a> <span id="r23 rd" class="r23 r">response</span>, <b>string</b> <span id="r24 rd" class="r24 r">input</span>, <b>params object</b>[] <span id="r25 rd" class="r25 r">args</span>)
        {
            <span class="r24 r">input</span> = <b>string</b>.<a href="@0@mscorlib/A.html#ad9f5b0b214ae8f3" class="i method">Format</a>(<span class="r24 r">input</span>, <span class="r25 r">args</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r26 rd" class="r26 r">toWrite</span> = (<span class="r24 r">input</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> + 4).<a href="@0@mscorlib/A.html#a779f63c06961b65" class="i method">ToString</a>(<span class="s">&quot;x&quot;</span>).<a href="@0@mscorlib/A.html#4c82a936c39ba80a" class="i method">PadLeft</a>(4, <span class="s">&#39;0&#39;</span>) + <span class="r24 r">input</span>;
            <span class="r23 r">response</span>.<a href="@0@System.Web/A.html#358fc05866d74ff1" class="i method">Write</a>(<span class="r26 r">toWrite</span>);
        }

        <b>public static void</b> <a id="df18d0e466d0e2f4" href="../R/df18d0e466d0e2f4.html" target="n" data-glyph="220,1" class="i method">PktFlush</a>(<b>this</b> <a href="@0@System.Web/A.html#0ebee877e7f3a44b" class="t t">HttpResponseBase</a> <span id="r27 rd" class="r27 r">response</span>)
        {
            <span class="r27 r">response</span>.<a href="@0@System.Web/A.html#358fc05866d74ff1" class="i method">Write</a>(<span class="s">&quot;0000&quot;</span>);
        }
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>

        <span class="k preprocess">#</span><span class="k preprocess">region</span> String
        <b>public static string</b> <a id="726d756c79291a34" href="../R/../../0000000000.html" target="n" data-glyph="220,1" class="i method">JoinLeft</a>(<b>this</b> <b>string</b>[] <span id="r28 rd" class="r28 r">values</span>, <b>string</b> <span id="r29 rd" class="r29 r">separator</span>)
        {
            <a href="@0@mscorlib/A.html#adf60ee46ebd299f" class="t t">StringBuilder</a> <span id="r30 rd" class="r30 r">sb</span> = <b>new</b> <a href="@0@mscorlib/A.html#6e631639c1e2746b" class="t constructor">StringBuilder</a>();
            <b>foreach</b> (<b>string</b> <span id="r31 rd" class="r31 r">value</span> <b>in</b> <span class="r28 r">values</span>)
            {
                <span class="r30 r">sb</span>.<a href="@0@mscorlib/A.html#e8eaef3c361184bc" class="i method">Append</a>(<span class="r29 r">separator</span>);
                <span class="r30 r">sb</span>.<a href="@0@mscorlib/A.html#e8eaef3c361184bc" class="i method">Append</a>(<span class="r31 r">value</span>);
            }
            <b>return</b> <span class="r30 r">sb</span>.<a href="@0@mscorlib/A.html#5a97da49a158a3c9" class="i method">ToString</a>();
        }

        <b>public static string</b> <a id="c287ccb9030b75e8" href="../R/../../0000000000.html" target="n" data-glyph="220,1" class="i method">JoinRight</a>(<b>this</b> <b>string</b>[] <span id="r32 rd" class="r32 r">values</span>, <b>string</b> <span id="r33 rd" class="r33 r">separator</span>)
        {
            <a href="@0@mscorlib/A.html#adf60ee46ebd299f" class="t t">StringBuilder</a> <span id="r34 rd" class="r34 r">sb</span> = <b>new</b> <a href="@0@mscorlib/A.html#6e631639c1e2746b" class="t constructor">StringBuilder</a>();
            <b>foreach</b> (<b>string</b> <span id="r35 rd" class="r35 r">value</span> <b>in</b> <span class="r32 r">values</span>)
            {
                <span class="r34 r">sb</span>.<a href="@0@mscorlib/A.html#e8eaef3c361184bc" class="i method">Append</a>(<span class="r35 r">value</span>);
                <span class="r34 r">sb</span>.<a href="@0@mscorlib/A.html#e8eaef3c361184bc" class="i method">Append</a>(<span class="r33 r">separator</span>);
            }
            <b>return</b> <span class="r34 r">sb</span>.<a href="@0@mscorlib/A.html#5a97da49a158a3c9" class="i method">ToString</a>();
        }

        <b>public static string</b> <a id="a98dd01cb28ea9fd" href="../R/a98dd01cb28ea9fd.html" target="n" data-glyph="220,1" class="i method">Shorten</a>(<b>this</b> <b>string</b> <span id="r36 rd" class="r36 r">text</span>, <b>int</b> <span id="r37 rd" class="r37 r">maxLength</span>)
        {
            <b>if</b> (<span class="r36 r">text</span> == <b>null</b>) <b>return string</b>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>;
            <b>if</b> (<span class="r36 r">text</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> &lt;= <span class="r37 r">maxLength</span> || <span class="r37 r">maxLength</span> &lt;= 3) <b>return</b> <span class="r36 r">text</span>;
            <b>return</b> <span class="r36 r">text</span>.<a href="@0@mscorlib/A.html#8124961f027d9ac9" class="i method">Substring</a>(0, <span class="r37 r">maxLength</span> - 3) + <span class="s">&quot;...&quot;</span>;
        }

        <b>public static</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<b>string</b>&gt; <a id="e4f6253bd0c15227" href="../R/../../0000000000.html" target="n" data-glyph="220,1" class="i method">SplitLines</a>(<b>this</b> <b>string</b> <span id="r38 rd" class="r38 r">lines</span>)
        {
            <b>char</b> <span id="r39 rd" class="r39 r">b</span> = <span class="s">&#39;\0&#39;</span>;
            <b>int</b> <span id="r40 rd" class="r40 r">start</span> = 0;
            <b>for</b> (<b>int</b> <span id="r41 rd" class="r41 r">i</span> = 0; <span class="r41 r">i</span> &lt; <span class="r38 r">lines</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a>; <span class="r41 r">i</span>++)
            {
                <b>char</b> <span id="r42 rd" class="r42 r">c</span> = <span class="r38 r">lines</span><a href="@0@mscorlib/A.html#8307d03426b56fe1">[</a><span class="r41 r">i</span>];
                <b>if</b> (<span class="r42 r">c</span> == <span class="s">&#39;\n&#39;</span>)
                {
                    <b>if</b> (<span class="r39 r">b</span> == <span class="s">&#39;\r&#39;</span>)
                    {
                        <span class="r40 r">start</span> = <span class="r41 r">i</span> + 1;
                        <b>continue</b>;
                    }
                    <b>else</b>
                    {
                        <b>yield return</b> <span class="r38 r">lines</span>.<a href="@0@mscorlib/A.html#8124961f027d9ac9" class="i method">Substring</a>(<span class="r40 r">start</span>, <span class="r41 r">i</span> - <span class="r40 r">start</span>);
                        <span class="r40 r">start</span> = <span class="r41 r">i</span> + 1;
                    }
                }
                <b>else if</b> (<span class="r42 r">c</span> == <span class="s">&#39;\r&#39;</span>)
                {
                    <b>yield return</b> <span class="r38 r">lines</span>.<a href="@0@mscorlib/A.html#8124961f027d9ac9" class="i method">Substring</a>(<span class="r40 r">start</span>, <span class="r41 r">i</span> - <span class="r40 r">start</span>);
                    <span class="r40 r">start</span> = <span class="r41 r">i</span> + 1;
                }
                <span class="r39 r">b</span> = <span class="r42 r">c</span>;
            }

            <b>yield return</b> <span class="r38 r">lines</span>.<a href="@0@mscorlib/A.html#882fa7998d6ca35a" class="i method">Substring</a>(<span class="r40 r">start</span>);
        }

        <b>public static</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<b>string</b>&gt; <a id="5669589464949005" href="../R/5669589464949005.html" target="n" data-glyph="220,1" class="i method">SplitSlashes_OrEmpty</a>(<b>this</b> <b>string</b> <span id="r43 rd" class="r43 r">asText</span>)
        {
            <b>if</b> (<b>string</b>.<a href="@0@mscorlib/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<span class="r43 r">asText</span>))
                <b>yield break</b>;

            <b>int</b> <span id="r44 rd" class="r44 r">i</span> = 0, <span id="r45 rd" class="r45 r">j</span> = 0;
            <b>if</b> (<span class="r43 r">asText</span>[0] == <span class="s">&#39;/&#39;</span>)
                <span class="r44 r">i</span> = <span class="r45 r">j</span> = 1;
            <b>while</b> (<span class="r44 r">i</span> &lt; <span class="r43 r">asText</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> - 1)
            {
                <b>if</b> (<span class="r43 r">asText</span><a href="@0@mscorlib/A.html#8307d03426b56fe1">[</a><span class="r44 r">i</span>] == <span class="s">&#39;/&#39;</span>)
                {
                    <b>yield return</b> <span class="r43 r">asText</span>.<a href="@0@mscorlib/A.html#8124961f027d9ac9" class="i method">Substring</a>(<span class="r45 r">j</span>, <span class="r44 r">i</span> - <span class="r45 r">j</span>);
                    <span class="r45 r">j</span> = <span class="r44 r">i</span> + 1;
                }
                <span class="r44 r">i</span>++;
            }

            <b>if</b> (<span class="r43 r">asText</span><a href="@0@mscorlib/A.html#8307d03426b56fe1">[</a><span class="r44 r">i</span>] == <span class="s">&#39;/&#39;</span>)
                <b>yield return</b> <span class="r43 r">asText</span>.<a href="@0@mscorlib/A.html#8124961f027d9ac9" class="i method">Substring</a>(<span class="r45 r">j</span>, <span class="r43 r">asText</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> - <span class="r45 r">j</span> - 1);
            <b>else
                yield return</b> <span class="r43 r">asText</span>.<a href="@0@mscorlib/A.html#882fa7998d6ca35a" class="i method">Substring</a>(<span class="r45 r">j</span>);
        }

        <b>public static string</b> <a id="716e81edd05f4e8e" href="../R/../../0000000000.html" target="n" data-glyph="220,1" class="i method">ToHtmlWithSpaces</a>(<b>this</b> <b>string</b> <span id="r46 rd" class="r46 r">asText</span>)
        {
            <b>return</b> <a href="@0@System.Web/A.html#6fba8e72335f5cc8" class="t t">HttpContext</a>.<a href="@0@System.Web/A.html#917b79cec44466cd" class="i property">Current</a>.<a href="@0@System.Web/A.html#310d10e9dacf49da" class="i property">Server</a>.<a href="@0@System.Web/A.html#888cb15aef224eba" class="i method">HtmlEncode</a>(<span class="r46 r">asText</span>).<a href="@0@mscorlib/A.html#69fc1d0aa6df8a90" class="i method">Replace</a>(<span class="s">&quot;  &quot;</span>, <span class="s">&quot;&amp;nbsp;&amp;nbsp;&quot;</span>).<a href="@0@mscorlib/A.html#69fc1d0aa6df8a90" class="i method">Replace</a>(<span class="s">&quot;\t&quot;</span>, <span class="s">&quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;</span>);
        }

        <b>public static</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<span class="r47 r t">TSource</span>&gt; <a id="23f20472b512ec17" href="../R/../../0000000000.html" target="n" data-glyph="220,1" class="i method">OrderByStringNatural</a>&lt;<span id="r47 rd t" class="r47 r t">TSource</span>&gt;(<b>this</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<span class="r47 r t">TSource</span>&gt; <span id="r48 rd" class="r48 r">source</span>, <a href="@0@mscorlib/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<span class="r47 r t">TSource</span>, <b>string</b>&gt; <span id="r49 rd" class="r49 r">keySelector</span>)
        {
            <b>return</b> <span class="r48 r">source</span>.<a href="@0@System.Core/A.html#23eaf0fcd546108c" class="i method">OrderBy</a>(<span class="r49 r">keySelector</span>, <a href="#c149cc5445ea11d3" class="t t">StringNaturalComparer</a>.<a href="#705e774d0850052a" class="i property">Default</a>);
        }

        <b>class</b> <a id="c149cc5445ea11d3" href="../R/c149cc5445ea11d3.html" target="n" data-glyph="4,1" class="t t"><span id="bcf9112235164a06">StringNaturalComparer</span></a> : <a href="@0@mscorlib/A.html#6bf8828f51320498" class="t t">IComparer</a>&lt;<b>string</b>&gt;
        {
            <b>static</b> <a href="#c149cc5445ea11d3" class="t t">StringNaturalComparer</a> <a id="d0dbf40f86ebed59" href="../R/d0dbf40f86ebed59.html" target="n" data-glyph="46,2" class="i field">_default</a>;
            <b>public static</b> <a href="#c149cc5445ea11d3" class="t t">StringNaturalComparer</a> <a id="705e774d0850052a" href="../R/705e774d0850052a.html" target="n" data-glyph="102,2" class="i property">Default</a> { <b>get</b> { <b>return</b> <a href="#d0dbf40f86ebed59" class="i field">_default</a> ?? (<a href="#d0dbf40f86ebed59" class="i field">_default</a> = <b>new</b> <a href="#c149cc5445ea11d3" class="t constructor">StringNaturalComparer</a>()); } }
            <b>public int</b> <a id="a188432d6b2b50d5" href="../R/a188432d6b2b50d5.html" target="n" data-glyph="72,2" class="i method">Compare</a>(<b>string</b> <span id="r50 rd" class="r50 r">x</span>, <b>string</b> <span id="r51 rd" class="r51 r">y</span>)
            {
                <b>return</b> <a href="#6983e6c38521ca89" class="i method">CompareStringNatural</a>(<span class="r50 r">x</span>, <span class="r51 r">y</span>);
            }
        }

        <b>static int</b> <a id="6983e6c38521ca89" href="../R/6983e6c38521ca89.html" target="n" data-glyph="76,1" class="i method">CompareStringNatural</a>(<b>string</b> <span id="r52 rd" class="r52 r">s1</span>, <b>string</b> <span id="r53 rd" class="r53 r">s2</span>)
        {
            <b>if</b> (<span class="r52 r">s1</span> == <b>null</b> &amp;&amp; <span class="r53 r">s2</span> == <b>null</b>) <b>return</b> 0;
            <b>if</b> (<span class="r52 r">s1</span> == <b>null</b>) <b>return</b> -1;
            <b>if</b> (<span class="r53 r">s2</span> == <b>null</b>) <b>return</b> 1;
            <b>int</b> <span id="r54 rd" class="r54 r">x</span> = 0;
            <b>int</b> <span id="r55 rd" class="r55 r">y</span> = 0;
            <b>while</b> (<b>true</b>)
            {
                <b>if</b> (<span class="r54 r">x</span> &lt; <span class="r52 r">s1</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a>)
                {
                    <b>if</b> (<span class="r55 r">y</span> &gt;= <span class="r53 r">s2</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a>)
                        <b>return</b> 1;
                }
                <b>else if</b> (<span class="r55 r">y</span> &lt; <span class="r53 r">s2</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a>)
                    <b>return</b> -1;
                <b>else
                    return</b> 0;

                <b>char</b> <span id="r56 rd" class="r56 r">a</span> = <span class="r52 r">s1</span><a href="@0@mscorlib/A.html#8307d03426b56fe1">[</a><span class="r54 r">x</span>];
                <b>char</b> <span id="r57 rd" class="r57 r">b</span> = <span class="r53 r">s2</span><a href="@0@mscorlib/A.html#8307d03426b56fe1">[</a><span class="r55 r">y</span>];
                <b>if</b> (!(<b>char</b>.<a href="@0@mscorlib/A.html#041e77a953545d16" class="i method">IsDigit</a>(<span class="r56 r">a</span>) &amp;&amp; <b>char</b>.<a href="@0@mscorlib/A.html#041e77a953545d16" class="i method">IsDigit</a>(<span class="r57 r">b</span>)))
                {
                    <b>if</b> (<span class="r56 r">a</span> &gt; <span class="r57 r">b</span>)
                        <b>return</b> 1;
                    <b>if</b> (<span class="r56 r">a</span> &lt; <span class="r57 r">b</span>)
                        <b>return</b> -1;
                    <span class="r54 r">x</span>++;
                    <span class="r55 r">y</span>++;
                }
                <b>else</b>
                {
                    <b>bool</b> <span id="r58 rd" class="r58 r">zero</span> = <b>true</b>;
                    <b>int</b> <span id="r59 rd" class="r59 r">m</span> = <span class="r54 r">x</span>;
                    <b>while</b> (<span class="r59 r">m</span> &lt; <span class="r52 r">s1</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> &amp;&amp; <b>char</b>.<a href="@0@mscorlib/A.html#041e77a953545d16" class="i method">IsDigit</a>(<span class="r52 r">s1</span><a href="@0@mscorlib/A.html#8307d03426b56fe1">[</a><span class="r59 r">m</span>]))
                    {
                        <b>if</b> (<span class="r52 r">s1</span><a href="@0@mscorlib/A.html#8307d03426b56fe1">[</a><span class="r59 r">m</span>] == <span class="s">&#39;0&#39;</span> &amp;&amp; <span class="r58 r">zero</span>)
                            <span class="r54 r">x</span>++;
                        <b>else</b>
                            <span class="r58 r">zero</span> = <b>false</b>;
                        <span class="r59 r">m</span>++;
                    }

                    <span class="r58 r">zero</span> = <b>true</b>;
                    <b>int</b> <span id="r60 rd" class="r60 r">n</span> = <span class="r55 r">y</span>;
                    <b>while</b> (<span class="r60 r">n</span> &lt; <span class="r53 r">s2</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> &amp;&amp; <b>char</b>.<a href="@0@mscorlib/A.html#041e77a953545d16" class="i method">IsDigit</a>(<span class="r53 r">s2</span><a href="@0@mscorlib/A.html#8307d03426b56fe1">[</a><span class="r60 r">n</span>]))
                    {
                        <b>if</b> (<span class="r53 r">s2</span><a href="@0@mscorlib/A.html#8307d03426b56fe1">[</a><span class="r60 r">n</span>] == <span class="s">&#39;0&#39;</span> &amp;&amp; <span class="r58 r">zero</span>)
                            <span class="r55 r">y</span>++;
                        <b>else</b>
                            <span class="r58 r">zero</span> = <b>false</b>;
                        <span class="r60 r">n</span>++;
                    }

                    <b>if</b> (<span class="r59 r">m</span> - <span class="r54 r">x</span> &gt; <span class="r60 r">n</span> - <span class="r55 r">y</span>)
                        <b>return</b> 1;
                    <b>else if</b> (<span class="r59 r">m</span> - <span class="r54 r">x</span> &lt; <span class="r60 r">n</span> - <span class="r55 r">y</span>)
                        <b>return</b> -1;

                    <b>while</b> (<span class="r54 r">x</span> &lt; <span class="r59 r">m</span>)
                    {
                        <b>if</b> (<span class="r52 r">s1</span><a href="@0@mscorlib/A.html#8307d03426b56fe1">[</a><span class="r54 r">x</span>] &gt; <span class="r53 r">s2</span><a href="@0@mscorlib/A.html#8307d03426b56fe1">[</a><span class="r55 r">y</span>])
                            <b>return</b> 1;
                        <b>if</b> (<span class="r52 r">s1</span><a href="@0@mscorlib/A.html#8307d03426b56fe1">[</a><span class="r54 r">x</span>] &lt; <span class="r53 r">s2</span><a href="@0@mscorlib/A.html#8307d03426b56fe1">[</a><span class="r55 r">y</span>])
                            <b>return</b> -1;
                        <span class="r54 r">x</span>++;
                        <span class="r55 r">y</span>++;
                    }
                }
            }
        }
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>

        <span class="k preprocess">#</span><span class="k preprocess">region</span> Get Session
        <b>public static</b> <a href="../Lib/WebBrowsingSettings.cs.html#e0dcb589efd9271d" class="t t">WebBrowsingSettings</a> <a id="87c9562f29cb378d" href="../R/87c9562f29cb378d.html" target="n" data-glyph="220,1" class="i method">GetWebBrowsingSettings</a>(<b>this</b> <a href="/System.Web.Mvc/A.html#8704ba2c1847f1ec" class="t t">Controller</a> <span id="r61 rd" class="r61 r">aoController</span>)
        {
            <a href="../Lib/WebBrowsingSettings.cs.html#e0dcb589efd9271d" class="t t">WebBrowsingSettings</a> <span id="r62 rd" class="r62 r">loSettings</span> = <span class="r61 r">aoController</span>.<a href="/System.Web.Mvc/A.html#43d89fe1c65d7553" class="i property">Session</a><a href="@0@System.Web/A.html#1da665a0b49aa2f9">[</a><span class="s">&quot;WebBrowsingSettings&quot;</span>] <b>as</b> <a href="../Lib/WebBrowsingSettings.cs.html#e0dcb589efd9271d" class="t t">WebBrowsingSettings</a>;
            <b>if</b> (<span class="r62 r">loSettings</span> == <b>null</b>)
                <span class="r61 r">aoController</span>.<a href="/System.Web.Mvc/A.html#43d89fe1c65d7553" class="i property">Session</a><a href="@0@System.Web/A.html#1da665a0b49aa2f9">[</a><span class="s">&quot;WebBrowsingSettings&quot;</span>] = <span class="r62 r">loSettings</span> = <b>new</b> <a href="../Lib/WebBrowsingSettings.cs.html#e0dcb589efd9271d" class="t constructor">WebBrowsingSettings</a>();
            <b>return</b> <span class="r62 r">loSettings</span>;
        }
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>

        <span class="k preprocess">#</span><span class="k preprocess">region</span> IEnumerable
        <b>public static int</b> <a id="dd4192a2eb2f5cc2" href="../R/../../0000000000.html" target="n" data-glyph="220,1" class="i method">CountWithLimit</a>&lt;<span id="r63 rd t" class="r63 r t">T</span>&gt;(<b>this</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<span class="r63 r t">T</span>&gt; <span id="r64 rd" class="r64 r">atqSource</span>, <b>int</b> <span id="r65 rd" class="r65 r">aiMaxCount</span>)
        {
            <b>int</b> <span id="r66 rd" class="r66 r">liCount</span> = 0;
            <b>foreach</b> (<span class="r63 r t">var</span> <span id="r67 rd" class="r67 r">atItem</span> <b>in</b> <span class="r64 r">atqSource</span>)
            {
                <span class="r66 r">liCount</span>++;
                <b>if</b> (<span class="r66 r">liCount</span> &gt; <span class="r65 r">aiMaxCount</span>)
                    <b>return</b> <span class="r66 r">liCount</span>;
            }
            <b>return</b> <span class="r66 r">liCount</span>;
        }
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
    }
}</pre></td></tr></table></div></body></html>
