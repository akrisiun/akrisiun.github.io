<!DOCTYPE html>
<html><head><title>ByteBuffer.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(222);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Sharpen/Sharpen/ByteBuffer.cs" target="_top">Sharpen\ByteBuffer.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Sharpen" target="_top">lib\NGit\Sharpen\Sharpen.csproj</a> (Sharpen)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>namespace</b> <span class="i n">Sharpen</span>
{
	<b>using</b> <span class="i n">System</span>;

	<b>public class</b> <a id="acd2106f2585deaa" href="../R/acd2106f2585deaa.html" target="n" data-glyph="0,0" class="t t">ByteBuffer</a>
	{
		<b>private byte</b>[] <a id="1760077217a7d3f0" href="../R/1760077217a7d3f0.html" target="n" data-glyph="46,1" class="i field">buffer</a>;
		<b>private</b> <a href="DataConverter.cs.html#d38c9b38115a8146" class="t t">DataConverter</a> <a id="1c0528dc396915a1" href="../R/1c0528dc396915a1.html" target="n" data-glyph="46,1" class="i field">c</a>;
		<b>private int</b> <a id="c2b0794705e20476" href="../R/c2b0794705e20476.html" target="n" data-glyph="46,1" class="i field">capacity</a>;
		<b>private int</b> <a id="3535bb7ad1a79cd5" href="../R/3535bb7ad1a79cd5.html" target="n" data-glyph="46,1" class="i field">index</a>;
		<b>private int</b> <a id="bd3a5f252c8d9453" href="../R/bd3a5f252c8d9453.html" target="n" data-glyph="46,1" class="i field">limit</a>;
		<b>private int</b> <a id="80b4ec6820f5d4e2" href="../R/80b4ec6820f5d4e2.html" target="n" data-glyph="46,1" class="i field">mark</a>;
		<b>private int</b> <a id="6915bb28869b72a2" href="../R/6915bb28869b72a2.html" target="n" data-glyph="46,1" class="i field">offset</a>;
		<b>private</b> <a href="ByteOrder.cs.html#22d4d96d0a5b76fc" class="t t">ByteOrder</a> <a id="70fd944178dad56e" href="../R/70fd944178dad56e.html" target="n" data-glyph="46,1" class="i field">order</a>;

		<b>public</b> <a id="5cd454ddc1e992c0" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i constructor">ByteBuffer</a> ()
		{
			<a href="#acd2106f2585deaa" class="k">this</a>.<a href="#1c0528dc396915a1" class="i field">c</a> = <a href="DataConverter.cs.html#d38c9b38115a8146" class="t t">DataConverter</a>.<a href="DataConverter.cs.html#c50078a15eabf9fe" class="i property">BigEndian</a>;
		}

		<b>private</b> <a id="5d42afaa6a6aa1ee" href="../R/5d42afaa6a6aa1ee.html" target="n" data-glyph="76,1" class="i constructor">ByteBuffer</a> (<b>byte</b>[] <span id="r0 rd" class="r0 r">buf</span>, <b>int</b> <span id="r1 rd" class="r1 r">start</span>, <b>int</b> <span id="r2 rd" class="r2 r">len</span>)
		{
			<a href="#acd2106f2585deaa" class="k">this</a>.<a href="#1760077217a7d3f0" class="i field">buffer</a> = <span class="r0 r">buf</span>;
			<a href="#acd2106f2585deaa" class="k">this</a>.<a href="#6915bb28869b72a2" class="i field">offset</a> = 0;
			<a href="#acd2106f2585deaa" class="k">this</a>.<a href="#bd3a5f252c8d9453" class="i field">limit</a> = <span class="r1 r">start</span> + <span class="r2 r">len</span>;
			<a href="#acd2106f2585deaa" class="k">this</a>.<a href="#3535bb7ad1a79cd5" class="i field">index</a> = <span class="r1 r">start</span>;
			<a href="#acd2106f2585deaa" class="k">this</a>.<a href="#80b4ec6820f5d4e2" class="i field">mark</a> = <span class="r1 r">start</span>;
			<a href="#acd2106f2585deaa" class="k">this</a>.<a href="#c2b0794705e20476" class="i field">capacity</a> = <span class="r0 r">buf</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a>;
			<a href="#acd2106f2585deaa" class="k">this</a>.<a href="#1c0528dc396915a1" class="i field">c</a> = <a href="DataConverter.cs.html#d38c9b38115a8146" class="t t">DataConverter</a>.<a href="DataConverter.cs.html#c50078a15eabf9fe" class="i property">BigEndian</a>;
		}

		<b>public static</b> <a href="#acd2106f2585deaa" class="t t">ByteBuffer</a> <a id="7be4f866b161dcf2" href="../R/7be4f866b161dcf2.html" target="n" data-glyph="72,1" class="i method">Allocate</a> (<b>int</b> <span id="r3 rd" class="r3 r">size</span>)
		{
			<b>return</b> <b>new</b> <a href="#5d42afaa6a6aa1ee" class="t constructor">ByteBuffer</a> (<b>new</b> <b>byte</b>[<span class="r3 r">size</span>], 0, <span class="r3 r">size</span>);
		}

		<b>public static</b> <a href="#acd2106f2585deaa" class="t t">ByteBuffer</a> <a id="512d576cb22df60f" href="../R/512d576cb22df60f.html" target="n" data-glyph="72,1" class="i method">AllocateDirect</a> (<b>int</b> <span id="r4 rd" class="r4 r">size</span>)
		{
			<b>return</b> <a href="#7be4f866b161dcf2" class="i method">Allocate</a> (<span class="r4 r">size</span>);
		}

		<b>public byte</b>[] <a id="54ed5cd8ac1c6e11" href="../R/54ed5cd8ac1c6e11.html" target="n" data-glyph="72,1" class="i method">Array</a> ()
		{
			<b>return</b> <a href="#1760077217a7d3f0" class="i field">buffer</a>;
		}

		<b>public int</b> <a id="b6345cd122505eb1" href="../R/b6345cd122505eb1.html" target="n" data-glyph="72,1" class="i method">ArrayOffset</a> ()
		{
			<b>return</b> <a href="#6915bb28869b72a2" class="i field">offset</a>;
		}

		<b>public int</b> <a id="d92882309774da7b" href="../R/d92882309774da7b.html" target="n" data-glyph="72,1" class="i method">Capacity</a> ()
		{
			<b>return</b> <a href="#c2b0794705e20476" class="i field">capacity</a>;
		}

		<b>private void</b> <a id="4c1e61e309814f96" href="../R/4c1e61e309814f96.html" target="n" data-glyph="76,1" class="i method">CheckGetLimit</a> (<b>int</b> <span id="r5 rd" class="r5 r">inc</span>)
		{
			<b>if</b> ((<a href="#3535bb7ad1a79cd5" class="i field">index</a> + <span class="r5 r">inc</span>) &gt; <a href="#bd3a5f252c8d9453" class="i field">limit</a>) {
				<b>throw</b> <b>new</b> <a href="Exceptions.cs.html#3a42882e0663f916" class="t constructor">BufferUnderflowException</a> ();
			}
		}

		<b>private void</b> <a id="998179cea101d251" href="../R/998179cea101d251.html" target="n" data-glyph="76,1" class="i method">CheckPutLimit</a> (<b>int</b> <span id="r6 rd" class="r6 r">inc</span>)
		{
			<b>if</b> ((<a href="#3535bb7ad1a79cd5" class="i field">index</a> + <span class="r6 r">inc</span>) &gt; <a href="#bd3a5f252c8d9453" class="i field">limit</a>) {
				<b>throw</b> <b>new</b> <a href="Exceptions.cs.html#3a42882e0663f916" class="t constructor">BufferUnderflowException</a> ();
			}
		}

		<b>public void</b> <a id="8a3903a610562dd9" href="../R/8a3903a610562dd9.html" target="n" data-glyph="72,1" class="i method">Clear</a> ()
		{
			<a href="#3535bb7ad1a79cd5" class="i field">index</a> = <a href="#6915bb28869b72a2" class="i field">offset</a>;
			<a href="#bd3a5f252c8d9453" class="i field">limit</a> = <a href="#6915bb28869b72a2" class="i field">offset</a> + <a href="#c2b0794705e20476" class="i field">capacity</a>;
		}

		<b>public void</b> <a id="93f6ded5aa5b4cf9" href="../R/93f6ded5aa5b4cf9.html" target="n" data-glyph="72,1" class="i method">Flip</a> ()
		{
			<a href="#bd3a5f252c8d9453" class="i field">limit</a> = <a href="#3535bb7ad1a79cd5" class="i field">index</a>;
			<a href="#3535bb7ad1a79cd5" class="i field">index</a> = <a href="#6915bb28869b72a2" class="i field">offset</a>;
		}

		<b>public byte</b> <a id="652c758152c6326f" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Get</a> ()
		{
			<a href="#4c1e61e309814f96" class="i method">CheckGetLimit</a> (1);
			<b>return</b> <a href="#1760077217a7d3f0" class="i field">buffer</a>[<a href="#3535bb7ad1a79cd5" class="i field">index</a>++];
		}

		<b>public void</b> <a id="03035ac0d722c0ec" href="../R/03035ac0d722c0ec.html" target="n" data-glyph="72,1" class="i method">Get</a> (<b>byte</b>[] <span id="r7 rd" class="r7 r">data</span>)
		{
			<a href="#05fa678f0ab29f46" class="i method">Get</a> (<span class="r7 r">data</span>, 0, <span class="r7 r">data</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a>);
		}

		<b>public void</b> <a id="05fa678f0ab29f46" href="../R/05fa678f0ab29f46.html" target="n" data-glyph="72,1" class="i method">Get</a> (<b>byte</b>[] <span id="r8 rd" class="r8 r">data</span>, <b>int</b> <span id="r9 rd" class="r9 r">start</span>, <b>int</b> <span id="r10 rd" class="r10 r">len</span>)
		{
			<a href="#4c1e61e309814f96" class="i method">CheckGetLimit</a> (<span class="r10 r">len</span>);
			<b>for</b> (<b>int</b> <span id="r11 rd" class="r11 r">i</span> = 0; <span class="r11 r">i</span> &lt; <span class="r10 r">len</span>; <span class="r11 r">i</span>++) {
				<span class="r8 r">data</span>[<span class="r11 r">i</span> + <span class="r9 r">start</span>] = <a href="#1760077217a7d3f0" class="i field">buffer</a>[<a href="#3535bb7ad1a79cd5" class="i field">index</a>++];
			}
		}

		<b>public int</b> <a id="1007de52c282401d" href="../R/1007de52c282401d.html" target="n" data-glyph="72,1" class="i method">GetInt</a> ()
		{
			<a href="#4c1e61e309814f96" class="i method">CheckGetLimit</a> (4);
			<b>int</b> <span id="r12 rd" class="r12 r">num</span> = <a href="#1c0528dc396915a1" class="i field">c</a>.<a href="DataConverter.cs.html#e9a35cd13c993fe5" class="i method">GetInt32</a> (<a href="#1760077217a7d3f0" class="i field">buffer</a>, <a href="#3535bb7ad1a79cd5" class="i field">index</a>);
			<a href="#3535bb7ad1a79cd5" class="i field">index</a> += 4;
			<b>return</b> <span class="r12 r">num</span>;
		}

		<b>public short</b> <a id="e27ef906f2b36ff1" href="../R/e27ef906f2b36ff1.html" target="n" data-glyph="72,1" class="i method">GetShort</a> ()
		{
			<a href="#4c1e61e309814f96" class="i method">CheckGetLimit</a> (2);
			<b>short</b> <span id="r13 rd" class="r13 r">num</span> = <a href="#1c0528dc396915a1" class="i field">c</a>.<a href="DataConverter.cs.html#749241054e2fcb1d" class="i method">GetInt16</a> (<a href="#1760077217a7d3f0" class="i field">buffer</a>, <a href="#3535bb7ad1a79cd5" class="i field">index</a>);
			<a href="#3535bb7ad1a79cd5" class="i field">index</a> += 2;
			<b>return</b> <span class="r13 r">num</span>;
		}

		<b>public bool</b> <a id="3d07c31c25669c55" href="../R/3d07c31c25669c55.html" target="n" data-glyph="72,1" class="i method">HasArray</a> ()
		{
			<b>return true</b>;
		}

		<b>public int</b> <a id="258bca75685e3b6e" href="../R/258bca75685e3b6e.html" target="n" data-glyph="72,1" class="i method">Limit</a> ()
		{
			<b>return</b> (<a href="#bd3a5f252c8d9453" class="i field">limit</a> - <a href="#6915bb28869b72a2" class="i field">offset</a>);
		}

		<b>public void</b> <a id="a0167d86e10f5996" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Limit</a> (<b>int</b> <span id="r14 rd" class="r14 r">newLimit</span>)
		{
			<a href="#bd3a5f252c8d9453" class="i field">limit</a> = <span class="r14 r">newLimit</span>;
		}

		<b>public void</b> <a id="699ea903fbe5d68d" href="../R/699ea903fbe5d68d.html" target="n" data-glyph="72,1" class="i method">Mark</a> ()
		{
			<a href="#80b4ec6820f5d4e2" class="i field">mark</a> = <a href="#3535bb7ad1a79cd5" class="i field">index</a>;
		}

		<b>public void</b> <a id="39ad77915fd6988b" href="../R/39ad77915fd6988b.html" target="n" data-glyph="72,1" class="i method">Order</a> (<a href="ByteOrder.cs.html#22d4d96d0a5b76fc" class="t t">ByteOrder</a> <span id="r15 rd" class="r15 r">order</span>)
		{
			<a href="#acd2106f2585deaa" class="k">this</a>.<a href="#70fd944178dad56e" class="i field">order</a> = <span class="r15 r">order</span>;
			<b>if</b> (<span class="r15 r">order</span> == <a href="ByteOrder.cs.html#22d4d96d0a5b76fc" class="t t">ByteOrder</a>.<a href="ByteOrder.cs.html#530bfdb84718f0c8" class="i field">BIG_ENDIAN</a>) {
				<a href="#1c0528dc396915a1" class="i field">c</a> = <a href="DataConverter.cs.html#d38c9b38115a8146" class="t t">DataConverter</a>.<a href="DataConverter.cs.html#c50078a15eabf9fe" class="i property">BigEndian</a>;
			} <b>else</b> {
				<a href="#1c0528dc396915a1" class="i field">c</a> = <a href="DataConverter.cs.html#d38c9b38115a8146" class="t t">DataConverter</a>.<a href="DataConverter.cs.html#76e8f10ef40808e8" class="i property">LittleEndian</a>;
			}
		}

		<b>public int</b> <a id="38b0ce9f0a62c024" href="../R/38b0ce9f0a62c024.html" target="n" data-glyph="72,1" class="i method">Position</a> ()
		{
			<b>return</b> (<a href="#3535bb7ad1a79cd5" class="i field">index</a> - <a href="#6915bb28869b72a2" class="i field">offset</a>);
		}

		<b>public void</b> <a id="26a71b496c81e5e9" href="../R/26a71b496c81e5e9.html" target="n" data-glyph="72,1" class="i method">Position</a> (<b>int</b> <span id="r16 rd" class="r16 r">pos</span>)
		{
			<b>if</b> ((<span class="r16 r">pos</span> &lt; <a href="#6915bb28869b72a2" class="i field">offset</a>) || (<span class="r16 r">pos</span> &gt; <a href="#bd3a5f252c8d9453" class="i field">limit</a>)) {
				<b>throw</b> <b>new</b> <a href="Exceptions.cs.html#3a42882e0663f916" class="t constructor">BufferUnderflowException</a> ();
			}
			<a href="#3535bb7ad1a79cd5" class="i field">index</a> = <span class="r16 r">pos</span> + <a href="#6915bb28869b72a2" class="i field">offset</a>;
		}

		<b>public void</b> <a id="50903f3c93dfe082" href="../R/50903f3c93dfe082.html" target="n" data-glyph="72,1" class="i method">Put</a> (<b>byte</b>[] <span id="r17 rd" class="r17 r">data</span>)
		{
			<a href="#e896caf6a0f72d13" class="i method">Put</a> (<span class="r17 r">data</span>, 0, <span class="r17 r">data</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a>);
		}

		<b>public void</b> <a id="d554e429761be913" href="../R/d554e429761be913.html" target="n" data-glyph="72,1" class="i method">Put</a> (<b>byte</b> <span id="r18 rd" class="r18 r">data</span>)
		{
			<a href="#998179cea101d251" class="i method">CheckPutLimit</a> (1);
			<a href="#1760077217a7d3f0" class="i field">buffer</a>[<a href="#3535bb7ad1a79cd5" class="i field">index</a>++] = <span class="r18 r">data</span>;
		}

		<b>public void</b> <a id="e896caf6a0f72d13" href="../R/e896caf6a0f72d13.html" target="n" data-glyph="72,1" class="i method">Put</a> (<b>byte</b>[] <span id="r19 rd" class="r19 r">data</span>, <b>int</b> <span id="r20 rd" class="r20 r">start</span>, <b>int</b> <span id="r21 rd" class="r21 r">len</span>)
		{
			<a href="#998179cea101d251" class="i method">CheckPutLimit</a> (<span class="r21 r">len</span>);
			<b>for</b> (<b>int</b> <span id="r22 rd" class="r22 r">i</span> = 0; <span class="r22 r">i</span> &lt; <span class="r21 r">len</span>; <span class="r22 r">i</span>++) {
				<a href="#1760077217a7d3f0" class="i field">buffer</a>[<a href="#3535bb7ad1a79cd5" class="i field">index</a>++] = <span class="r19 r">data</span>[<span class="r22 r">i</span> + <span class="r20 r">start</span>];
			}
		}

		<b>public void</b> <a id="7559a5532186e4ff" href="../R/7559a5532186e4ff.html" target="n" data-glyph="72,1" class="i method">PutInt</a> (<b>int</b> <span id="r23 rd" class="r23 r">i</span>)
		{
			<a href="#50903f3c93dfe082" class="i method">Put</a> (<a href="#1c0528dc396915a1" class="i field">c</a>.<a href="DataConverter.cs.html#4532f6bb0bd4d015" class="i method">GetBytes</a> (<span class="r23 r">i</span>));
		}

		<b>public void</b> <a id="4da777a5cc183361" href="../R/4da777a5cc183361.html" target="n" data-glyph="72,1" class="i method">PutShort</a> (<b>short</b> <span id="r24 rd" class="r24 r">i</span>)
		{
			<a href="#50903f3c93dfe082" class="i method">Put</a> (<a href="#1c0528dc396915a1" class="i field">c</a>.<a href="DataConverter.cs.html#fc0c52a5206b720f" class="i method">GetBytes</a> (<span class="r24 r">i</span>));
		}

		<b>public int</b> <a id="6297f4645d70f598" href="../R/6297f4645d70f598.html" target="n" data-glyph="72,1" class="i method">Remaining</a> ()
		{
			<b>return</b> (<a href="#bd3a5f252c8d9453" class="i field">limit</a> - <a href="#3535bb7ad1a79cd5" class="i field">index</a>);
		}

		<b>public void</b> <a id="64f833959212e98a" href="../R/64f833959212e98a.html" target="n" data-glyph="72,1" class="i method">Reset</a> ()
		{
			<a href="#3535bb7ad1a79cd5" class="i field">index</a> = <a href="#80b4ec6820f5d4e2" class="i field">mark</a>;
		}

		<b>public</b> <a href="#acd2106f2585deaa" class="t t">ByteBuffer</a> <a id="313a24a941565a53" href="../R/313a24a941565a53.html" target="n" data-glyph="72,1" class="i method">Slice</a> ()
		{
			<a href="#acd2106f2585deaa" class="t t">ByteBuffer</a> <span id="r25 rd" class="r25 r">b</span> = <a href="#b6b67e57f05085e3" class="i method">Wrap</a> (<a href="#1760077217a7d3f0" class="i field">buffer</a>, <a href="#3535bb7ad1a79cd5" class="i field">index</a>, <a href="#1760077217a7d3f0" class="i field">buffer</a>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> - <a href="#3535bb7ad1a79cd5" class="i field">index</a>);
			<span class="r25 r">b</span>.<a href="#6915bb28869b72a2" class="i field">offset</a> = <a href="#3535bb7ad1a79cd5" class="i field">index</a>;
			<span class="r25 r">b</span>.<a href="#bd3a5f252c8d9453" class="i field">limit</a> = <a href="#bd3a5f252c8d9453" class="i field">limit</a>;
			<span class="r25 r">b</span>.<a href="#70fd944178dad56e" class="i field">order</a> = <a href="#70fd944178dad56e" class="i field">order</a>;
			<span class="r25 r">b</span>.<a href="#1c0528dc396915a1" class="i field">c</a> = <a href="#1c0528dc396915a1" class="i field">c</a>;
			<span class="r25 r">b</span>.<a href="#c2b0794705e20476" class="i field">capacity</a> = <a href="#bd3a5f252c8d9453" class="i field">limit</a> - <a href="#3535bb7ad1a79cd5" class="i field">index</a>;
			<b>return</b> <span class="r25 r">b</span>;
		}

		<b>public static</b> <a href="#acd2106f2585deaa" class="t t">ByteBuffer</a> <a id="433ffbd9966f8872" href="../R/433ffbd9966f8872.html" target="n" data-glyph="72,1" class="i method">Wrap</a> (<b>byte</b>[] <span id="r26 rd" class="r26 r">buf</span>)
		{
			<b>return</b> <b>new</b> <a href="#5d42afaa6a6aa1ee" class="t constructor">ByteBuffer</a> (<span class="r26 r">buf</span>, 0, <span class="r26 r">buf</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a>);
		}

		<b>public static</b> <a href="#acd2106f2585deaa" class="t t">ByteBuffer</a> <a id="b6b67e57f05085e3" href="../R/b6b67e57f05085e3.html" target="n" data-glyph="72,1" class="i method">Wrap</a> (<b>byte</b>[] <span id="r27 rd" class="r27 r">buf</span>, <b>int</b> <span id="r28 rd" class="r28 r">start</span>, <b>int</b> <span id="r29 rd" class="r29 r">len</span>)
		{
			<b>return</b> <b>new</b> <a href="#5d42afaa6a6aa1ee" class="t constructor">ByteBuffer</a> (<span class="r27 r">buf</span>, <span class="r28 r">start</span>, <span class="r29 r">len</span>);
		}
	}
}
</pre></td></tr></table></div></body></html>
