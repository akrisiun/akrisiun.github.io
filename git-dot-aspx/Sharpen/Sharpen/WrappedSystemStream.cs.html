<!DOCTYPE html>
<html><head><title>WrappedSystemStream.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(137);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Sharpen/Sharpen/WrappedSystemStream.cs" target="_top">Sharpen\WrappedSystemStream.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Sharpen" target="_top">lib\NGit\Sharpen\Sharpen.csproj</a> (Sharpen)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>namespace</b> <span class="i n">Sharpen</span>
{
	<b>using</b> <span class="i n">System</span>;
	<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;

	<b>internal class</b> <a id="bc4eed4b3442c830" href="../R/bc4eed4b3442c830.html" target="n" data-glyph="2,0" class="t t">WrappedSystemStream</a> : <a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a>
	{
		<b>private</b> <a href="InputStream.cs.html#5fe75b93f596f64a" class="t t">InputStream</a> <a id="a863c9cf1d9c7747" href="../R/a863c9cf1d9c7747.html" target="n" data-glyph="46,1" class="i field">ist</a>;
		<b>private</b> <a href="OutputStream.cs.html#f960ef5651b4ede1" class="t t">OutputStream</a> <a id="213363d51437b82b" href="../R/213363d51437b82b.html" target="n" data-glyph="46,1" class="i field">ost</a>;
		<b>int</b> <a id="135e8354f4b4aaad" href="../R/135e8354f4b4aaad.html" target="n" data-glyph="46,1" class="i field">position</a>;
		<b>int</b> <a id="e51ad561a5305175" href="../R/e51ad561a5305175.html" target="n" data-glyph="46,1" class="i field">markedPosition</a>;

		<b>public</b> <a id="e23b45a539b186af" href="../R/e23b45a539b186af.html" target="n" data-glyph="72,1" class="i constructor">WrappedSystemStream</a> (<a href="InputStream.cs.html#5fe75b93f596f64a" class="t t">InputStream</a> <span id="r0 rd" class="r0 r">ist</span>)
		{
			<a href="#bc4eed4b3442c830" class="k">this</a>.<a href="#a863c9cf1d9c7747" class="i field">ist</a> = <span class="r0 r">ist</span>;
		}

		<b>public</b> <a id="2b36721ba4e4b665" href="../R/2b36721ba4e4b665.html" target="n" data-glyph="72,1" class="i constructor">WrappedSystemStream</a> (<a href="OutputStream.cs.html#f960ef5651b4ede1" class="t t">OutputStream</a> <span id="r1 rd" class="r1 r">ost</span>)
		{
			<a href="#bc4eed4b3442c830" class="k">this</a>.<a href="#213363d51437b82b" class="i field">ost</a> = <span class="r1 r">ost</span>;
		}
		
		<b>public</b> <a href="InputStream.cs.html#5fe75b93f596f64a" class="t t">InputStream</a> <a id="0f203658cd261ab3" href="../R/0f203658cd261ab3.html" target="n" data-glyph="102,1" class="i property">InputStream</a> {
			<b>get</b> { <b>return</b> <a href="#a863c9cf1d9c7747" class="i field">ist</a>; }
		}

		<b>public</b> <a href="OutputStream.cs.html#f960ef5651b4ede1" class="t t">OutputStream</a> <a id="f705b5fb3a5c9bef" href="../R/f705b5fb3a5c9bef.html" target="n" data-glyph="102,1" class="i property">OutputStream</a> {
			<b>get</b> { <b>return</b> <a href="#213363d51437b82b" class="i field">ost</a>; }
		}

		<b>public override void</b> <a id="4d45098a76ddac5f" href="../R/4d45098a76ddac5f.html" target="n" data-glyph="72,1" class="i method">Close</a> ()
		{
			<b>if</b> (<a href="#bc4eed4b3442c830" class="k">this</a>.<a href="#a863c9cf1d9c7747" class="i field">ist</a> != <b>null</b>) {
				<a href="#bc4eed4b3442c830" class="k">this</a>.<a href="#a863c9cf1d9c7747" class="i field">ist</a>.<a href="InputStream.cs.html#33119cbb009fb311" class="i method">Close</a> ();
			}
			<b>if</b> (<a href="#bc4eed4b3442c830" class="k">this</a>.<a href="#213363d51437b82b" class="i field">ost</a> != <b>null</b>) {
				<a href="#bc4eed4b3442c830" class="k">this</a>.<a href="#213363d51437b82b" class="i field">ost</a>.<a href="OutputStream.cs.html#6788f268a20b51ce" class="i method">Close</a> ();
			}
		}

		<b>public override void</b> <a id="0efc0c72a77c3b08" href="../R/0efc0c72a77c3b08.html" target="n" data-glyph="72,1" class="i method">Flush</a> ()
		{
			<a href="#bc4eed4b3442c830" class="k">this</a>.<a href="#213363d51437b82b" class="i field">ost</a>.<a href="OutputStream.cs.html#c075b35eb5730068" class="i method">Flush</a> ();
		}

		<b>public override int</b> <a id="1bab1e606a63e4e3" href="../R/1bab1e606a63e4e3.html" target="n" data-glyph="72,1" class="i method">Read</a> (<b>byte</b>[] <span id="r2 rd" class="r2 r">buffer</span>, <b>int</b> <span id="r3 rd" class="r3 r">offset</span>, <b>int</b> <span id="r4 rd" class="r4 r">count</span>)
		{
			<b>int</b> <span id="r5 rd" class="r5 r">res</span> = <a href="#bc4eed4b3442c830" class="k">this</a>.<a href="#a863c9cf1d9c7747" class="i field">ist</a>.<a href="InputStream.cs.html#aed09ce58860ccfe" class="i method">Read</a> (<span class="r2 r">buffer</span>, <span class="r3 r">offset</span>, <span class="r4 r">count</span>);
			<b>if</b> (<span class="r5 r">res</span> != -1) {
				<a href="#135e8354f4b4aaad" class="i field">position</a> += <span class="r5 r">res</span>;
				<b>return</b> <span class="r5 r">res</span>;
			} <b>else
				return</b> 0;
		}

		<b>public override int</b> <a id="78f392af3a50dacf" href="../R/78f392af3a50dacf.html" target="n" data-glyph="72,1" class="i method">ReadByte</a> ()
		{
			<b>int</b> <span id="r6 rd" class="r6 r">res</span> = <a href="#bc4eed4b3442c830" class="k">this</a>.<a href="#a863c9cf1d9c7747" class="i field">ist</a>.<a href="InputStream.cs.html#b625a7eb20027ae8" class="i method">Read</a> ();
			<b>if</b> (<span class="r6 r">res</span> != -1)
				<a href="#135e8354f4b4aaad" class="i field">position</a>++;
			<b>return</b> <span class="r6 r">res</span>;
		}

		<b>public override long</b> <a id="254a4544d376cc93" href="../R/254a4544d376cc93.html" target="n" data-glyph="72,1" class="i method">Seek</a> (<b>long</b> <span id="r7 rd" class="r7 r">offset</span>, <a href="@0@mscorlib/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a> <span id="r8 rd" class="r8 r">origin</span>)
		{
			<b>if</b> (<span class="r8 r">origin</span> == <a href="@0@mscorlib/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a>.<a href="@0@mscorlib/A.html#c29481af7c617299" class="i field">Begin</a>)
				<a href="#be04227a68574448" class="i property">Position</a> = <span class="r7 r">offset</span>;
			<b>else if</b> (<span class="r8 r">origin</span> == <a href="@0@mscorlib/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a>.<a href="@0@mscorlib/A.html#efa75a72affe543f" class="i field">Current</a>)
				<a href="#be04227a68574448" class="i property">Position</a> = <a href="#be04227a68574448" class="i property">Position</a> + <span class="r7 r">offset</span>;
			<b>else if</b> (<span class="r8 r">origin</span> == <a href="@0@mscorlib/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a>.<a href="@0@mscorlib/A.html#b6e266c635b89485" class="i field">End</a>)
				<a href="#be04227a68574448" class="i property">Position</a> = <a href="#12802667dc5ff718" class="i property">Length</a> + <span class="r7 r">offset</span>;
			<b>return</b> <a href="#be04227a68574448" class="i property">Position</a>;
		}

		<b>public override void</b> <a id="f132e391274bd745" href="../R/f132e391274bd745.html" target="n" data-glyph="72,1" class="i method">SetLength</a> (<b>long</b> <span id="r9 rd" class="r9 r">value</span>)
		{
			<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#ab0acd5f99886747" class="t constructor">NotSupportedException</a> ();
		}

		<b>public override void</b> <a id="3406c6fb23507d3c" href="../R/3406c6fb23507d3c.html" target="n" data-glyph="72,1" class="i method">Write</a> (<b>byte</b>[] <span id="r10 rd" class="r10 r">buffer</span>, <b>int</b> <span id="r11 rd" class="r11 r">offset</span>, <b>int</b> <span id="r12 rd" class="r12 r">count</span>)
		{
			<a href="#bc4eed4b3442c830" class="k">this</a>.<a href="#213363d51437b82b" class="i field">ost</a>.<a href="OutputStream.cs.html#54b79431ffc12110" class="i method">Write</a> (<span class="r10 r">buffer</span>, <span class="r11 r">offset</span>, <span class="r12 r">count</span>);
			<a href="#135e8354f4b4aaad" class="i field">position</a> += <span class="r12 r">count</span>;
		}

		<b>public override void</b> <a id="5b6d52d4b883f138" href="../R/5b6d52d4b883f138.html" target="n" data-glyph="72,1" class="i method">WriteByte</a> (<b>byte</b> <span id="r13 rd" class="r13 r">value</span>)
		{
			<a href="#bc4eed4b3442c830" class="k">this</a>.<a href="#213363d51437b82b" class="i field">ost</a>.<a href="OutputStream.cs.html#acd4639498b60294" class="i method">Write</a> (<span class="r13 r">value</span>);
			<a href="#135e8354f4b4aaad" class="i field">position</a>++;
		}

		<b>public override bool</b> <a id="99bb5ed27aed2c1e" href="../R/99bb5ed27aed2c1e.html" target="n" data-glyph="102,1" class="i property">CanRead</a> {
			<b>get</b> { <b>return</b> (<a href="#bc4eed4b3442c830" class="k">this</a>.<a href="#a863c9cf1d9c7747" class="i field">ist</a> != <b>null</b>); }
		}

		<b>public override bool</b> <a id="37ccd4f2b4029d62" href="../R/37ccd4f2b4029d62.html" target="n" data-glyph="102,1" class="i property">CanSeek</a> {
			<b>get</b> { <b>return true</b>; }
		}

		<b>public override bool</b> <a id="48df78a579cb881b" href="../R/48df78a579cb881b.html" target="n" data-glyph="102,1" class="i property">CanWrite</a> {
			<b>get</b> { <b>return</b> (<a href="#bc4eed4b3442c830" class="k">this</a>.<a href="#213363d51437b82b" class="i field">ost</a> != <b>null</b>); }
		}

		<b>public override long</b> <a id="12802667dc5ff718" href="../R/12802667dc5ff718.html" target="n" data-glyph="102,1" class="i property">Length</a> {
			<b>get</b> {
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#ab0acd5f99886747" class="t constructor">NotSupportedException</a> ();
			}
		}
		
		<b>internal void</b> <a id="6ea397e4ea2db925" href="../R/6ea397e4ea2db925.html" target="n" data-glyph="74,1" class="i method">OnMark</a> (<b>int</b> <span id="r14 rd" class="r14 r">nb</span>)
		{
			<a href="#e51ad561a5305175" class="i field">markedPosition</a> = <a href="#135e8354f4b4aaad" class="i field">position</a>;
			<a href="#a863c9cf1d9c7747" class="i field">ist</a>.<a href="InputStream.cs.html#2c56c586db75684e" class="i method">Mark</a> (<span class="r14 r">nb</span>);
		}
		
		<b>public override long</b> <a id="be04227a68574448" href="../R/be04227a68574448.html" target="n" data-glyph="102,1" class="i property">Position</a> {
			<b>get</b> {
				<b>if</b> (<a href="#a863c9cf1d9c7747" class="i field">ist</a> != <b>null</b> &amp;&amp; <a href="#a863c9cf1d9c7747" class="i field">ist</a>.<a href="InputStream.cs.html#a884a93fde5c1c22" class="i method">CanSeek</a> ())
					<b>return</b> <a href="#a863c9cf1d9c7747" class="i field">ist</a>.<a href="InputStream.cs.html#95a3e1deb1bef12d" class="i property">Position</a>;
				<b>else
					return</b> <a href="#135e8354f4b4aaad" class="i field">position</a>;
			}
			<b>set</b> {
				<b>if</b> (<b>value</b> == <a href="#135e8354f4b4aaad" class="i field">position</a>)
					<b>return</b>;
				<b>else if</b> (<b>value</b> == <a href="#e51ad561a5305175" class="i field">markedPosition</a>)
					<a href="#a863c9cf1d9c7747" class="i field">ist</a>.<a href="InputStream.cs.html#6ba1a84723d3b157" class="i method">Reset</a> ();
				<b>else if</b> (<a href="#a863c9cf1d9c7747" class="i field">ist</a> != <b>null</b> &amp;&amp; <a href="#a863c9cf1d9c7747" class="i field">ist</a>.<a href="InputStream.cs.html#a884a93fde5c1c22" class="i method">CanSeek</a> ()) {
					<a href="#a863c9cf1d9c7747" class="i field">ist</a>.<a href="InputStream.cs.html#95a3e1deb1bef12d" class="i property">Position</a> = <b>value</b>;
				}
				<b>else
					throw</b> <b>new</b> <a href="@0@mscorlib/A.html#ab0acd5f99886747" class="t constructor">NotSupportedException</a> ();
			}
		}
	}
}
</pre></td></tr></table></div></body></html>
