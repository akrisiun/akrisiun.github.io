<!DOCTYPE html>
<html><head><title>HttpURLConnection.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(192);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Sharpen/Sharpen/HttpURLConnection.cs" target="_top">Sharpen\HttpURLConnection.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Sharpen" target="_top">lib\NGit\Sharpen\Sharpen.csproj</a> (Sharpen)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// </span>
<span class="c">// HttpURLConnection.cs</span>
<span class="c">//  </span>
<span class="c">// Author:</span>
<span class="c">//       Lluis Sanchez Gual &lt;lluis@novell.com&gt;</span>
<span class="c">// </span>
<span class="c">// Copyright (c) 2010 Novell, Inc (http://www.novell.com)</span>
<span class="c">// </span>
<span class="c">// Permission is hereby granted, free of charge, to any person obtaining a copy</span>
<span class="c">// of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
<span class="c">// in the Software without restriction, including without limitation the rights</span>
<span class="c">// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span class="c">// copies of the Software, and to permit persons to whom the Software is</span>
<span class="c">// furnished to do so, subject to the following conditions:</span>
<span class="c">// </span>
<span class="c">// The above copyright notice and this permission notice shall be included in</span>
<span class="c">// all copies or substantial portions of the Software.</span>
<span class="c">// </span>
<span class="c">// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="c">// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="c">// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="c">// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="c">// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
<span class="c">// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</span>
<span class="c">// THE SOFTWARE.</span>
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Net</span>;

<b>namespace</b> <span class="i n">Sharpen</span>
{
	<b>public class</b> <a id="4d096e0579f142a9" href="../R/4d096e0579f142a9.html" target="n" data-glyph="0,0" class="t t"><span id="40895f689ec2cbd6">URLConnection</span></a>
	{
	}
	
	<b>public class</b> <a id="01d02dccfee3e890" href="../R/01d02dccfee3e890.html" target="n" data-glyph="0,0" class="t t">HttpsURLConnection</a>: <a href="#738a4f595862a208" class="t t">HttpURLConnection</a>
	{
		<b>internal</b> <a id="fd23e97b8873933f" href="../R/fd23e97b8873933f.html" target="n" data-glyph="74,1" class="i constructor">HttpsURLConnection</a> (<a href="@0@System/A.html#991565dd25f47c90" class="t t">Uri</a> <span id="r0 rd" class="r0 r">uri</span>, <a href="Proxy.cs.html#ed65ae2d75145a30" class="t t">Proxy</a> <span id="r1 rd" class="r1 r">p</span>): <a href="#1d7a407c2a477681" class="k">base</a> (<span class="r0 r">uri</span>, <span class="r1 r">p</span>)
		{
		}
		
		<b>internal void</b> <a id="adba670eb89ee2cc" href="../R/adba670eb89ee2cc.html" target="n" data-glyph="74,1" class="i method">SetSSLSocketFactory</a> (<b>object</b> <span id="r2 rd" class="r2 r">factory</span>)
		{
			<span class="c">// TODO</span>
		}
	}
	
	<b>public class</b> <a id="738a4f595862a208" href="../R/738a4f595862a208.html" target="n" data-glyph="0,0" class="t t">HttpURLConnection</a>: <a href="#4d096e0579f142a9" class="t t">URLConnection</a>
	{
		<b>public const int</b> <a id="d04f5d49f4bdcaa9" href="../R/d04f5d49f4bdcaa9.html" target="n" data-glyph="6,1" class="i field">HTTP_OK</a> = 200;
		<b>public const int</b> <a id="1e01d72da6ad4026" href="../R/1e01d72da6ad4026.html" target="n" data-glyph="6,1" class="i field">HTTP_NOT_FOUND</a> = 404;
		<b>public const int</b> <a id="2dd2eb0348300737" href="../R/2dd2eb0348300737.html" target="n" data-glyph="6,1" class="i field">HTTP_FORBIDDEN</a> = 403;
		<b>public const int</b> <a id="6a511c28e63c2bfb" href="../R/6a511c28e63c2bfb.html" target="n" data-glyph="6,1" class="i field">HTTP_UNAUTHORIZED</a> = 401;
		
		<a href="@0@System/A.html#f2ab2d685cb26f13" class="t t">HttpWebRequest</a> <a id="f264677789784400" href="../R/f264677789784400.html" target="n" data-glyph="46,1" class="i field">request</a>;
		<a href="@0@System/A.html#b51bad13c30be1c4" class="t t">HttpWebResponse</a> <a id="a9568f2ccc1ec661" href="../R/a9568f2ccc1ec661.html" target="n" data-glyph="46,1" class="i field">reqResponse</a>;
		<a href="@0@System/A.html#991565dd25f47c90" class="t t">Uri</a> <a id="4cdd1a6cac4382b1" href="../R/4cdd1a6cac4382b1.html" target="n" data-glyph="46,1" class="i field">url</a>;
		
		<b>internal</b> <a id="1d7a407c2a477681" href="../R/1d7a407c2a477681.html" target="n" data-glyph="74,1" class="i constructor">HttpURLConnection</a> (<a href="@0@System/A.html#991565dd25f47c90" class="t t">Uri</a> <span id="r3 rd" class="r3 r">uri</span>, <a href="Proxy.cs.html#ed65ae2d75145a30" class="t t">Proxy</a> <span id="r4 rd" class="r4 r">p</span>)
		{
			<a href="#4cdd1a6cac4382b1" class="i field">url</a> = <span class="r3 r">uri</span>;
			<a href="#f264677789784400" class="i field">request</a> = (<a href="@0@System/A.html#f2ab2d685cb26f13" class="t t">HttpWebRequest</a>) <a href="@0@System/A.html#f2ab2d685cb26f13" class="t t">HttpWebRequest</a>.<a href="@0@System/A.html#3b0b3b07f411a22d" class="i method">Create</a> (<span class="r3 r">uri</span>);
		}
		
		<a href="@0@System/A.html#b51bad13c30be1c4" class="t t">HttpWebResponse</a> <a id="49bb78778e7771f5" href="../R/49bb78778e7771f5.html" target="n" data-glyph="106,1" class="i property">Response</a> {
			<b>get</b> {
				<b>if</b> (<a href="#a9568f2ccc1ec661" class="i field">reqResponse</a> == <b>null</b>)
				{
					<b>try</b>
					{
						<a href="#a9568f2ccc1ec661" class="i field">reqResponse</a> = (<a href="@0@System/A.html#b51bad13c30be1c4" class="t t">HttpWebResponse</a>) <a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#9080c16d0396fb3d" class="i method">GetResponse</a> ();
					}
					<b>catch</b> (<a href="@0@System/A.html#47e37066345d8b7c" class="t t">WebException</a> <span id="r5 rd" class="r5 r">ex</span>)
					{
						<a href="#a9568f2ccc1ec661" class="i field">reqResponse</a> = (<a href="@0@System/A.html#b51bad13c30be1c4" class="t t">HttpWebResponse</a>) <span class="r5 r">ex</span>.<a href="@0@System/A.html#3184d7b61c9cbfc3" class="i property">Response</a>;
						<b>if</b> (<a href="#a9568f2ccc1ec661" class="i field">reqResponse</a> == <b>null</b>) {
							<b>if</b> (<a href="#738a4f595862a208" class="k">this</a> <b>is</b> <a href="#01d02dccfee3e890" class="t t">HttpsURLConnection</a>)
								<b>throw</b> <b>new</b> <a href="@0@System/A.html#9f454236c149ed06" class="t constructor">WebException</a> (<span class="s">&quot;A secure connection could not be established&quot;</span>, <span class="r5 r">ex</span>);
							<b>throw</b>;
						}
					}
				}
				<b>return</b> <a href="#a9568f2ccc1ec661" class="i field">reqResponse</a>;
			}
		}
		
		<b>public void</b> <a id="f0f447e7e96ab399" href="../R/f0f447e7e96ab399.html" target="n" data-glyph="72,1" class="i method">SetUseCaches</a> (<b>bool</b> <span id="r6 rd" class="r6 r">u</span>)
		{
			<b>if</b> (<span class="r6 r">u</span>)
				<a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#c4a9571b70093c49" class="i property">CachePolicy</a> = <b>new</b> <span class="i n">System</span>.<span class="i n">Net</span>.<span class="i n">Cache</span>.<a href="@0@System/A.html#063f03977bf9aef2" class="t constructor">RequestCachePolicy</a> (<span class="i n">System</span>.<span class="i n">Net</span>.<span class="i n">Cache</span>.<a href="@0@System/A.html#d4b648b9a220e04e" class="t t">RequestCacheLevel</a>.<a href="@0@System/A.html#fe1a94a345cfd53c" class="i field">Default</a>);
			<b>else</b>
				<a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#c4a9571b70093c49" class="i property">CachePolicy</a> = <b>new</b> <span class="i n">System</span>.<span class="i n">Net</span>.<span class="i n">Cache</span>.<a href="@0@System/A.html#063f03977bf9aef2" class="t constructor">RequestCachePolicy</a> (<span class="i n">System</span>.<span class="i n">Net</span>.<span class="i n">Cache</span>.<a href="@0@System/A.html#d4b648b9a220e04e" class="t t">RequestCacheLevel</a>.<a href="@0@System/A.html#ed41341941eb248f" class="i field">BypassCache</a>);
		}
		
		<b>public void</b> <a id="068adf1c7484c92c" href="../R/068adf1c7484c92c.html" target="n" data-glyph="72,1" class="i method">SetRequestMethod</a> (<b>string</b> <span id="r7 rd" class="r7 r">method</span>)
		{
			<a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#dfbb511da4373b9e" class="i property">Method</a> = <span class="r7 r">method</span>;
		}
		
		<b>public string</b> <a id="d1a027e9a00b5373" href="../R/d1a027e9a00b5373.html" target="n" data-glyph="72,1" class="i method">GetRequestMethod</a> ()
		{
			<b>return</b> <a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#dfbb511da4373b9e" class="i property">Method</a>;
		}
		
		<b>public void</b> <a id="b4944922f6a71e54" href="../R/b4944922f6a71e54.html" target="n" data-glyph="72,1" class="i method">SetInstanceFollowRedirects</a> (<b>bool</b> <span id="r8 rd" class="r8 r">redirects</span>)
		{
			<a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#b7de2cf6cff0f2f7" class="i property">AllowAutoRedirect</a> = <span class="r8 r">redirects</span>;
		}
		
		<b>public void</b> <a id="17fda48e5c7f4179" href="../R/17fda48e5c7f4179.html" target="n" data-glyph="72,1" class="i method">SetDoOutput</a> (<b>bool</b> <span id="r9 rd" class="r9 r">dooutput</span>)
		{
			<span class="c">// Not required?</span>
		}
		
		<b>public void</b> <a id="dfe765ff9fe94474" href="../R/dfe765ff9fe94474.html" target="n" data-glyph="72,1" class="i method">SetFixedLengthStreamingMode</a> (<b>int</b> <span id="r10 rd" class="r10 r">len</span>)
		{
			<a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#f0545e85590de01d" class="i property">SendChunked</a> = <b>false</b>;
		}
		
		<b>public void</b> <a id="f453ccf90f4de70e" href="../R/f453ccf90f4de70e.html" target="n" data-glyph="72,1" class="i method">SetChunkedStreamingMode</a> (<b>int</b> <span id="r11 rd" class="r11 r">n</span>)
		{
			<a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#f0545e85590de01d" class="i property">SendChunked</a> = <b>true</b>;
		}
		
		<b>public void</b> <a id="059e1fd773b0a4cb" href="../R/059e1fd773b0a4cb.html" target="n" data-glyph="72,1" class="i method">SetRequestProperty</a> (<b>string</b> <span id="r12 rd" class="r12 r">key</span>, <b>string</b> <span id="r13 rd" class="r13 r">value</span>)
		{
			<b>switch</b> (<span class="r12 r">key</span>.<a href="@0@mscorlib/A.html#0b5a1ee33618e0b3" class="i method">ToLower</a> ()) {
			<b>case</b> <span class="s">&quot;user-agent&quot;</span>: <a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#0f7b1890c3d3fee3" class="i property">UserAgent</a> = <span class="r13 r">value</span>; <b>break</b>;
			<b>case</b> <span class="s">&quot;content-length&quot;</span>: <a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#33dea297c6759405" class="i property">ContentLength</a> = <b>long</b>.<a href="@0@mscorlib/A.html#7967a886c106fcce" class="i method">Parse</a> (<span class="r13 r">value</span>); <b>break</b>;
			<b>case</b> <span class="s">&quot;content-type&quot;</span>: <a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#3f436e84703160b6" class="i property">ContentType</a> = <span class="r13 r">value</span>; <b>break</b>;
			<b>case</b> <span class="s">&quot;expect&quot;</span>: <a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#d816f90f92393e73" class="i property">Expect</a> = <span class="r13 r">value</span>; <b>break</b>;
			<b>case</b> <span class="s">&quot;referer&quot;</span>: <a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#f13326c1d78727e5" class="i property">Referer</a> = <span class="r13 r">value</span>; <b>break</b>;
			<b>case</b> <span class="s">&quot;transfer-encoding&quot;</span>: <a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#56807f28a4283226" class="i property">TransferEncoding</a> = <span class="r13 r">value</span>; <b>break</b>;
			<b>case</b> <span class="s">&quot;accept&quot;</span>: <a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#82919fa382145c2d" class="i property">Accept</a> = <span class="r13 r">value</span>; <b>break</b>;
			<b>default</b>: <a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#42cc8aacfa375f3e" class="i property">Headers</a>.<a href="@0@System/A.html#09a47abe44eb603a" class="i method">Set</a> (<span class="r12 r">key</span>, <span class="r13 r">value</span>); <b>break</b>;
			}
		}
		
		<b>public string</b> <a id="721283506b0e66ad" href="../R/721283506b0e66ad.html" target="n" data-glyph="72,1" class="i method">GetResponseMessage</a> ()
		{
			<b>return</b> <a href="#49bb78778e7771f5" class="i property">Response</a>.<a href="@0@System/A.html#ee390dcd16b55d34" class="i property">StatusDescription</a>;
		}
		
		<b>public void</b> <a id="163411ed4854dffa" href="../R/163411ed4854dffa.html" target="n" data-glyph="72,1" class="i method">SetConnectTimeout</a> (<b>int</b> <span id="r14 rd" class="r14 r">ms</span>)
		{
			<b>if</b> (<span class="r14 r">ms</span> == 0)
				<span class="r14 r">ms</span> = -1;
			<a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#81c33ba9f1b311a2" class="i property">Timeout</a> = <span class="r14 r">ms</span>;
		}
		
		<b>public void</b> <a id="3c25bcd1815ad393" href="../R/3c25bcd1815ad393.html" target="n" data-glyph="72,1" class="i method">SetReadTimeout</a> (<b>int</b> <span id="r15 rd" class="r15 r">ms</span>)
		{
			<span class="c">// Not available</span>
		}
		
		<b>public</b> <a href="InputStream.cs.html#5fe75b93f596f64a" class="t t">InputStream</a> <a id="aec6955fe68f189c" href="../R/aec6955fe68f189c.html" target="n" data-glyph="72,1" class="i method">GetInputStream</a> ()
		{
			<b>return</b> <a href="#49bb78778e7771f5" class="i property">Response</a>.<a href="@0@System/A.html#afb69c196ac0f9c0" class="i method">GetResponseStream</a> ();
		}
		
		<b>public</b> <a href="OutputStream.cs.html#f960ef5651b4ede1" class="t t">OutputStream</a> <a id="94eb086c48094633" href="../R/94eb086c48094633.html" target="n" data-glyph="72,1" class="i method">GetOutputStream</a> ()
		{
			<b>return</b> <a href="#f264677789784400" class="i field">request</a>.<a href="@0@System/A.html#009de1c44d823e08" class="i method">GetRequestStream</a> ();
		}
		
		<b>public string</b> <a id="eba2e131eab7e794" href="../R/eba2e131eab7e794.html" target="n" data-glyph="72,1" class="i method">GetHeaderField</a> (<b>string</b> <span id="r16 rd" class="r16 r">header</span>)
		{
			<b>return</b> <a href="#49bb78778e7771f5" class="i property">Response</a>.<a href="@0@System/A.html#0335601aeccc300a" class="i method">GetResponseHeader</a> (<span class="r16 r">header</span>);
		}
		
		<b>public string</b> <a id="eb981bc036fe9db4" href="../R/eb981bc036fe9db4.html" target="n" data-glyph="72,1" class="i method">GetContentType</a> ()
		{
			<b>return</b> <a href="#49bb78778e7771f5" class="i property">Response</a>.<a href="@0@System/A.html#2f0d0eaef731aeb0" class="i property">ContentType</a>;
		}
		
		<b>public int</b> <a id="48598a82b9cec111" href="../R/48598a82b9cec111.html" target="n" data-glyph="72,1" class="i method">GetContentLength</a> ()
		{
			<b>return</b> (<b>int</b>) <a href="#49bb78778e7771f5" class="i property">Response</a>.<a href="@0@System/A.html#d9e4d56faeb8ab03" class="i property">ContentLength</a>;
		}
		
		<b>public int</b> <a id="4b60040a6b9192b7" href="../R/4b60040a6b9192b7.html" target="n" data-glyph="72,1" class="i method">GetResponseCode</a> ()
		{
			<b>return</b> (<b>int</b>) <a href="#49bb78778e7771f5" class="i property">Response</a>.<a href="@0@System/A.html#c51bbaaec76eeb0d" class="i property">StatusCode</a>;
		}
		
		<b>public</b> <a href="@0@System/A.html#991565dd25f47c90" class="t t">Uri</a> <a id="d2f62319805ebd81" href="../R/d2f62319805ebd81.html" target="n" data-glyph="72,1" class="i method">GetURL</a> ()
		{
			<b>return</b> <a href="#4cdd1a6cac4382b1" class="i field">url</a>;
		}
	}
}

</pre></td></tr></table></div></body></html>
