<!DOCTYPE html>
<html><head><title>Platform.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(149);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#GitSharp.Core/Platform/Platform.cs" target="_top">Platform\Platform.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#GitSharp.Core" target="_top">lib\GitSharp\GitSharp.Core\GitSharp.Core.csproj</a> (GitSharp.Core)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">/*
 * Copyright (C) 2009, Rolenun &lt;rolenun@gmail.com&gt;
 * Copyrigth (C) 2010, Henon &lt;meinrad.recheis@gmail.com&gt;
 * Copyrigth (C) 2010, Andrew Cooper &lt;andymancooper@gmail.com&gt;
 *
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or
 * without modification, are permitted provided that the following
 * conditions are met:
 *
 * - Redistributions of source code must retain the above copyright
 *   notice, this list of conditions and the following disclaimer.
 *
 * - Redistributions in binary form must reproduce the above
 *   copyright notice, this list of conditions and the following
 *   disclaimer in the documentation and/or other materials provided
 *   with the distribution.
 *
 * - Neither the name of the Git Development Community nor the
 *   names of its contributors may be used to endorse or promote
 *   products derived from this software without specific prior
 *   written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
 * CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>;

<b>namespace</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>
{
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
	<span class="c">///</span><span class="c"> Base class for a singleton object that provides capabilities that</span>
	<span class="c">///</span><span class="c"> require a different implementation per platform. </span>
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
	<b>public abstract class</b> <a id="d3763fe08ec39baa" href="../R/d3763fe08ec39baa.html" target="n" data-glyph="0,0" class="t t">Platform</a>
	{
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Extension of System.PlatformID to add plaforms. </span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>enum</b> <a id="5e8bad3313de6aab" href="../R/5e8bad3313de6aab.html" target="n" data-glyph="22,1" class="t t"><span id="2dd8cc601ee49655">GitPlatformID</span></a>
		{
			<a id="5b99108f954afa1a" href="../R/5b99108f954afa1a.html" target="n" data-glyph="24,2" class="i field">Win32S</a> = <a href="@0@mscorlib/A.html#065a6a7be5e74336" class="t t">PlatformID</a>.<a href="@0@mscorlib/A.html#6cb29083f610adce" class="i field">Win32S</a>,
			<a id="799acce79b33a385" href="../R/799acce79b33a385.html" target="n" data-glyph="24,2" class="i field">Win32Windows</a> = <a href="@0@mscorlib/A.html#065a6a7be5e74336" class="t t">PlatformID</a>.<a href="@0@mscorlib/A.html#b9a94b0d99b54764" class="i field">Win32Windows</a>,
			<a id="e33243feac440a40" href="../R/e33243feac440a40.html" target="n" data-glyph="24,2" class="i field">Win32NT</a> = <a href="@0@mscorlib/A.html#065a6a7be5e74336" class="t t">PlatformID</a>.<a href="@0@mscorlib/A.html#953dcb25cf190546" class="i field">Win32NT</a>,
			<a id="37f10a29438afbc1" href="../R/37f10a29438afbc1.html" target="n" data-glyph="24,2" class="i field">WinCE</a> = <a href="@0@mscorlib/A.html#065a6a7be5e74336" class="t t">PlatformID</a>.<a href="@0@mscorlib/A.html#84e0f28a3691b486" class="i field">WinCE</a>,
			<a id="bd95907e743350d6" href="../R/bd95907e743350d6.html" target="n" data-glyph="24,2" class="i field">Unix</a> = <a href="@0@mscorlib/A.html#065a6a7be5e74336" class="t t">PlatformID</a>.<a href="@0@mscorlib/A.html#6d482632710a81f5" class="i field">Unix</a>,
			<a id="feeedd30a006d7f8" href="../R/../../0000000000.html" target="n" data-glyph="24,2" class="i field">Xbox</a>,
			<a id="defd404f48028342" href="../R/defd404f48028342.html" target="n" data-glyph="24,2" class="i field">MacOSX</a>,
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Enumeration of the known concrete implementation families. </span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public enum</b> <a id="c5d520722113fdc3" href="../R/c5d520722113fdc3.html" target="n" data-glyph="18,1" class="t t"><span id="b6932c8eb3834411">PlatformId</span></a>
		{
			<a id="ffbfebb3e1d51307" href="../R/../../0000000000.html" target="n" data-glyph="24,2" class="i field">Windows</a> = 1,
			<a id="f8ba2289dfbcb0ed" href="../R/../../0000000000.html" target="n" data-glyph="24,2" class="i field">Linux</a> = 2,
			<a id="fd47aee3bed36b84" href="../R/../../0000000000.html" target="n" data-glyph="24,2" class="i field">Mac</a> = 3
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Access to the singleton object.  Will create the object on first get. </span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public static</b> <a href="#d3763fe08ec39baa" class="t t">Platform</a> <a id="0e4ebc55d8178dd1" href="../R/0e4ebc55d8178dd1.html" target="n" data-glyph="102,1" class="i property">Instance</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#11439779e1a0a50d" class="i field">_instance</a> == <b>null</b>)
				{
					<span class="i n">System</span>.<a href="@0@mscorlib/A.html#08aed18fb82023a5" class="t t">OperatingSystem</a> <span id="r0 rd" class="r0 r">os</span> = <a href="@0@mscorlib/A.html#7d2f1469d916fc63" class="t t">Environment</a>.<a href="@0@mscorlib/A.html#67900ccbbcff63a2" class="i property">OSVersion</a>;
					<a href="#5e8bad3313de6aab" class="t t">GitPlatformID</a> <span id="r1 rd" class="r1 r">pid</span> = (<a href="#5e8bad3313de6aab" class="t t">GitPlatformID</a>)<span class="r0 r">os</span>.<a href="@0@mscorlib/A.html#f23195260b6f56fc" class="i property">Platform</a>;
		
					<b>switch</b> (<span class="r1 r">pid</span>)
					{
						<b>case</b> <a href="#5e8bad3313de6aab" class="t t">GitPlatformID</a>.<a href="#bd95907e743350d6" class="i field">Unix</a>:
							<a href="#11439779e1a0a50d" class="i field">_instance</a> = <b>new</b> <a href="Linux.cs.html#9af6e7e0348355e0" class="t constructor">Linux</a>();
							<b>break</b>;
						<b>case</b> <a href="#5e8bad3313de6aab" class="t t">GitPlatformID</a>.<a href="#defd404f48028342" class="i field">MacOSX</a>:
							<a href="#11439779e1a0a50d" class="i field">_instance</a> = <b>new</b> <a href="Mac.cs.html#62f05fff7af194d5" class="t constructor">Mac</a>();
							<b>break</b>;
						<b>case</b> <a href="#5e8bad3313de6aab" class="t t">GitPlatformID</a>.<a href="#e33243feac440a40" class="i field">Win32NT</a>:
						<b>case</b> <a href="#5e8bad3313de6aab" class="t t">GitPlatformID</a>.<a href="#5b99108f954afa1a" class="i field">Win32S</a>:
						<b>case</b> <a href="#5e8bad3313de6aab" class="t t">GitPlatformID</a>.<a href="#799acce79b33a385" class="i field">Win32Windows</a>:
						<b>case</b> <a href="#5e8bad3313de6aab" class="t t">GitPlatformID</a>.<a href="#37f10a29438afbc1" class="i field">WinCE</a>:
							<a href="#11439779e1a0a50d" class="i field">_instance</a> = <b>new</b> <a href="Windows.cs.html#1ca04cdfd5ce12c4" class="t constructor">Win32</a>();
							<b>break</b>;
						<b>default</b>:
							<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#3d3c2c03118be4f8" class="t constructor">NotSupportedException</a>(<span class="s">&quot;Platform could not be detected!&quot;</span>);
					}
				}

				<b>return</b> <a href="#11439779e1a0a50d" class="i field">_instance</a>;
			}
		}

		<b>public abstract bool</b> <a id="276f697ccfbd04fb" href="../R/276f697ccfbd04fb.html" target="n" data-glyph="102,1" class="i property">IsHardlinkSupported</a> { <b>get</b>; }

		<b>public abstract bool</b> <a id="eb75749fbce759f0" href="../R/eb75749fbce759f0.html" target="n" data-glyph="102,1" class="i property">IsSymlinkSupported</a> { <b>get</b>; }

		<b>public abstract bool</b> <a id="2629d56961e1a6a6" href="../R/2629d56961e1a6a6.html" target="n" data-glyph="72,1" class="i method">CreateSymlink</a>(<b>string</b> <span id="r2 rd" class="r2 r">symlinkFilename</span>, <b>string</b> <span id="r3 rd" class="r3 r">existingFilename</span>, <b>bool</b> <span id="r4 rd" class="r4 r">isSymlinkDirectory</span>);

		<b>public abstract bool</b> <a id="f85169a45fcc82b9" href="../R/f85169a45fcc82b9.html" target="n" data-glyph="72,1" class="i method">CreateHardlink</a>(<b>string</b> <span id="r5 rd" class="r5 r">hardlinkFilename</span>, <b>string</b> <span id="r6 rd" class="r6 r">exisitingFilename</span>);


		<b>public abstract</b> <a href="@0@System/A.html#f8b2e604d6f1fe04" class="t t">Process</a> <a id="18059ab31cfbe821" href="../R/18059ab31cfbe821.html" target="n" data-glyph="72,1" class="i method">GetTextPager</a>(<b>string</b> <span id="r7 rd" class="r7 r">corePagerConfig</span>);

		<b>protected</b> <a id="aef65217dd40be43" href="../R/../../0000000000.html" target="n" data-glyph="75,1" class="i constructor">Platform</a>()
		{
		}

		<b>public string</b> <a id="49abe38ac4ea2328" href="../R/49abe38ac4ea2328.html" target="n" data-glyph="102,1" class="i property">ClassName</a> { <b>get</b>; <b>protected set</b>; }

		<b>public</b> <a href="#c5d520722113fdc3" class="t t">PlatformId</a> <a id="605a81b725c064f7" href="../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Id</a> { <b>get</b>; <b>protected set</b>; }

		<b>public string</b> <a id="7d3b111f40e23781" href="../R/7d3b111f40e23781.html" target="n" data-glyph="102,1" class="i property">PlatformType</a> { <b>get</b>; <b>protected set</b>; }

		<b>public string</b> <a id="b0ac6dfae259584f" href="../R/b0ac6dfae259584f.html" target="n" data-glyph="102,1" class="i property">PlatformSubType</a> { <b>get</b>; <b>protected set</b>; }

		<b>public string</b> <a id="0b0674534249cba7" href="../R/0b0674534249cba7.html" target="n" data-glyph="102,1" class="i property">Edition</a> { <b>get</b>; <b>protected set</b>; }

		<b>public string</b> <a id="e4804aabb2a70763" href="../R/e4804aabb2a70763.html" target="n" data-glyph="102,1" class="i property">Version</a> { <b>get</b>; <b>protected set</b>; }

		<b>public string</b> <a id="08d37433f5495d25" href="../R/08d37433f5495d25.html" target="n" data-glyph="102,1" class="i property">VersionFile</a> { <b>get</b>; <b>protected set</b>; }

		<b>public string</b> <a id="9d7896814322b60e" href="../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">ProductName</a>
		{
			<b>get</b>
			{
				<b>return</b> <a href="#7d3b111f40e23781" class="i property">PlatformType</a> + <span class="s">&quot; &quot;</span> + <a href="#b0ac6dfae259584f" class="i property">PlatformSubType</a> + <span class="s">&quot; &quot;</span> + <a href="#0b0674534249cba7" class="i property">Edition</a> + <span class="s">&quot;(&quot;</span> + <a href="#e4804aabb2a70763" class="i property">Version</a> + <span class="s">&quot;)&quot;</span>;
			}
		}

		<b>private static</b> <a href="#d3763fe08ec39baa" class="t t">Platform</a> <a id="11439779e1a0a50d" href="../R/11439779e1a0a50d.html" target="n" data-glyph="46,1" class="i field">_instance</a>;
	}
}</pre></td></tr></table></div></body></html>
