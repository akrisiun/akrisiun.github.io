<!DOCTYPE html>
<html><head><title>ObjectDatabase.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(458);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#GitSharp.Core/ObjectDatabase.cs" target="_top">ObjectDatabase.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#GitSharp.Core" target="_top">lib\GitSharp\GitSharp.Core\GitSharp.Core.csproj</a> (GitSharp.Core)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">/*
 * Copyright (C) 2009, Google Inc.
 * Copyright (C) 2009, Henon &lt;meinrad.recheis@gmail.com&gt;
 *
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or
 * without modification, are permitted provided that the following
 * conditions are met:
 *
 * - Redistributions of source code must retain the above copyright
 *   notice, this list of conditions and the following disclaimer.
 *
 * - Redistributions in binary form must reproduce the above
 *   copyright notice, this list of conditions and the following
 *   disclaimer in the documentation and/or other materials provided
 *   with the distribution.
 *
 * - Neither the name of the Git Development Community nor the
 *   names of its contributors may be used to endorse or promote
 *   products derived from this software without specific prior
 *   written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
 * CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">Util</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">Util</span>.<span class="i n">JavaHelper</span>;

<b>namespace</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Abstraction of arbitrary object storage.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c"> </span><span class="c">/&gt;</span>
    <span class="c">///</span><span class="c"> An object database stores one or more Git objects, indexed by their unique</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="ObjectId.cs.html#a54807441779f4c5" class="t t">ObjectId</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">. Optionally an object database can reference one or more</span>
    <span class="c">///</span><span class="c"> alternates; other </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instances that are searched in</span>
    <span class="c">///</span><span class="c"> addition to the current database.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c"> </span><span class="c">/&gt;</span>
    <span class="c">///</span><span class="c"> Databases are usually divided into two halves: a half that is considered to</span>
    <span class="c">///</span><span class="c"> be fast to search, and a half that is considered to be slow to search. When</span>
    <span class="c">///</span><span class="c"> alternates are present the fast half is fully searched (recursively through</span>
    <span class="c">///</span><span class="c"> all alternates) before the slow half is considered.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public abstract class</b> <a id="c624234d6d3aac9e" href="R/c624234d6d3aac9e.html" target="n" data-glyph="0,0" class="t t">ObjectDatabase</a> : <a href="@0@mscorlib/A.html#1f55292c3174123d" class="t t">IDisposable</a>
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Constant indicating no alternate databases exist.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>protected static readonly</b> <a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a>[] <a id="b1d7a1f9bc2fac96" href="R/b1d7a1f9bc2fac96.html" target="n" data-glyph="45,1" class="i field">NoAlternates</a> = { };

        <b>private readonly</b> <a href="Util/JavaHelper/AtomicReference.cs.html#1e8ba7f5e3f67204" class="t t">AtomicReference</a>&lt;<a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a>[]&gt; <a id="6f063614e9045adb" href="R/6f063614e9045adb.html" target="n" data-glyph="46,1" class="i field">_alternates</a>;

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initialize a new database instance for access.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>protected</b> <a id="0ba8985681219b10" href="R/../../0000000000.html" target="n" data-glyph="75,1" class="i constructor">ObjectDatabase</a>()
        {
            <a href="#6f063614e9045adb" class="i field">_alternates</a> = <b>new</b> <a href="Util/JavaHelper/AtomicReference.cs.html#8e7d0614bbaa136c" class="t constructor">AtomicReference</a>&lt;<a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a>[]&gt;();
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Does this database exist yet?</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> true if this database is already created; false if the caller</span>
        <span class="c">///</span><span class="c"> should invoke </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#3e0ecd5a81f777c9" class="i method">create</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> to create this database location.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual bool</b> <a id="f4cec19188a9d7e7" href="R/f4cec19188a9d7e7.html" target="n" data-glyph="72,1" class="i method">exists</a>()
        {
            <b>return true</b>;
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initialize a new object database at this location.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public virtual void</b> <a id="3e0ecd5a81f777c9" href="R/3e0ecd5a81f777c9.html" target="n" data-glyph="72,1" class="i method">create</a>()
        {
            <span class="c">// Assume no action is required.</span>
        }

        <b>public virtual void</b> <a id="31800827aea8c009" href="R/31800827aea8c009.html" target="n" data-glyph="72,1" class="i method">Dispose</a>()
        {
            <a href="#8d2945c486261225" class="i method">close</a>();
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Close any resources held by this database and its active alternates.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public void</b> <a id="8d2945c486261225" href="R/8d2945c486261225.html" target="n" data-glyph="72,1" class="i method">close</a>()
        {
            <a href="#0ae3583e0cea1c54" class="i method">closeSelf</a>();
            <a href="#a46781f80e0637c5" class="i method">closeAlternates</a>();
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">DEBUG</span>
            <a href="@0@mscorlib/A.html#25d9c1e022317a99" class="t t">GC</a>.<a href="@0@mscorlib/A.html#2673f5220a565bf2" class="i method">SuppressFinalize</a>(<a href="#c624234d6d3aac9e" class="k">this</a>); <span class="c">// Disarm lock-release checker</span>
<span class="k preprocess">#</span><span class="k preprocess">endif</span>
        }

<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">DEBUG</span>
        <span class="c">// A debug mode warning if the type has not been disposed properly</span>
        ~<a id="0a460f0dc197c86b" href="R/../../0000000000.html" target="n" data-glyph="75,1" class="i method">ObjectDatabase</a>()
        {
            <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#7c403e083a0bb390" class="i property">Error</a>.<a href="@0@mscorlib/A.html#5238cceaebfeaa74" class="i method">WriteLine</a>(<a href="@0@mscorlib/A.html#4d73eb225aef8a61" class="i method">GetType</a>().<a href="@0@mscorlib/A.html#aa4f112f79364b6e" class="i property">Name</a> + <span class="s">&quot; has not been properly disposed.&quot;</span>);
        }
<span class="k preprocess">#</span><span class="k preprocess">endif</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Close any resources held by this database only; ignoring alternates.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c"> </span><span class="c">/&gt;</span>
        <span class="c">///</span><span class="c"> To fully close this database and its referenced alternates, the caller</span>
        <span class="c">///</span><span class="c"> should instead invoke </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#8d2945c486261225" class="i method">close</a>()<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public virtual void</b> <a id="0ae3583e0cea1c54" href="R/0ae3583e0cea1c54.html" target="n" data-glyph="72,1" class="i method">closeSelf</a>()
        {
            <span class="c">// Assume no action is required.</span>
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Fully close all loaded alternates and clear the alternate list.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public virtual void</b> <a id="a46781f80e0637c5" href="R/a46781f80e0637c5.html" target="n" data-glyph="72,1" class="i method">closeAlternates</a>()
        {
            <a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a>[] <span id="r0 rd" class="r0 r">alt</span> = <a href="#6f063614e9045adb" class="i field">_alternates</a>.<a href="Util/JavaHelper/AtomicReference.cs.html#2655510bfd9169d8" class="i method">get</a>();
            <b>if</b> (<span class="r0 r">alt</span> != <b>null</b>)
            {
                <a href="#6f063614e9045adb" class="i field">_alternates</a>.<a href="Util/JavaHelper/AtomicReference.cs.html#1c52a5b3c4afed44" class="i method">set</a>(<b>null</b>);
                <a href="#998e7c4789823433" class="i method">closeAlternates</a>(<span class="r0 r">alt</span>);
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Does the requested object exist in this database?</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c"> </span><span class="c">/&gt;</span>
        <span class="c">///</span><span class="c"> Alternates (if present) are searched automatically.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">objectId</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">identity of the object to test for existence of.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> True if the specified object is stored in this database, or any</span>
        <span class="c">///</span><span class="c"> of the alternate databases.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public bool</b> <a id="3ea0dc30cedf3f88" href="R/3ea0dc30cedf3f88.html" target="n" data-glyph="72,1" class="i method">hasObject</a>(<a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a> <span id="r1 rd" class="r1 r">objectId</span>)
        {
            <b>return</b> <a href="#a3dcc89f60890c63" class="i method">hasObjectImpl1</a>(<span class="r1 r">objectId</span>) || <a href="#a323c8c6559b1770" class="i method">hasObjectImpl2</a>(<span class="r1 r">objectId</span>.<a href="AnyObjectId.cs.html#90e7a293494044eb" class="i property">Name</a>);
        }

        <b>private bool</b> <a id="a3dcc89f60890c63" href="R/a3dcc89f60890c63.html" target="n" data-glyph="76,1" class="i method">hasObjectImpl1</a>(<a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a> <span id="r2 rd" class="r2 r">objectId</span>)
        {
            <b>if</b> (<a href="#ad458ad3aea63430" class="i method">hasObject1</a>(<span class="r2 r">objectId</span>))
            {
                <b>return true</b>;
            }
            <b>foreach</b> (<a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a> <span id="r3 rd" class="r3 r">alt</span> <b>in</b> <a href="#12dd96d3c9ebef90" class="i method">getAlternates</a>())
            {
                <b>if</b> (<span class="r3 r">alt</span>.<a href="#a3dcc89f60890c63" class="i method">hasObjectImpl1</a>(<span class="r2 r">objectId</span>))
                {
                    <b>return true</b>;
                }
            }
            <b>return</b> <a href="#a813a8c4f821004e" class="i method">tryAgain1</a>() &amp;&amp; <a href="#ad458ad3aea63430" class="i method">hasObject1</a>(<span class="r2 r">objectId</span>);
        }

        <b>private bool</b> <a id="a323c8c6559b1770" href="R/a323c8c6559b1770.html" target="n" data-glyph="76,1" class="i method">hasObjectImpl2</a>(<b>string</b> <span id="r4 rd" class="r4 r">objectId</span>)
        {
            <b>if</b> (<a href="#638609dfcda3bd5e" class="i method">hasObject2</a>(<span class="r4 r">objectId</span>))
            {
                <b>return true</b>;
            }
            <b>foreach</b> (<a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a> <span id="r5 rd" class="r5 r">alt</span> <b>in</b> <a href="#12dd96d3c9ebef90" class="i method">getAlternates</a>())
            {
                <b>if</b> (<span class="r5 r">alt</span>.<a href="#a323c8c6559b1770" class="i method">hasObjectImpl2</a>(<span class="r4 r">objectId</span>))
                {
                    <b>return true</b>;
                }
            }
            <b>return false</b>;
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Fast half of </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#3ea0dc30cedf3f88" class="i method">hasObject</a>(<a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a>)<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">objectId</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Identity of the object to test for existence of.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> true if the specified object is stored in this database.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public abstract bool</b> <a id="ad458ad3aea63430" href="R/ad458ad3aea63430.html" target="n" data-glyph="72,1" class="i method">hasObject1</a>(<a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a> <span id="r6 rd" class="r6 r">objectId</span>);

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Slow half of </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#3ea0dc30cedf3f88" class="i method">hasObject</a>(<a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a>)<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r7 r">objectName</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Identity of the object to test for existence of.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> true if the specified object is stored in this database.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual bool</b> <a id="638609dfcda3bd5e" href="R/638609dfcda3bd5e.html" target="n" data-glyph="72,1" class="i method">hasObject2</a>(<b>string</b> <span id="r7 rd" class="r7 r">objectName</span>)
        {
            <span class="c">// Assume the search took place during hasObject1.</span>
            <b>return false</b>;
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Open an object from this database.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c"> </span><span class="c">/&gt;</span>
        <span class="c">///</span><span class="c"> Alternates (if present) are searched automatically.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r8 r">curs</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Temporary working space associated with the calling thread.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r9 r">objectId</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Identity of the object to open.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> A </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="ObjectLoader.cs.html#15ff0cd10979224e" class="t t">ObjectLoader</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> for accessing the data of the named</span>
        <span class="c">///</span><span class="c"> object, or null if the object does not exist.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public</b> <a href="ObjectLoader.cs.html#15ff0cd10979224e" class="t t">ObjectLoader</a> <a id="213ba5ac972a76d3" href="R/213ba5ac972a76d3.html" target="n" data-glyph="72,1" class="i method">openObject</a>(<a href="WindowCursor.cs.html#1782168e8a82d90f" class="t t">WindowCursor</a> <span id="r8 rd" class="r8 r">curs</span>, <a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a> <span id="r9 rd" class="r9 r">objectId</span>)
        {
            <b>if</b> (<span class="r9 r">objectId</span> == <b>null</b>) <b>return null</b>;

            <a href="ObjectLoader.cs.html#15ff0cd10979224e" class="t t">ObjectLoader</a> <span id="r10 rd" class="r10 r">ldr</span> = <a href="#c05aeaa7914f04d3" class="i method">OpenObjectImpl1</a>(<span class="r8 r">curs</span>, <span class="r9 r">objectId</span>);
            <b>if</b> (<span class="r10 r">ldr</span> != <b>null</b>)
            {
                <b>return</b> <span class="r10 r">ldr</span>;
            }

            <span class="r10 r">ldr</span> = <a href="#9a2fbc7023756111" class="i method">OpenObjectImpl2</a>(<span class="r8 r">curs</span>, <span class="r9 r">objectId</span>.<a href="AnyObjectId.cs.html#90e7a293494044eb" class="i property">Name</a>, <span class="r9 r">objectId</span>);
            <b>if</b> (<span class="r10 r">ldr</span> != <b>null</b>)
            {
                <b>return</b> <span class="r10 r">ldr</span>;
            }
            <b>return null</b>;
        }

        <b>private</b> <a href="ObjectLoader.cs.html#15ff0cd10979224e" class="t t">ObjectLoader</a> <a id="c05aeaa7914f04d3" href="R/c05aeaa7914f04d3.html" target="n" data-glyph="76,1" class="i method">OpenObjectImpl1</a>(<a href="WindowCursor.cs.html#1782168e8a82d90f" class="t t">WindowCursor</a> <span id="r11 rd" class="r11 r">curs</span>,
                 <a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a> <span id="r12 rd" class="r12 r">objectId</span>)
        {
            <a href="ObjectLoader.cs.html#15ff0cd10979224e" class="t t">ObjectLoader</a> <span id="r13 rd" class="r13 r">ldr</span> = <a href="#fcf904eb75b7a07e" class="i method">openObject1</a>(<span class="r11 r">curs</span>, <span class="r12 r">objectId</span>);
            <b>if</b> (<span class="r13 r">ldr</span> != <b>null</b>)
            {
                <b>return</b> <span class="r13 r">ldr</span>;
            }

            <b>foreach</b> (<a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a> <span id="r14 rd" class="r14 r">alt</span> <b>in</b> <a href="#12dd96d3c9ebef90" class="i method">getAlternates</a>())
            {
                <span class="r13 r">ldr</span> = <span class="r14 r">alt</span>.<a href="#c05aeaa7914f04d3" class="i method">OpenObjectImpl1</a>(<span class="r11 r">curs</span>, <span class="r12 r">objectId</span>);
                <b>if</b> (<span class="r13 r">ldr</span> != <b>null</b>)
                {
                    <b>return</b> <span class="r13 r">ldr</span>;
                }
            }

            <b>if</b> (<a href="#a813a8c4f821004e" class="i method">tryAgain1</a>())
            {
                <span class="r13 r">ldr</span> = <a href="#fcf904eb75b7a07e" class="i method">openObject1</a>(<span class="r11 r">curs</span>, <span class="r12 r">objectId</span>);
                <b>if</b> (<span class="r13 r">ldr</span> != <b>null</b>)
                {
                    <b>return</b> <span class="r13 r">ldr</span>;
                }
            }

            <b>return null</b>;
        }

        <b>private</b> <a href="ObjectLoader.cs.html#15ff0cd10979224e" class="t t">ObjectLoader</a> <a id="9a2fbc7023756111" href="R/9a2fbc7023756111.html" target="n" data-glyph="76,1" class="i method">OpenObjectImpl2</a>(<a href="WindowCursor.cs.html#1782168e8a82d90f" class="t t">WindowCursor</a> <span id="r15 rd" class="r15 r">curs</span>, <b>string</b> <span id="r16 rd" class="r16 r">objectName</span>, <a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a> <span id="r17 rd" class="r17 r">objectId</span>)
        {
            <a href="ObjectLoader.cs.html#15ff0cd10979224e" class="t t">ObjectLoader</a> <span id="r18 rd" class="r18 r">ldr</span> = <a href="#86b641e6fab33f79" class="i method">openObject2</a>(<span class="r15 r">curs</span>, <span class="r16 r">objectName</span>, <span class="r17 r">objectId</span>);
            <b>if</b> (<span class="r18 r">ldr</span> != <b>null</b>)
            {
                <b>return</b> <span class="r18 r">ldr</span>;
            }

            <b>foreach</b> (<a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a> <span id="r19 rd" class="r19 r">alt</span> <b>in</b> <a href="#12dd96d3c9ebef90" class="i method">getAlternates</a>())
            {
                <span class="r18 r">ldr</span> = <span class="r19 r">alt</span>.<a href="#9a2fbc7023756111" class="i method">OpenObjectImpl2</a>(<span class="r15 r">curs</span>, <span class="r16 r">objectName</span>, <span class="r17 r">objectId</span>);
                <b>if</b> (<span class="r18 r">ldr</span> != <b>null</b>)
                {
                    <b>return</b> <span class="r18 r">ldr</span>;
                }
            }

            <b>return null</b>;
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Fast half of </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#213ba5ac972a76d3" class="i method">openObject</a>(<a href="WindowCursor.cs.html#1782168e8a82d90f" class="t t">WindowCursor</a>, <a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a>)<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r20 r">curs</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> temporary working space associated with the calling thread.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r21 r">objectId</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">identity of the object to open.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> A </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="ObjectLoader.cs.html#15ff0cd10979224e" class="t t">ObjectLoader</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> for accessing the data of the named</span>
        <span class="c">///</span><span class="c"> object, or null if the object does not exist.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public abstract</b> <a href="ObjectLoader.cs.html#15ff0cd10979224e" class="t t">ObjectLoader</a> <a id="fcf904eb75b7a07e" href="R/fcf904eb75b7a07e.html" target="n" data-glyph="72,1" class="i method">openObject1</a>(<a href="WindowCursor.cs.html#1782168e8a82d90f" class="t t">WindowCursor</a> <span id="r20 rd" class="r20 r">curs</span>,
                <a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a> <span id="r21 rd" class="r21 r">objectId</span>);

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Slow half of </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#213ba5ac972a76d3" class="i method">openObject</a>(<a href="WindowCursor.cs.html#1782168e8a82d90f" class="t t">WindowCursor</a>, <a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a>)<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r22 r">curs</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> temporary working space associated with the calling thread.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r23 r">objectName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Name of the object to open.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r24 r">objectId</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">identity of the object to open.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> A </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="ObjectLoader.cs.html#15ff0cd10979224e" class="t t">ObjectLoader</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> for accessing the data of the named</span>
        <span class="c">///</span><span class="c"> object, or null if the object does not exist.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="ObjectLoader.cs.html#15ff0cd10979224e" class="t t">ObjectLoader</a> <a id="86b641e6fab33f79" href="R/86b641e6fab33f79.html" target="n" data-glyph="72,1" class="i method">openObject2</a>(<a href="WindowCursor.cs.html#1782168e8a82d90f" class="t t">WindowCursor</a> <span id="r22 rd" class="r22 r">curs</span>, <b>string</b> <span id="r23 rd" class="r23 r">objectName</span>,
                <a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a> <span id="r24 rd" class="r24 r">objectId</span>)
        {
            <span class="c">// Assume the search took place during openObject1.</span>
            <b>return null</b>;
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Open the object from all packs containing it.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c"> </span><span class="c">/&gt;</span>
        <span class="c">///</span><span class="c"> If any alternates are present, their packs are also considered.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r25 r">out</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Result collection of loaders for this object, filled with</span>
        <span class="c">///</span><span class="c"> loaders from all packs containing specified object</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r26 r">windowCursor</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Temporary working space associated with the calling thread.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r27 r">objectId</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="ObjectId.cs.html#a54807441779f4c5" class="t t">ObjectId</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> of object to search for.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>public virtual void</b> <a id="bb4b1788ffe57afb" href="R/bb4b1788ffe57afb.html" target="n" data-glyph="72,1" class="i method">OpenObjectInAllPacks</a>(<a href="@0@mscorlib/A.html#a9bf1395d3addc77" class="t t">ICollection</a>&lt;<a href="PackedObjectLoader.cs.html#a2110e69ed08fb94" class="t t">PackedObjectLoader</a>&gt; <span id="r25 rd" class="r25 r">@out</span>, <a href="WindowCursor.cs.html#1782168e8a82d90f" class="t t">WindowCursor</a> <span id="r26 rd" class="r26 r">windowCursor</span>, <a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a> <span id="r27 rd" class="r27 r">objectId</span>)
        {
            <a href="#bccacc031e829ce0" class="i method">OpenObjectInAllPacksImplementation</a>(<span class="r25 r">@out</span>, <span class="r26 r">windowCursor</span>, <span class="r27 r">objectId</span>);
            <b>foreach</b> (<a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a> <span id="r28 rd" class="r28 r">alt</span> <b>in</b> <a href="#12dd96d3c9ebef90" class="i method">getAlternates</a>())
            {
                <span class="r28 r">alt</span>.<a href="#bccacc031e829ce0" class="i method">OpenObjectInAllPacksImplementation</a>(<span class="r25 r">@out</span>, <span class="r26 r">windowCursor</span>, <span class="r27 r">objectId</span>);
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Open the object from all packs containing it.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c"> </span><span class="c">/&gt;</span>
        <span class="c">///</span><span class="c"> If any alternates are present, their packs are also considered.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r29 r">out</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Result collection of loaders for this object, filled with</span>
        <span class="c">///</span><span class="c"> loaders from all packs containing specified object.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r30 r">windowCursor</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Temporary working space associated with the calling thread.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r31 r">objectId</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="ObjectId.cs.html#a54807441779f4c5" class="t t">ObjectId</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> of object to search for.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>public virtual void</b> <a id="bccacc031e829ce0" href="R/bccacc031e829ce0.html" target="n" data-glyph="72,1" class="i method">OpenObjectInAllPacksImplementation</a>(<a href="@0@mscorlib/A.html#a9bf1395d3addc77" class="t t">ICollection</a>&lt;<a href="PackedObjectLoader.cs.html#a2110e69ed08fb94" class="t t">PackedObjectLoader</a>&gt; <span id="r29 rd" class="r29 r">@out</span>, <a href="WindowCursor.cs.html#1782168e8a82d90f" class="t t">WindowCursor</a> <span id="r30 rd" class="r30 r">windowCursor</span>, <a href="AnyObjectId.cs.html#26c90e71b2d0518a" class="t t">AnyObjectId</a> <span id="r31 rd" class="r31 r">objectId</span>)
        {
            <span class="c">// Assume no pack support</span>
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> true if the fast-half search should be tried again.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual bool</b> <a id="a813a8c4f821004e" href="R/a813a8c4f821004e.html" target="n" data-glyph="72,1" class="i method">tryAgain1</a>()
        {
            <b>return false</b>;
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Get the alternate databases known to this database.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The alternate list. Never null, but may be an empty array.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public</b> <a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a>[] <a id="12dd96d3c9ebef90" href="R/12dd96d3c9ebef90.html" target="n" data-glyph="72,1" class="i method">getAlternates</a>()
        {
            <a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a>[] <span id="r32 rd" class="r32 r">r</span> = <a href="#6f063614e9045adb" class="i field">_alternates</a>.<a href="Util/JavaHelper/AtomicReference.cs.html#2655510bfd9169d8" class="i method">get</a>();
            <b>if</b> (<span class="r32 r">r</span> == <b>null</b>)
            {
                <b>lock</b> (<a href="#6f063614e9045adb" class="i field">_alternates</a>)
                {
                    <span class="r32 r">r</span> = <a href="#6f063614e9045adb" class="i field">_alternates</a>.<a href="Util/JavaHelper/AtomicReference.cs.html#2655510bfd9169d8" class="i method">get</a>();
                    <b>if</b> (<span class="r32 r">r</span> == <b>null</b>)
                    {
                        <b>try</b>
                        {
                            <span class="r32 r">r</span> = <a href="#30734372a423f369" class="i method">loadAlternates</a>();
                        }
                        <b>catch</b> (<a href="@0@mscorlib/A.html#bf546e435199e83c" class="t t">IOException</a>)
                        {
                            <span class="r32 r">r</span> = <a href="#b1d7a1f9bc2fac96" class="i field">NoAlternates</a>;
                        }

                        <a href="#6f063614e9045adb" class="i field">_alternates</a>.<a href="Util/JavaHelper/AtomicReference.cs.html#1c52a5b3c4afed44" class="i method">set</a>(<span class="r32 r">r</span>); <span class="c">// [henon] possible deadlock?</span>
                    }
                }
            }

            <b>return</b> <span class="r32 r">r</span>;
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Load the list of alternate databases into memory.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c"> </span><span class="c">/&gt;</span>
        <span class="c">///</span><span class="c"> This method is invoked by </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#12dd96d3c9ebef90" class="i method">getAlternates</a>()<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> if the alternate list</span>
        <span class="c">///</span><span class="c"> has not yet been populated, or if </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#a46781f80e0637c5" class="i method">closeAlternates</a>()<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> has been</span>
        <span class="c">///</span><span class="c"> called on this instance and the alternate list is needed again.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c"> </span><span class="c">/&gt;</span>
        <span class="c">///</span><span class="c"> If the alternate array is empty, implementors should consider using the</span>
        <span class="c">///</span><span class="c"> constant </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#b1d7a1f9bc2fac96" class="i field">NoAlternates</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The alternate list for this database.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">exception</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The alternate list could not be accessed. The empty alternate</span>
        <span class="c">///</span><span class="c"> array </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#b1d7a1f9bc2fac96" class="i field">NoAlternates</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> will be assumed by the caller.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">exception</span><span class="c">&gt;</span>
        <b>protected virtual</b> <a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a>[] <a id="30734372a423f369" href="R/30734372a423f369.html" target="n" data-glyph="75,1" class="i method">loadAlternates</a>()
        {
            <b>return</b> <a href="#b1d7a1f9bc2fac96" class="i field">NoAlternates</a>;
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Close the list of alternates returned by </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#30734372a423f369" class="i method">loadAlternates</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r33 r">alt</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">the alternate list, from </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#30734372a423f369" class="i method">loadAlternates</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>protected void</b> <a id="998e7c4789823433" href="R/998e7c4789823433.html" target="n" data-glyph="75,1" class="i method">closeAlternates</a>(<a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a>[] <span id="r33 rd" class="r33 r">alt</span>)
        {
            <b>foreach</b> (<a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a> <span id="r34 rd" class="r34 r">d</span> <b>in</b> <span class="r33 r">alt</span>)
            {
                <span class="r34 r">d</span>.<a href="#31800827aea8c009" class="i method">Dispose</a>();
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Create a new cached database instance over this database. This instance might</span>
        <span class="c">///</span><span class="c"> optimize queries by caching some information about database. So some modifications</span>
        <span class="c">///</span><span class="c"> done after instance creation might fail to be noticed.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">new cached database instance</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="#c624234d6d3aac9e" class="t t">ObjectDatabase</a> <a id="e7be916719e00c7a" href="R/e7be916719e00c7a.html" target="n" data-glyph="72,1" class="i method">newCachedDatabase</a>()
        {
            <b>return</b> <b>new</b> <a href="CachedObjectDatabase.cs.html#652fc9b55179609b" class="t constructor">CachedObjectDatabase</a>(<a href="#c624234d6d3aac9e" class="k">this</a>);
        }
    }
}
</pre></td></tr></table></div></body></html>
