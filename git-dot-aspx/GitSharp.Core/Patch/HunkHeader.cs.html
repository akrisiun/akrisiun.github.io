<!DOCTYPE html>
<html><head><title>HunkHeader.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(466);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#GitSharp.Core/Patch/HunkHeader.cs" target="_top">Patch\HunkHeader.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#GitSharp.Core" target="_top">lib\GitSharp\GitSharp.Core\GitSharp.Core.csproj</a> (GitSharp.Core)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">/*
 * Copyright (C) 2008, Google Inc.
 * Copyright (C) 2009, Gil Ran &lt;gilrun@gmail.com&gt;
 *
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or
 * without modification, are permitted provided that the following
 * conditions are met:
 *
 * - Redistributions of source code must retain the above copyright
 *   notice, this list of conditions and the following disclaimer.
 *
 * - Redistributions in binary form must reproduce the above
 *   copyright notice, this list of conditions and the following
 *   disclaimer in the documentation and/or other materials provided
 *   with the distribution.
 *
 * - Neither the name of the Git Development Community nor the
 *   names of its contributors may be used to endorse or promote
 *   products derived from this software without specific prior
 *   written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
 * CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">Diff</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">Util</span>;

<b>namespace</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">Patch</span>
{
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
	<span class="c">///</span><span class="c"> Hunk header describing the layout of a single block of lines.</span>
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
	<b>public class</b> <a id="b93819dcfb6af782" href="../R/b93819dcfb6af782.html" target="n" data-glyph="0,0" class="t t">HunkHeader</a>
	{
		<b>private readonly</b> <a href="FileHeader.cs.html#94dd558d804785e0" class="t t">FileHeader</a> <a id="26421d4a852786a8" href="../R/26421d4a852786a8.html" target="n" data-glyph="46,1" class="i field">_file</a>;
		<b>private readonly</b> <a href="#cbd643e0aaa634da" class="t t">OldImage</a> <a id="71d2871d42d8a0b4" href="../R/71d2871d42d8a0b4.html" target="n" data-glyph="46,1" class="i field">_oldImage</a>;
		<b>private readonly int</b> <a id="a5199df74edb6b82" href="../R/a5199df74edb6b82.html" target="n" data-glyph="46,1" class="i field">_startOffset</a>;

		<b>public</b> <a id="94aad8b820fc6d49" href="../R/94aad8b820fc6d49.html" target="n" data-glyph="72,1" class="i constructor">HunkHeader</a>(<a href="FileHeader.cs.html#94dd558d804785e0" class="t t">FileHeader</a> <span id="r0 rd" class="r0 r">fh</span>, <b>int</b> <span id="r1 rd" class="r1 r">offset</span>)
			: <a href="#846042d199730764" class="k">this</a>(<span class="r0 r">fh</span>, <span class="r1 r">offset</span>, <b>new</b> <a href="#bc4c4241ccabc16b" class="t constructor">OldImage</a>(<span class="r0 r">fh</span>))
		{
		}

		<b>internal</b> <a id="846042d199730764" href="../R/846042d199730764.html" target="n" data-glyph="74,1" class="i constructor">HunkHeader</a>(<a href="FileHeader.cs.html#94dd558d804785e0" class="t t">FileHeader</a> <span id="r2 rd" class="r2 r">fh</span>, <b>int</b> <span id="r3 rd" class="r3 r">offset</span>, <a href="#cbd643e0aaa634da" class="t t">OldImage</a> <span id="r4 rd" class="r4 r">oi</span>)
		{
			<a href="#26421d4a852786a8" class="i field">_file</a> = <span class="r2 r">fh</span>;
			<a href="#a5199df74edb6b82" class="i field">_startOffset</a> = <span class="r3 r">offset</span>;
			<a href="#71d2871d42d8a0b4" class="i field">_oldImage</a> = <span class="r4 r">oi</span>;
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Header for the file this hunk applies to.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public virtual</b> <a href="FileHeader.cs.html#94dd558d804785e0" class="t t">FileHeader</a> <a id="400af25670f23494" href="../R/400af25670f23494.html" target="n" data-glyph="102,1" class="i property">File</a>
		{
			<b>get</b> { <b>return</b> <a href="#26421d4a852786a8" class="i field">_file</a>; }
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> The byte array holding this hunk&#39;s patch script.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public byte</b>[] <a id="3ca7f7e12ab3085d" href="../R/3ca7f7e12ab3085d.html" target="n" data-glyph="102,1" class="i property">Buffer</a>
		{
			<b>get</b> { <b>return</b> <a href="#26421d4a852786a8" class="i field">_file</a>.<a href="FileHeader.cs.html#fc52a48e75a69e9b" class="i property">Buffer</a>; }
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Offset within </span><span class="c">&lt;</span><span class="c">seealso</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="FileHeader.cs.html#94dd558d804785e0" class="t t">FileHeader</a>.<a href="FileHeader.cs.html#fc52a48e75a69e9b" class="i property">Buffer</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> to the &quot;@@ -&quot; line.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public int</b> <a id="9c55951485d783b1" href="../R/9c55951485d783b1.html" target="n" data-glyph="102,1" class="i property">StartOffset</a>
		{
			<b>get</b> { <b>return</b> <a href="#a5199df74edb6b82" class="i field">_startOffset</a>; }
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Position 1 past the end of this hunk within </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#400af25670f23494" class="i property">File</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">&#39;s buffer.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public int</b> <a id="7b1424ffa8942b30" href="../R/7b1424ffa8942b30.html" target="n" data-glyph="102,1" class="i property">EndOffset</a> { <b>get</b>; <b>set</b>; }

		<b>internal virtual</b> <a href="#cbd643e0aaa634da" class="t t">OldImage</a> <a id="59b687eedf2222ee" href="../R/59b687eedf2222ee.html" target="n" data-glyph="104,1" class="i property">OldImage</a>
		{
			<b>get</b> { <b>return</b> <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>; }
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> First line number in the post-image file where the hunk starts.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public int</b> <a id="dbacdae73938b33c" href="../R/dbacdae73938b33c.html" target="n" data-glyph="102,1" class="i property">NewStartLine</a> { <b>get</b>; <b>protected set</b>; }

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Total number of post-image lines this hunk covers (context + inserted)</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public int</b> <a id="40f5b730441c188d" href="../R/40f5b730441c188d.html" target="n" data-glyph="102,1" class="i property">NewLineCount</a> { <b>get</b>; <b>protected set</b>; }

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Total number of lines of context appearing in this hunk.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public int</b> <a id="ea482caf834d68cd" href="../R/ea482caf834d68cd.html" target="n" data-glyph="102,1" class="i property">LinesContext</a> { <b>get</b>; <b>protected set</b>; }

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Returns a list describing the content edits performed within the hunk.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public</b> <a href="../Diff/EditList.cs.html#bfb6d4fd7ba30b6b" class="t t">EditList</a> <a id="c4f1143f91a4f17e" href="../R/c4f1143f91a4f17e.html" target="n" data-glyph="72,1" class="i method">ToEditList</a>()
		{
			<a href="../Diff/EditList.cs.html#bfb6d4fd7ba30b6b" class="k">var</a> <span id="r5 rd" class="r5 r">r</span> = <b>new</b> <a href="../Diff/EditList.cs.html#bfb6d4fd7ba30b6b" class="t constructor">EditList</a>();
			<b>byte</b>[] <span id="r6 rd" class="r6 r">buf</span> = <a href="#26421d4a852786a8" class="i field">_file</a>.<a href="FileHeader.cs.html#fc52a48e75a69e9b" class="i property">Buffer</a>;
			<b>int</b> <span id="r7 rd" class="r7 r">c</span> = <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#0989702123852d37" class="i method">nextLF</a>(<span class="r6 r">buf</span>, <a href="#a5199df74edb6b82" class="i field">_startOffset</a>);
			<b>int</b> <span id="r8 rd" class="r8 r">oLine</span> = <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#f77fb7469f828f79" class="i property">StartLine</a>;
			<b>int</b> <span id="r9 rd" class="r9 r">nLine</span> = <a href="#dbacdae73938b33c" class="i property">NewStartLine</a>;
			<a href="../Diff/Edit.cs.html#d221e46374dfd441" class="t t">Edit</a> <span id="r10 rd" class="r10 r">inEdit</span> = <b>null</b>;

			<b>for</b> (; <span class="r7 r">c</span> &lt; <a href="#7b1424ffa8942b30" class="i property">EndOffset</a>; <span class="r7 r">c</span> = <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#0989702123852d37" class="i method">nextLF</a>(<span class="r6 r">buf</span>, <span class="r7 r">c</span>))
			{
				<b>bool</b> <span id="r11 rd" class="r11 r">breakScan</span>;

				<b>switch</b> (<span class="r6 r">buf</span>[<span class="r7 r">c</span>])
				{
					<b>case</b> (<b>byte</b>)<span class="s">&#39; &#39;</span>:
					<b>case</b> (<b>byte</b>)<span class="s">&#39;\n&#39;</span>:
						<span class="r10 r">inEdit</span> = <b>null</b>;
						<span class="r8 r">oLine</span>++;
						<span class="r9 r">nLine</span>++;
						<b>continue</b>;

					<b>case</b> (<b>byte</b>)<span class="s">&#39;-&#39;</span>:
						<b>if</b> (<span class="r10 r">inEdit</span> == <b>null</b>)
						{
							<span class="r10 r">inEdit</span> = <b>new</b> <a href="../Diff/Edit.cs.html#f2654190d0eadb3f" class="t constructor">Edit</a>(<span class="r8 r">oLine</span> - 1, <span class="r9 r">nLine</span> - 1);
							<span class="r5 r">r</span>.<a href="@0@mscorlib/A.html#9cc11588bffd57c1" class="i method">Add</a>(<span class="r10 r">inEdit</span>);
						}
						<span class="r8 r">oLine</span>++;
						<span class="r10 r">inEdit</span>.<a href="../Diff/Edit.cs.html#5da3c90e5e276839" class="i method">ExtendA</a>();
						<b>continue</b>;

					<b>case</b> (<b>byte</b>)<span class="s">&#39;+&#39;</span>:
						<b>if</b> (<span class="r10 r">inEdit</span> == <b>null</b>)
						{
							<span class="r10 r">inEdit</span> = <b>new</b> <a href="../Diff/Edit.cs.html#f2654190d0eadb3f" class="t constructor">Edit</a>(<span class="r8 r">oLine</span> - 1, <span class="r9 r">nLine</span> - 1);
							<span class="r5 r">r</span>.<a href="@0@mscorlib/A.html#9cc11588bffd57c1" class="i method">Add</a>(<span class="r10 r">inEdit</span>);
						}
						<span class="r9 r">nLine</span>++;
						<span class="r10 r">inEdit</span>.<a href="../Diff/Edit.cs.html#8f6e0a2a39945c08" class="i method">ExtendB</a>();
						<b>continue</b>;

					<b>case</b> (<b>byte</b>)<span class="s">&#39;\\&#39;</span>: <span class="c">// Matches &quot;\ No newline at end of file&quot;</span>
						<b>continue</b>;

					<b>default</b>:
						<span class="r11 r">breakScan</span> = <b>true</b>;
						<b>break</b>;
				}

				<b>if</b> (<span class="r11 r">breakScan</span>)
				{
					<b>break</b>;
				}
			}

			<b>return</b> <span class="r5 r">r</span>;
		}

		<b>public virtual void</b> <a id="550cf16a46105ad8" href="../R/550cf16a46105ad8.html" target="n" data-glyph="72,1" class="i method">parseHeader</a>()
		{
			<span class="c">// Parse &quot;@@ -236,9 +236,9 @@ protected boolean&quot;</span>
			<span class="c">//</span>
			<b>byte</b>[] <span id="r12 rd" class="r12 r">buf</span> = <a href="#26421d4a852786a8" class="i field">_file</a>.<a href="FileHeader.cs.html#fc52a48e75a69e9b" class="i property">Buffer</a>;
			<a href="../Util/MutableInteger.cs.html#5b3a0be7485d5537" class="k">var</a> <span id="r13 rd" class="r13 r">ptr</span> = <b>new</b> <a href="../Util/MutableInteger.cs.html#5b3a0be7485d5537" class="t constructor">MutableInteger</a>
						{
							<a href="../Util/MutableInteger.cs.html#1eabd2e28ad6a7f0" class="i field">value</a> = <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#bfac7916e9a2bc6d" class="i method">nextLF</a>(<span class="r12 r">buf</span>, <a href="#a5199df74edb6b82" class="i field">_startOffset</a>, (<b>byte</b>)<span class="s">&#39; &#39;</span>)
						};

			<a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#f77fb7469f828f79" class="i property">StartLine</a> = -1 * <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#52168a0231cef30b" class="i method">parseBase10</a>(<span class="r12 r">buf</span>, <span class="r13 r">ptr</span>.<a href="../Util/MutableInteger.cs.html#1eabd2e28ad6a7f0" class="i field">value</a>, <span class="r13 r">ptr</span>);

			<a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#ab937b748ea7c8d3" class="i property">LineCount</a> = <span class="r12 r">buf</span>[<span class="r13 r">ptr</span>.<a href="../Util/MutableInteger.cs.html#1eabd2e28ad6a7f0" class="i field">value</a>] == <span class="s">&#39;,&#39;</span> ? <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#52168a0231cef30b" class="i method">parseBase10</a>(<span class="r12 r">buf</span>, <span class="r13 r">ptr</span>.<a href="../Util/MutableInteger.cs.html#1eabd2e28ad6a7f0" class="i field">value</a> + 1, <span class="r13 r">ptr</span>) : 1;
			<a href="#dbacdae73938b33c" class="i property">NewStartLine</a> = <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#52168a0231cef30b" class="i method">parseBase10</a>(<span class="r12 r">buf</span>, <span class="r13 r">ptr</span>.<a href="../Util/MutableInteger.cs.html#1eabd2e28ad6a7f0" class="i field">value</a> + 1, <span class="r13 r">ptr</span>);
			<a href="#40f5b730441c188d" class="i property">NewLineCount</a> = <span class="r12 r">buf</span>[<span class="r13 r">ptr</span>.<a href="../Util/MutableInteger.cs.html#1eabd2e28ad6a7f0" class="i field">value</a>] == <span class="s">&#39;,&#39;</span> ? <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#52168a0231cef30b" class="i method">parseBase10</a>(<span class="r12 r">buf</span>, <span class="r13 r">ptr</span>.<a href="../Util/MutableInteger.cs.html#1eabd2e28ad6a7f0" class="i field">value</a> + 1, <span class="r13 r">ptr</span>) : 1;
		}

		<b>public virtual int</b> <a id="cc9fb8b23c09675b" href="../R/cc9fb8b23c09675b.html" target="n" data-glyph="72,1" class="i method">parseBody</a>(<a href="Patch.cs.html#f89a789ac3454a0c" class="t t">Patch</a> <span id="r14 rd" class="r14 r">script</span>, <b>int</b> <span id="r15 rd" class="r15 r">end</span>)
		{
			<b>byte</b>[] <span id="r16 rd" class="r16 r">buf</span> = <a href="#26421d4a852786a8" class="i field">_file</a>.<a href="FileHeader.cs.html#fc52a48e75a69e9b" class="i property">Buffer</a>;
			<b>int</b> <span id="r17 rd" class="r17 r">c</span> = <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#0989702123852d37" class="i method">nextLF</a>(<span class="r16 r">buf</span>, <a href="#a5199df74edb6b82" class="i field">_startOffset</a>), <span id="r18 rd" class="r18 r">last</span> = <span class="r17 r">c</span>;

			<a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#419d54bc117240f9" class="i property">LinesDeleted</a> = 0;
			<a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#73b01bfdf8e0a8f8" class="i property">LinesAdded</a> = 0;

			<b>for</b> (; <span class="r17 r">c</span> &lt; <span class="r15 r">end</span>; <span class="r18 r">last</span> = <span class="r17 r">c</span>, <span class="r17 r">c</span> = <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#0989702123852d37" class="i method">nextLF</a>(<span class="r16 r">buf</span>, <span class="r17 r">c</span>))
			{
				<b>bool</b> <span id="r19 rd" class="r19 r">breakScan</span>;
				<b>switch</b> (<span class="r16 r">buf</span>[<span class="r17 r">c</span>])
				{
					<b>case</b> (<b>byte</b>)<span class="s">&#39; &#39;</span>:
					<b>case</b> (<b>byte</b>)<span class="s">&#39;\n&#39;</span>:
						<a href="#ea482caf834d68cd" class="i property">LinesContext</a>++;
						<b>continue</b>;

					<b>case</b> (<b>byte</b>)<span class="s">&#39;-&#39;</span>:
						<a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#419d54bc117240f9" class="i property">LinesDeleted</a>++;
						<b>continue</b>;

					<b>case</b> (<b>byte</b>)<span class="s">&#39;+&#39;</span>:
						<a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#73b01bfdf8e0a8f8" class="i property">LinesAdded</a>++;
						<b>continue</b>;

					<b>case</b> (<b>byte</b>)<span class="s">&#39;\\&#39;</span>: <span class="c">// Matches &quot;\ No newline at end of file&quot;</span>
						<b>continue</b>;

					<b>default</b>:
						<span class="r19 r">breakScan</span> = <b>true</b>;
						<b>break</b>;
				}

				<b>if</b> (<span class="r19 r">breakScan</span>)
				{
					<b>break</b>;
				}
			}

			<b>if</b> (<span class="r18 r">last</span> &lt; <span class="r15 r">end</span> &amp;&amp; <a href="#ea482caf834d68cd" class="i property">LinesContext</a> + <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#419d54bc117240f9" class="i property">LinesDeleted</a> - 1 == <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#ab937b748ea7c8d3" class="i property">LineCount</a>
				&amp;&amp; <a href="#ea482caf834d68cd" class="i property">LinesContext</a> + <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#73b01bfdf8e0a8f8" class="i property">LinesAdded</a> == <a href="#40f5b730441c188d" class="i property">NewLineCount</a>
				&amp;&amp; <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#8d5e78f7413720c3" class="i method">match</a>(<span class="r16 r">buf</span>, <span class="r18 r">last</span>, <a href="Patch.cs.html#f89a789ac3454a0c" class="t t">Patch</a>.<a href="Patch.cs.html#39d17d878fcdd4ec" class="i field">SigFooter</a>) &gt;= 0)
			{
				<span class="c">// This is an extremely common occurrence of &quot;corruption&quot;.</span>
				<span class="c">// Users add footers with their signatures After this mark,</span>
				<span class="c">// and git diff adds the git executable version number.</span>
				<span class="c">// Let it slide; the hunk otherwise looked sound.</span>
				<span class="c">//</span>
				<a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#419d54bc117240f9" class="i property">LinesDeleted</a>--;
				<b>return</b> <span class="r18 r">last</span>;
			}

			<b>if</b> (<a href="#ea482caf834d68cd" class="i property">LinesContext</a> + <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#419d54bc117240f9" class="i property">LinesDeleted</a> &lt; <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#ab937b748ea7c8d3" class="i property">LineCount</a>)
			{
				<b>int</b> <span id="r20 rd" class="r20 r">missingCount</span> = <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#ab937b748ea7c8d3" class="i property">LineCount</a> - (<a href="#ea482caf834d68cd" class="i property">LinesContext</a> + <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#419d54bc117240f9" class="i property">LinesDeleted</a>);
				<span class="r14 r">script</span>.<a href="Patch.cs.html#3350102bbebb910e" class="i method">error</a>(<span class="r16 r">buf</span>, <a href="#a5199df74edb6b82" class="i field">_startOffset</a>, <span class="s">&quot;Truncated hunk, at least &quot;</span>
												+ <span class="r20 r">missingCount</span> + <span class="s">&quot; old lines is missing&quot;</span>);
			}
			<b>else if</b> (<a href="#ea482caf834d68cd" class="i property">LinesContext</a> + <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#73b01bfdf8e0a8f8" class="i property">LinesAdded</a> &lt; <a href="#40f5b730441c188d" class="i property">NewLineCount</a>)
			{
				<b>int</b> <span id="r21 rd" class="r21 r">missingCount</span> = <a href="#40f5b730441c188d" class="i property">NewLineCount</a> - (<a href="#ea482caf834d68cd" class="i property">LinesContext</a> + <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#73b01bfdf8e0a8f8" class="i property">LinesAdded</a>);
				<span class="r14 r">script</span>.<a href="Patch.cs.html#3350102bbebb910e" class="i method">error</a>(<span class="r16 r">buf</span>, <a href="#a5199df74edb6b82" class="i field">_startOffset</a>, <span class="s">&quot;Truncated hunk, at least &quot;</span>
												+ <span class="r21 r">missingCount</span> + <span class="s">&quot; new lines is missing&quot;</span>);
			}
			<b>else if</b> (<a href="#ea482caf834d68cd" class="i property">LinesContext</a> + <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#419d54bc117240f9" class="i property">LinesDeleted</a> &gt; <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#ab937b748ea7c8d3" class="i property">LineCount</a>
					 || <a href="#ea482caf834d68cd" class="i property">LinesContext</a> + <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#73b01bfdf8e0a8f8" class="i property">LinesAdded</a> &gt; <a href="#40f5b730441c188d" class="i property">NewLineCount</a>)
			{
				<b>string</b> <span id="r22 rd" class="r22 r">oldcnt</span> = <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#ab937b748ea7c8d3" class="i property">LineCount</a> + <span class="s">&quot;:&quot;</span> + <a href="#40f5b730441c188d" class="i property">NewLineCount</a>;
				<b>string</b> <span id="r23 rd" class="r23 r">newcnt</span> = (<a href="#ea482caf834d68cd" class="i property">LinesContext</a> + <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#419d54bc117240f9" class="i property">LinesDeleted</a>) + <span class="s">&quot;:&quot;</span>
								+ (<a href="#ea482caf834d68cd" class="i property">LinesContext</a> + <a href="#71d2871d42d8a0b4" class="i field">_oldImage</a>.<a href="#73b01bfdf8e0a8f8" class="i property">LinesAdded</a>);
				<span class="r14 r">script</span>.<a href="Patch.cs.html#ccdabce8830f675a" class="i method">warn</a>(<span class="r16 r">buf</span>, <a href="#a5199df74edb6b82" class="i field">_startOffset</a>, <span class="s">&quot;Hunk header &quot;</span> + <span class="r22 r">oldcnt</span>
											   + <span class="s">&quot; does not match body line count of &quot;</span> + <span class="r23 r">newcnt</span>);
			}

			<b>return</b> <span class="r17 r">c</span>;
		}

		<b>public void</b> <a id="4ae8a4e8603b25b1" href="../R/4ae8a4e8603b25b1.html" target="n" data-glyph="72,1" class="i method">extractFileLines</a>(<a href="../Util/TemporaryBuffer.cs.html#657dbd7b9cab3ad5" class="t t">TemporaryBuffer</a>[] <span id="r24 rd" class="r24 r">outStream</span>)
		{
			<b>byte</b>[] <span id="r25 rd" class="r25 r">buf</span> = <a href="#26421d4a852786a8" class="i field">_file</a>.<a href="FileHeader.cs.html#fc52a48e75a69e9b" class="i property">Buffer</a>;
			<b>int</b> <span id="r26 rd" class="r26 r">ptr</span> = <a href="#a5199df74edb6b82" class="i field">_startOffset</a>;
			<b>int</b> <span id="r27 rd" class="r27 r">eol</span> = <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#0989702123852d37" class="i method">nextLF</a>(<span class="r25 r">buf</span>, <span class="r26 r">ptr</span>);
			<b>if</b> (<a href="#7b1424ffa8942b30" class="i property">EndOffset</a> &lt;= <span class="r27 r">eol</span>)
				<b>return</b>;

			<span class="c">// Treat the hunk header as though it were from the ancestor,</span>
			<span class="c">// as it may have a function header appearing After it which</span>
			<span class="c">// was copied out of the ancestor file.</span>
			<span class="c">//</span>
			<span class="r24 r">outStream</span>[0].<a href="../Util/TemporaryBuffer.cs.html#310dfda0cef3c274" class="i method">write</a>(<span class="r25 r">buf</span>, <span class="r26 r">ptr</span>, <span class="r27 r">eol</span> - <span class="r26 r">ptr</span>);

			<b>bool</b> <span id="r28 rd" class="r28 r">break_scan</span> = <b>false</b>;
			<b>for</b> (<span class="r26 r">ptr</span> = <span class="r27 r">eol</span>; <span class="r26 r">ptr</span> &lt; <a href="#7b1424ffa8942b30" class="i property">EndOffset</a>; <span class="r26 r">ptr</span> = <span class="r27 r">eol</span>)
			{
				<span class="r27 r">eol</span> = <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#0989702123852d37" class="i method">nextLF</a>(<span class="r25 r">buf</span>, <span class="r26 r">ptr</span>);
				<b>switch</b> (<span class="r25 r">buf</span>[<span class="r26 r">ptr</span>])
				{
					<b>case</b> (<b>byte</b>)<span class="s">&#39; &#39;</span>:
					<b>case</b> (<b>byte</b>)<span class="s">&#39;\n&#39;</span>:
					<b>case</b> (<b>byte</b>)<span class="s">&#39;\\&#39;</span>:
						<span class="r24 r">outStream</span>[0].<a href="../Util/TemporaryBuffer.cs.html#310dfda0cef3c274" class="i method">write</a>(<span class="r25 r">buf</span>, <span class="r26 r">ptr</span>, <span class="r27 r">eol</span> - <span class="r26 r">ptr</span>);
						<span class="r24 r">outStream</span>[1].<a href="../Util/TemporaryBuffer.cs.html#310dfda0cef3c274" class="i method">write</a>(<span class="r25 r">buf</span>, <span class="r26 r">ptr</span>, <span class="r27 r">eol</span> - <span class="r26 r">ptr</span>);
						<b>break</b>;
					<b>case</b> (<b>byte</b>)<span class="s">&#39;-&#39;</span>:
						<span class="r24 r">outStream</span>[0].<a href="../Util/TemporaryBuffer.cs.html#310dfda0cef3c274" class="i method">write</a>(<span class="r25 r">buf</span>, <span class="r26 r">ptr</span>, <span class="r27 r">eol</span> - <span class="r26 r">ptr</span>);
						<b>break</b>;
					<b>case</b> (<b>byte</b>)<span class="s">&#39;+&#39;</span>:
						<span class="r24 r">outStream</span>[1].<a href="../Util/TemporaryBuffer.cs.html#310dfda0cef3c274" class="i method">write</a>(<span class="r25 r">buf</span>, <span class="r26 r">ptr</span>, <span class="r27 r">eol</span> - <span class="r26 r">ptr</span>);
						<b>break</b>;
					<b>default</b>:
						<span class="r28 r">break_scan</span> = <b>true</b>;
						<b>break</b>;
				}
				<b>if</b> (<span class="r28 r">break_scan</span>)
					<b>break</b>;
			}
		}

		<b>public virtual void</b> <a id="293dd0ede11a7122" href="../R/293dd0ede11a7122.html" target="n" data-glyph="72,1" class="i method">extractFileLines</a>(<a href="@0@mscorlib/A.html#adf60ee46ebd299f" class="t t">StringBuilder</a> <span id="r29 rd" class="r29 r">sb</span>, <b>string</b>[] <span id="r30 rd" class="r30 r">text</span>, <b>int</b>[] <span id="r31 rd" class="r31 r">offsets</span>)
		{
			<b>byte</b>[] <span id="r32 rd" class="r32 r">buf</span> = <a href="#26421d4a852786a8" class="i field">_file</a>.<a href="FileHeader.cs.html#fc52a48e75a69e9b" class="i property">Buffer</a>;
			<b>int</b> <span id="r33 rd" class="r33 r">ptr</span> = <a href="#a5199df74edb6b82" class="i field">_startOffset</a>;
			<b>int</b> <span id="r34 rd" class="r34 r">eol</span> = <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#0989702123852d37" class="i method">nextLF</a>(<span class="r32 r">buf</span>, <span class="r33 r">ptr</span>);
			<b>if</b> (<a href="#7b1424ffa8942b30" class="i property">EndOffset</a> &lt;= <span class="r34 r">eol</span>)
				<b>return</b>;
			<a href="#7ea5049000d2bc9b" class="i method">copyLine</a>(<span class="r29 r">sb</span>, <span class="r30 r">text</span>, <span class="r31 r">offsets</span>, 0);

			<b>bool</b> <span id="r35 rd" class="r35 r">break_scan</span> = <b>false</b>;
			<b>for</b> (<span class="r33 r">ptr</span> = <span class="r34 r">eol</span>; <span class="r33 r">ptr</span> &lt; <a href="#7b1424ffa8942b30" class="i property">EndOffset</a>; <span class="r33 r">ptr</span> = <span class="r34 r">eol</span>)
			{
				<span class="r34 r">eol</span> = <a href="../Util/RawParseUtils.cs.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="../Util/RawParseUtils.cs.html#0989702123852d37" class="i method">nextLF</a>(<span class="r32 r">buf</span>, <span class="r33 r">ptr</span>);
				<b>switch</b> (<span class="r32 r">buf</span>[<span class="r33 r">ptr</span>])
				{
					<b>case</b> (<b>byte</b>)<span class="s">&#39; &#39;</span>:
					<b>case</b> (<b>byte</b>)<span class="s">&#39;\n&#39;</span>:
					<b>case</b> (<b>byte</b>)<span class="s">&#39;\\&#39;</span>:
						<a href="#7ea5049000d2bc9b" class="i method">copyLine</a>(<span class="r29 r">sb</span>, <span class="r30 r">text</span>, <span class="r31 r">offsets</span>, 0);
						<a href="#f570b6cb0e661179" class="i method">skipLine</a>(<span class="r30 r">text</span>, <span class="r31 r">offsets</span>, 1);
						<b>break</b>;
					<b>case</b> (<b>byte</b>)<span class="s">&#39;-&#39;</span>:
						<a href="#7ea5049000d2bc9b" class="i method">copyLine</a>(<span class="r29 r">sb</span>, <span class="r30 r">text</span>, <span class="r31 r">offsets</span>, 0);
						<b>break</b>;
					<b>case</b> (<b>byte</b>)<span class="s">&#39;+&#39;</span>:
						<a href="#7ea5049000d2bc9b" class="i method">copyLine</a>(<span class="r29 r">sb</span>, <span class="r30 r">text</span>, <span class="r31 r">offsets</span>, 1);
						<b>break</b>;
					<b>default</b>:
						<span class="r35 r">break_scan</span> = <b>true</b>;
						<b>break</b>;
				}
				<b>if</b> (<span class="r35 r">break_scan</span>)
					<b>break</b>;
			}
		}

		<b>public void</b> <a id="7ea5049000d2bc9b" href="../R/7ea5049000d2bc9b.html" target="n" data-glyph="72,1" class="i method">copyLine</a>(<a href="@0@mscorlib/A.html#adf60ee46ebd299f" class="t t">StringBuilder</a> <span id="r36 rd" class="r36 r">sb</span>, <b>string</b>[] <span id="r37 rd" class="r37 r">text</span>, <b>int</b>[] <span id="r38 rd" class="r38 r">offsets</span>, <b>int</b> <span id="r39 rd" class="r39 r">fileIdx</span>)
		{
			<b>string</b> <span id="r40 rd" class="r40 r">s</span> = <span class="r37 r">text</span>[<span class="r39 r">fileIdx</span>];
			<b>int</b> <span id="r41 rd" class="r41 r">start</span> = <span class="r38 r">offsets</span>[<span class="r39 r">fileIdx</span>];
			<b>int</b> <span id="r42 rd" class="r42 r">end</span> = <span class="r40 r">s</span>.<a href="@0@mscorlib/A.html#a3e563d9d6528abf" class="i method">IndexOf</a>(<span class="s">&#39;\n&#39;</span>, <span class="r41 r">start</span>);
			<b>if</b> (<span class="r42 r">end</span> &lt; 0)
			{
				<span class="r42 r">end</span> = <span class="r40 r">s</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a>;
			}
			<b>else</b>
			{
				<span class="r42 r">end</span>++;
			}
			<span class="r36 r">sb</span>.<a href="@0@mscorlib/A.html#6d48c42f6982ca03" class="i method">Append</a>(<span class="r40 r">s</span>, <span class="r41 r">start</span>, <span class="r42 r">end</span> - <span class="r41 r">start</span>);
			<span class="r38 r">offsets</span>[<span class="r39 r">fileIdx</span>] = <span class="r42 r">end</span>;
		}

		<b>public void</b> <a id="f570b6cb0e661179" href="../R/f570b6cb0e661179.html" target="n" data-glyph="72,1" class="i method">skipLine</a>(<b>string</b>[] <span id="r43 rd" class="r43 r">text</span>, <b>int</b>[] <span id="r44 rd" class="r44 r">offsets</span>, <b>int</b> <span id="r45 rd" class="r45 r">fileIdx</span>)
		{
			<b>string</b> <span id="r46 rd" class="r46 r">s</span> = <span class="r43 r">text</span>[<span class="r45 r">fileIdx</span>];
			<b>int</b> <span id="r47 rd" class="r47 r">end</span> = <span class="r46 r">s</span>.<a href="@0@mscorlib/A.html#a3e563d9d6528abf" class="i method">IndexOf</a>(<span class="s">&#39;\n&#39;</span>, <span class="r44 r">offsets</span>[<span class="r45 r">fileIdx</span>]);
			<span class="r44 r">offsets</span>[<span class="r45 r">fileIdx</span>] = <span class="r47 r">end</span> &lt; 0 ? <span class="r46 r">s</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> : <span class="r47 r">end</span> + 1;
		}
	}

	<span class="k preprocess">#</span><span class="k preprocess">region</span> Nested Types

	<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
	<span class="c">///</span><span class="c"> Details about an old image of the file.</span>
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
	<b>internal class</b> <a id="cbd643e0aaa634da" href="../R/cbd643e0aaa634da.html" target="n" data-glyph="2,0" class="t t">OldImage</a>
	{
		<b>private readonly</b> <a href="FileHeader.cs.html#94dd558d804785e0" class="t t">FileHeader</a> <a id="d0d011cfd96e4c4b" href="../R/d0d011cfd96e4c4b.html" target="n" data-glyph="46,1" class="i field">_fh</a>;
		<b>private readonly</b> <a href="../AbbreviatedObjectId.cs.html#f643b6637511da45" class="t t">AbbreviatedObjectId</a> <a id="660a9126a90eba7d" href="../R/660a9126a90eba7d.html" target="n" data-glyph="46,1" class="i field">_id</a>;

		<b>public</b> <a id="bc4c4241ccabc16b" href="../R/bc4c4241ccabc16b.html" target="n" data-glyph="72,1" class="i constructor">OldImage</a>(<a href="FileHeader.cs.html#94dd558d804785e0" class="t t">FileHeader</a> <span id="r48 rd" class="r48 r">fh</span>)
			: <a href="#fa9b522ef66dcaa8" class="k">this</a>(<span class="r48 r">fh</span>, <span class="r48 r">fh</span>.<a href="FileHeader.cs.html#8340156d7ad8e606" class="i method">getOldId</a>())
		{
		}

		<b>public</b> <a id="fa9b522ef66dcaa8" href="../R/fa9b522ef66dcaa8.html" target="n" data-glyph="72,1" class="i constructor">OldImage</a>(<a href="FileHeader.cs.html#94dd558d804785e0" class="t t">FileHeader</a> <span id="r49 rd" class="r49 r">fh</span>, <a href="../AbbreviatedObjectId.cs.html#f643b6637511da45" class="t t">AbbreviatedObjectId</a> <span id="r50 rd" class="r50 r">id</span>)
		{
			<a href="#d0d011cfd96e4c4b" class="i field">_fh</a> = <span class="r49 r">fh</span>;
			<a href="#660a9126a90eba7d" class="i field">_id</a> = <span class="r50 r">id</span>;
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Returns the </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="../AbbreviatedObjectId.cs.html#f643b6637511da45" class="t t">AbbreviatedObjectId</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> of the pre-image file.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public virtual</b> <a href="../AbbreviatedObjectId.cs.html#f643b6637511da45" class="t t">AbbreviatedObjectId</a> <a id="ec42c0bfd7966236" href="../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Id</a>
		{
			<b>get</b> { <b>return</b> <a href="#660a9126a90eba7d" class="i field">_id</a>; }
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Returns the </span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="FileHeader.cs.html#94dd558d804785e0" class="t t">FileHeader</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> of this hunk.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public virtual</b> <a href="FileHeader.cs.html#94dd558d804785e0" class="t t">FileHeader</a> <a id="4bde52ad3f2abe8e" href="../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Fh</a>
		{
			<b>get</b> { <b>return</b> <a href="#d0d011cfd96e4c4b" class="i field">_fh</a>; }
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Return the first line number the hunk starts on in this file.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public int</b> <a id="f77fb7469f828f79" href="../R/f77fb7469f828f79.html" target="n" data-glyph="102,1" class="i property">StartLine</a> { <b>get</b>; <b>set</b>; }

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> rReturn the total number of lines this hunk covers in this file.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public int</b> <a id="ab937b748ea7c8d3" href="../R/ab937b748ea7c8d3.html" target="n" data-glyph="102,1" class="i property">LineCount</a> { <b>get</b>; <b>set</b>; }

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Returns the number of lines deleted by the post-image from this file.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public int</b> <a id="419d54bc117240f9" href="../R/419d54bc117240f9.html" target="n" data-glyph="102,1" class="i property">LinesDeleted</a> { <b>get</b>; <b>set</b>; }

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Returns the number of lines added by the post-image not in this file.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public int</b> <a id="73b01bfdf8e0a8f8" href="../R/73b01bfdf8e0a8f8.html" target="n" data-glyph="102,1" class="i property">LinesAdded</a> { <b>get</b>; <b>set</b>; }

		<b>public virtual int</b> <a id="c1c8f7eb73727573" href="../R/c1c8f7eb73727573.html" target="n" data-glyph="102,1" class="i property">LinesContext</a>
		{
			<b>get</b> { <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#085d4139ffb78d13" class="t constructor">NotImplementedException</a>(); }
			<b>set</b> { <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#085d4139ffb78d13" class="t constructor">NotImplementedException</a>(); }
		}
	}

	<b>internal class</b> <a id="fd087743bb229ea5" href="../R/fd087743bb229ea5.html" target="n" data-glyph="2,0" class="t t">CombinedOldImage</a> : <a href="#cbd643e0aaa634da" class="t t">OldImage</a>
	{
		<b>private readonly int</b> <a id="8323490b0ea39559" href="../R/8323490b0ea39559.html" target="n" data-glyph="46,1" class="i field">_imagePos</a>;

		<b>public</b> <a id="154e99d15b67ff7e" href="../R/154e99d15b67ff7e.html" target="n" data-glyph="72,1" class="i constructor">CombinedOldImage</a>(<a href="FileHeader.cs.html#94dd558d804785e0" class="t t">FileHeader</a> <span id="r51 rd" class="r51 r">fh</span>, <b>int</b> <span id="r52 rd" class="r52 r">imagePos</span>)
			: <a href="#fa9b522ef66dcaa8" class="k">base</a>(<span class="r51 r">fh</span>, ((<a href="CombinedFileHeader.cs.html#dc83f59c1fb08d95" class="t t">CombinedFileHeader</a>)<span class="r51 r">fh</span>).<a href="CombinedFileHeader.cs.html#d0596282ca39b5ff" class="i method">getOldId</a>(<span class="r52 r">imagePos</span>))
		{
			<a href="#8323490b0ea39559" class="i field">_imagePos</a> = <span class="r52 r">imagePos</span>;
		}

		<b>public override int</b> <a id="5260174705d69ff3" href="../R/5260174705d69ff3.html" target="n" data-glyph="102,1" class="i property">LinesContext</a>
		{
			<b>get</b>;
			<b>set</b>;
		}

		<b>public int</b> <a id="240efed5d005328b" href="../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">ImagePos</a>
		{
			<b>get</b> { <b>return</b> <a href="#8323490b0ea39559" class="i field">_imagePos</a>; }
		}
	}

	<span class="k preprocess">#</span><span class="k preprocess">endregion</span>
}</pre></td></tr></table></div></body></html>
