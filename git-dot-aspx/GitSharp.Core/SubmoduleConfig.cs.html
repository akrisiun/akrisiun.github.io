<!DOCTYPE html>
<html><head><title>SubmoduleConfig.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(127);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#GitSharp.Core/SubmoduleConfig.cs" target="_top">SubmoduleConfig.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#GitSharp.Core" target="_top">lib\GitSharp\GitSharp.Core\GitSharp.Core.csproj</a> (GitSharp.Core)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">/*
 * Copyright (C) 2009, Stefan Schake &lt;caytchen@gmail.com&gt;
 *
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or
 * without modification, are permitted provided that the following
 * conditions are met:
 *
 * - Redistributions of source code must retain the above copyright
 *   notice, this list of conditions and the following disclaimer.
 *
 * - Redistributions in binary form must reproduce the above
 *   copyright notice, this list of conditions and the following
 *   disclaimer in the documentation and/or other materials provided
 *   with the distribution.
 *
 * - Neither the name of the Git Development Community nor the
 *   names of its contributors may be used to endorse or promote
 *   products derived from this software without specific prior
 *   written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
 * CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">Transport</span>;

<b>namespace</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>
{

    <b>public class</b> <a id="fde34727e559ec17" href="R/fde34727e559ec17.html" target="n" data-glyph="0,0" class="t t">SubmoduleEntry</a>
    {
		[<a href="@0@mscorlib/A.html#e971d5381ca60183" class="t constructor">Serializable</a>]
        <b>public enum</b> <a id="003f854f3e8fca82" href="R/003f854f3e8fca82.html" target="n" data-glyph="18,1" class="t t"><span id="a216077a5c4696f3">UpdateMethod</span></a>
        {
            <a id="4cb367c4a400215a" href="R/4cb367c4a400215a.html" target="n" data-glyph="24,2" class="i field">Checkout</a>,
            <a id="2042f6f652963969" href="R/2042f6f652963969.html" target="n" data-glyph="24,2" class="i field">Rebase</a>,
            <a id="49031fcf3c32e507" href="R/49031fcf3c32e507.html" target="n" data-glyph="24,2" class="i field">Merge</a>
        }

        <b>public string</b> <a id="b1c96629288d3bad" href="R/b1c96629288d3bad.html" target="n" data-glyph="102,1" class="i property">Name</a> { <b>get</b>; <b>private set</b>; }
        <b>public string</b> <a id="719b75c90b0211b1" href="R/719b75c90b0211b1.html" target="n" data-glyph="102,1" class="i property">Path</a> { <b>get</b>; <b>private set</b>; }
        <b>public</b> <a href="Transport/URIish.cs.html#a1ae4a7dcf6f4490" class="t t">URIish</a> <a id="c917ba79bf9600cd" href="R/c917ba79bf9600cd.html" target="n" data-glyph="102,1" class="i property">Url</a> { <b>get</b>; <b>private set</b>; }
        <b>public</b> <a href="#003f854f3e8fca82" class="t t">UpdateMethod</a> <a id="e2729d41ba521bb1" href="R/e2729d41ba521bb1.html" target="n" data-glyph="102,1" class="i property">Update</a> { <b>get</b>; <b>private set</b>; }

        <b>public</b> <a id="227eb4979c882e3b" href="R/227eb4979c882e3b.html" target="n" data-glyph="72,1" class="i constructor">SubmoduleEntry</a>(<b>string</b> <span id="r0 rd" class="r0 r">name</span>, <b>string</b> <span id="r1 rd" class="r1 r">path</span>, <a href="Transport/URIish.cs.html#a1ae4a7dcf6f4490" class="t t">URIish</a> <span id="r2 rd" class="r2 r">url</span>, <a href="#003f854f3e8fca82" class="t t">UpdateMethod</a> <span id="r3 rd" class="r3 r">update</span>)
        {
            <a href="#b1c96629288d3bad" class="i property">Name</a> = <span class="r0 r">name</span>;
            <a href="#719b75c90b0211b1" class="i property">Path</a> = <span class="r1 r">path</span>;
            <a href="#c917ba79bf9600cd" class="i property">Url</a> = <span class="r2 r">url</span>;
            <a href="#e2729d41ba521bb1" class="i property">Update</a> = <span class="r3 r">update</span>;
        }
    }

    <b>public class</b> <a id="2620d2a5ccb20a23" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">SubmoduleConfig</a> : <a href="FileBasedConfig.cs.html#31739b7b09e6d920" class="t t">FileBasedConfig</a>
    {
        <b>public</b> <a id="7eb84321370a61eb" href="R/7eb84321370a61eb.html" target="n" data-glyph="72,1" class="i constructor">SubmoduleConfig</a>(<a href="Config.cs.html#14d5730154bea165" class="t t">Config</a> <span id="r4 rd" class="r4 r">cfg</span>, <a href="Repository.cs.html#a967877e73d4cc25" class="t t">Repository</a> <span id="r5 rd" class="r5 r">db</span>)
            : <a href="FileBasedConfig.cs.html#fd8f4a14ef3c9889" class="k">base</a>(<span class="r4 r">cfg</span>, <b>new</b> <a href="@0@mscorlib/A.html#1fe2c3953ba2a577" class="t constructor">FileInfo</a>(<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<span class="r5 r">db</span>.<a href="Repository.cs.html#8728658bd6901bbe" class="i property">WorkingDirectory</a>.<a href="@0@mscorlib/A.html#0f9b506168f8cec0" class="i property">FullName</a>, <span class="s">&quot;.gitmodules&quot;</span>)))
        {
        }

        <b>public</b> <a id="9e923165cde881cf" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i constructor">SubmoduleConfig</a>(<a href="Repository.cs.html#a967877e73d4cc25" class="t t">Repository</a> <span id="r6 rd" class="r6 r">db</span>)
            : <a href="#7eb84321370a61eb" class="k">this</a>(<b>null</b>, <span class="r6 r">db</span>)
        {
        }

        <b>public int</b> <a id="01e996e8748131de" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">SubmoduleCount</a>
        {
            <b>get</b>
            {
                <b>return</b> <a href="Config.cs.html#8263c47c5d03cc41" class="i method">getSubsections</a>(<span class="s">&quot;submodule&quot;</span>).<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>;
            }
        }

        <b>public</b> <a href="#fde34727e559ec17" class="t t">SubmoduleEntry</a> <a id="4a61fcd355755456" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetEntry</a>(<b>int</b> <span id="r7 rd" class="r7 r">index</span>)
        {
            <b>string</b> <span id="r8 rd" class="r8 r">name</span> = <a href="Config.cs.html#8263c47c5d03cc41" class="i method">getSubsections</a>(<span class="s">&quot;submodule&quot;</span>)[<span class="r7 r">index</span>];
            <b>string</b> <span id="r9 rd" class="r9 r">path</span> = <a href="Config.cs.html#d215890433ed9633" class="i method">getString</a>(<span class="s">&quot;submodule&quot;</span>, <span class="r8 r">name</span>, <span class="s">&quot;path&quot;</span>);
            <b>string</b> <span id="r10 rd" class="r10 r">url</span> = <a href="Config.cs.html#d215890433ed9633" class="i method">getString</a>(<span class="s">&quot;submodule&quot;</span>, <span class="r8 r">name</span>, <span class="s">&quot;url&quot;</span>);
            <b>string</b> <span id="r11 rd" class="r11 r">update</span> = <a href="Config.cs.html#d215890433ed9633" class="i method">getString</a>(<span class="s">&quot;submodule&quot;</span>, <span class="r8 r">name</span>, <span class="s">&quot;update&quot;</span>);

            <a href="#fde34727e559ec17" class="t t">SubmoduleEntry</a>.<a href="#003f854f3e8fca82" class="t t">UpdateMethod</a> <span id="r12 rd" class="r12 r">method</span>;
            <b>switch</b> (<span class="r11 r">update</span>)
            {
                <b>case</b> <span class="s">&quot;rebase&quot;</span>:
                    <span class="r12 r">method</span> = <a href="#fde34727e559ec17" class="t t">SubmoduleEntry</a>.<a href="#003f854f3e8fca82" class="t t">UpdateMethod</a>.<a href="#2042f6f652963969" class="i field">Rebase</a>;
                    <b>break</b>;

                <b>case</b> <span class="s">&quot;merge&quot;</span>:
                    <span class="r12 r">method</span> = <a href="#fde34727e559ec17" class="t t">SubmoduleEntry</a>.<a href="#003f854f3e8fca82" class="t t">UpdateMethod</a>.<a href="#49031fcf3c32e507" class="i field">Merge</a>;
                    <b>break</b>;

                <b>default</b>:
                    <span class="r12 r">method</span> = <a href="#fde34727e559ec17" class="t t">SubmoduleEntry</a>.<a href="#003f854f3e8fca82" class="t t">UpdateMethod</a>.<a href="#4cb367c4a400215a" class="i field">Checkout</a>;
                    <b>break</b>;
            }

            <b>return</b> <b>new</b> <a href="#227eb4979c882e3b" class="t constructor">SubmoduleEntry</a>(<span class="r8 r">name</span>, <span class="r9 r">path</span>, <b>new</b> <a href="Transport/URIish.cs.html#e93dc3c4f37edc7a" class="t constructor">URIish</a>(<span class="r10 r">url</span>), <span class="r12 r">method</span>);
        }

        <b>public void</b> <a id="57b63d0cb7760153" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AddEntry</a>(<a href="#fde34727e559ec17" class="t t">SubmoduleEntry</a> <span id="r13 rd" class="r13 r">entry</span>)
        {
			<b>if</b> (<span class="r13 r">entry</span> == <b>null</b>)
				<b>throw</b> <b>new</b> <span class="i n">System</span>.<a href="@0@mscorlib/A.html#8314938388254d5a" class="t constructor">ArgumentNullException</a> (<span class="s">&quot;entry&quot;</span>);
			
            <a href="Config.cs.html#e98e171c2612801f" class="i method">setString</a>(<span class="s">&quot;submodule&quot;</span>, <span class="r13 r">entry</span>.<a href="#b1c96629288d3bad" class="i property">Name</a>, <span class="s">&quot;path&quot;</span>, <span class="r13 r">entry</span>.<a href="#719b75c90b0211b1" class="i property">Path</a>);
            <a href="Config.cs.html#e98e171c2612801f" class="i method">setString</a>(<span class="s">&quot;submodule&quot;</span>, <span class="r13 r">entry</span>.<a href="#b1c96629288d3bad" class="i property">Name</a>, <span class="s">&quot;url&quot;</span>, <span class="r13 r">entry</span>.<a href="#c917ba79bf9600cd" class="i property">Url</a>.<a href="Transport/URIish.cs.html#6fce0737b1aa33fc" class="i method">ToPrivateString</a>());
            <b>if</b> (<span class="r13 r">entry</span>.<a href="#e2729d41ba521bb1" class="i property">Update</a> != <a href="#fde34727e559ec17" class="t t">SubmoduleEntry</a>.<a href="#003f854f3e8fca82" class="t t">UpdateMethod</a>.<a href="#4cb367c4a400215a" class="i field">Checkout</a>)
                <a href="Config.cs.html#e98e171c2612801f" class="i method">setString</a>(<span class="s">&quot;submodule&quot;</span>, <span class="r13 r">entry</span>.<a href="#b1c96629288d3bad" class="i property">Name</a>, <span class="s">&quot;update&quot;</span>, <span class="r13 r">entry</span>.<a href="#e2729d41ba521bb1" class="i property">Update</a>.<a href="@0@mscorlib/A.html#1365cfeffd45409d" class="i method">ToString</a>().<a href="@0@mscorlib/A.html#2d51c212cb09178e" class="i method">ToLowerInvariant</a>());
        }
    }

}</pre></td></tr></table></div></body></html>
