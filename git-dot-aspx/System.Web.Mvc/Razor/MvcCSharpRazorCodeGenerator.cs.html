<!DOCTYPE html>
<html><head><title>MvcCSharpRazorCodeGenerator.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(34);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#System.Web.Mvc/Razor/MvcCSharpRazorCodeGenerator.cs" target="_top">Razor\MvcCSharpRazorCodeGenerator.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#System.Web.Mvc" target="_top">..\Mvc\src\System.Web.Mvc\System.Web.Mvc.csproj</a> (System.Web.Mvc)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.</span>
 
<b>using</b> <span class="i n">System</span>.<span class="i n">CodeDom</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Runtime</span>.<span class="i n">Remoting</span>.<span class="i n">Contexts</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Web</span>.<span class="i n">Razor</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Web</span>.<span class="i n">Razor</span>.<span class="i n">Generator</span>;
 
<b>namespace</b> <span class="i n">System</span>.<span class="i n">Web</span>.<span class="i n">Mvc</span>.<span class="i n">Razor</span>
{
    <b>internal class</b> <a id="bb8a2c613a7d5eee" href="../R/bb8a2c613a7d5eee.html" target="n" data-glyph="2,0" class="t t">MvcCSharpRazorCodeGenerator</a> : <a href="/System.Web.Razor/A.html#bc7be4f6534c0518" class="t t">CSharpRazorCodeGenerator</a>
    {
        <b>private const string</b> <a id="03f32eccce95c35b" href="../R/03f32eccce95c35b.html" target="n" data-glyph="10,1" class="i field">DefaultModelTypeName</a> = <span class="s">&quot;dynamic&quot;</span>;
 
        <b>public</b> <a id="6bf83e93fa1eaf90" href="../R/6bf83e93fa1eaf90.html" target="n" data-glyph="72,1" class="i constructor">MvcCSharpRazorCodeGenerator</a>(<b>string</b> <span id="r0 rd" class="r0 r">className</span>, <b>string</b> <span id="r1 rd" class="r1 r">rootNamespaceName</span>, <b>string</b> <span id="r2 rd" class="r2 r">sourceFileName</span>, <a href="/System.Web.Razor/A.html#f7c9924e4577d759" class="t t">RazorEngineHost</a> <span id="r3 rd" class="r3 r">host</span>)
            : <a href="/System.Web.Razor/A.html#141fe0fc77b89e6e" class="k">base</a>(<span class="r0 r">className</span>, <span class="r1 r">rootNamespaceName</span>, <span class="r2 r">sourceFileName</span>, <span class="r3 r">host</span>)
        {
            <a href="MvcWebPageRazorHost.cs.html#e85a97a5890a10af" class="k">var</a> <span id="r4 rd" class="r4 r">mvcHost</span> = <span class="r3 r">host</span> <b>as</b> <a href="MvcWebPageRazorHost.cs.html#e85a97a5890a10af" class="t t">MvcWebPageRazorHost</a>;
            <b>if</b> (<span class="r4 r">mvcHost</span> != <b>null</b> &amp;&amp; !<span class="r4 r">mvcHost</span>.<a href="/System.Web.WebPages.Razor/A.html#9d04af5e1a1f6198" class="i property">IsSpecialPage</a>)
            {
                <span class="c">// set the default model type to &quot;dynamic&quot; (Dev10 bug 935656)</span>
                <span class="c">// don&#39;t set it for &quot;special&quot; pages (such as &quot;_viewStart.cshtml&quot;)</span>
                <a href="#a1254021a7683c42" class="i method">SetBaseType</a>(<a href="#03f32eccce95c35b" class="i field">DefaultModelTypeName</a>);
            }
        }
 
        <b>private void</b> <a id="a1254021a7683c42" href="../R/a1254021a7683c42.html" target="n" data-glyph="76,1" class="i method">SetBaseType</a>(<b>string</b> <span id="r5 rd" class="r5 r">modelTypeName</span>)
        {
            <a href="@0@System/A.html#3310aa0586ab7a50" class="k">var</a> <span id="r6 rd" class="r6 r">baseType</span> = <b>new</b> <a href="@0@System/A.html#0d6f6c6550b35c2e" class="t constructor">CodeTypeReference</a>(<a href="/System.Web.Razor/A.html#b5eca594701ec07c" class="i property">Context</a>.<a href="/System.Web.Razor/A.html#97f2069818bae54e" class="i property">Host</a>.<a href="/System.Web.Razor/A.html#4deb18978eb282af" class="i property">DefaultBaseClass</a> + <span class="s">&quot;&lt;&quot;</span> + <span class="r5 r">modelTypeName</span> + <span class="s">&quot;&gt;&quot;</span>);
            <a href="/System.Web.Razor/A.html#b5eca594701ec07c" class="i property">Context</a>.<a href="/System.Web.Razor/A.html#42238befe8158b7f" class="i property">GeneratedClass</a>.<a href="@0@System/A.html#a7cd50ee0dea5af9" class="i property">BaseTypes</a>.<a href="@0@mscorlib/A.html#bca1eff90a17acfe" class="i method">Clear</a>();
            <a href="/System.Web.Razor/A.html#b5eca594701ec07c" class="i property">Context</a>.<a href="/System.Web.Razor/A.html#42238befe8158b7f" class="i property">GeneratedClass</a>.<a href="@0@System/A.html#a7cd50ee0dea5af9" class="i property">BaseTypes</a>.<a href="@0@System/A.html#2e9f0117ec671841" class="i method">Add</a>(<span class="r6 r">baseType</span>);
        }
    }
}
</pre></td></tr></table></div></body></html>
