<!DOCTYPE html>
<html><head><title>ParameterInfoUtil.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(36);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#System.Web.Mvc/ParameterInfoUtil.cs" target="_top">ParameterInfoUtil.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#System.Web.Mvc" target="_top">..\Mvc\src\System.Web.Mvc\System.Web.Mvc.csproj</a> (System.Web.Mvc)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.</span>
 
<b>using</b> <span class="i n">System</span>.<span class="i n">ComponentModel</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Reflection</span>;
 
<b>namespace</b> <span class="i n">System</span>.<span class="i n">Web</span>.<span class="i n">Mvc</span>
{
    <b>internal static class</b> <a id="eab8ce1fd446d3e1" href="R/eab8ce1fd446d3e1.html" target="n" data-glyph="2,0" class="t t">ParameterInfoUtil</a>
    {
        <b>public static bool</b> <a id="0c04f34e1f4a75b6" href="R/0c04f34e1f4a75b6.html" target="n" data-glyph="72,1" class="i method">TryGetDefaultValue</a>(<a href="@0@mscorlib/A.html#adf5577c07f51f16" class="t t">ParameterInfo</a> <span id="r0 rd" class="r0 r">parameterInfo</span>, <b>out object</b> <span id="r1 rd" class="r1 r">value</span>)
        {
            <span class="c">// this will get the default value as seen by the VB / C# compilers</span>
            <span class="c">// if no value was baked in, RawDefaultValue returns DBNull.Value</span>
            <b>object</b> <span id="r2 rd" class="r2 r">defaultValue</span> = <span class="r0 r">parameterInfo</span>.<a href="@0@mscorlib/A.html#6fc1a012a948e234" class="i property">DefaultValue</a>;
            <b>if</b> (<span class="r2 r">defaultValue</span> != <a href="@0@mscorlib/A.html#7faae4cef0a3f251" class="t t">DBNull</a>.<a href="@0@mscorlib/A.html#9603a89be4827410" class="i field">Value</a>)
            {
                <span class="r1 r">value</span> = <span class="r2 r">defaultValue</span>;
                <b>return true</b>;
            }
 
            <span class="c">// if the compiler did not bake in a default value, check the [DefaultValue] attribute</span>
            <a href="@0@System/A.html#88c0ebe7d8011a51" class="t t">DefaultValueAttribute</a>[] <span id="r3 rd" class="r3 r">attrs</span> = (<a href="@0@System/A.html#88c0ebe7d8011a51" class="t t">DefaultValueAttribute</a>[])<span class="r0 r">parameterInfo</span>.<a href="@0@mscorlib/A.html#88520f4e24378200" class="i method">GetCustomAttributes</a>(<b>typeof</b>(<a href="@0@System/A.html#88c0ebe7d8011a51" class="t t">DefaultValueAttribute</a>), <b>false</b>);
            <b>if</b> (<span class="r3 r">attrs</span> == <b>null</b> || <span class="r3 r">attrs</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> == 0)
            {
                <span class="r1 r">value</span> = <b>default</b>(<b>object</b>);
                <b>return false</b>;
            }
            <b>else</b>
            {
                <span class="r1 r">value</span> = <span class="r3 r">attrs</span>[0].<a href="@0@System/A.html#80065e60e2854d74" class="i property">Value</a>;
                <b>return true</b>;
            }
        }
    }
}
</pre></td></tr></table></div></body></html>
