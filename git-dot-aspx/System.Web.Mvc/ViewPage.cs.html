<!DOCTYPE html>
<html><head><title>ViewPage.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(430);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#System.Web.Mvc/ViewPage.cs" target="_top">ViewPage.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#System.Web.Mvc" target="_top">..\Mvc\src\System.Web.Mvc\System.Web.Mvc.csproj</a> (System.Web.Mvc)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Open Technologies, Inc. All rights reserved. See License.txt in the project root for license information.</span>
 
<b>using</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>.<span class="i n">CodeAnalysis</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Globalization</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Web</span>.<span class="i n">UI</span>;
 
<b>namespace</b> <span class="i n">System</span>.<span class="i n">Web</span>.<span class="i n">Mvc</span>
{
    [<a href="@0@System.Web/A.html#dda715a9eb8b6a31" class="t constructor">FileLevelControlBuilder</a>(<b>typeof</b>(<a href="ViewPageControlBuilder.cs.html#7a8cf92011674f91" class="t t">ViewPageControlBuilder</a>))]
    <b>public class</b> <a id="7dbff1ab7decca8a" href="R/7dbff1ab7decca8a.html" target="n" data-glyph="0,0" class="t t"><span id="783b71b63d3cb9ae">ViewPage</span></a> : <a href="@0@System.Web/A.html#a7e11608d83dac42" class="t t">Page</a>, <a href="IViewDataContainer.cs.html#d4d9a6c07ba4c70d" class="t t">IViewDataContainer</a>
    {
        [<a href="@0@mscorlib/A.html#b0c23fc7e6f66cf4" class="t constructor">ThreadStatic</a>]
        <b>private static int</b> <a id="ae2fbb564e4ab40f" href="R/ae2fbb564e4ab40f.html" target="n" data-glyph="46,1" class="i field">_nextId</a>;
 
        <b>private</b> <a href="DynamicViewDataDictionary.cs.html#70e4c38c8c0c87a7" class="t t">DynamicViewDataDictionary</a> <a id="b8f1007c19776c90" href="R/b8f1007c19776c90.html" target="n" data-glyph="46,1" class="i field">_dynamicViewData</a>;
        <b>private string</b> <a id="0d4d8e07c701b090" href="R/0d4d8e07c701b090.html" target="n" data-glyph="46,1" class="i field">_masterLocation</a>;
 
        <b>private</b> <a href="ViewDataDictionary.cs.html#d437a6ecdb0c13aa" class="t t">ViewDataDictionary</a> <a id="9dc9649ee796ca97" href="R/9dc9649ee796ca97.html" target="n" data-glyph="46,1" class="i field">_viewData</a>;
 
        <b>public</b> <a href="AjaxHelperOfTModel.cs.html#6a65a044ce85fd0c" class="t t">AjaxHelper</a>&lt;<b>object</b>&gt; <a id="09b0cc24511542ce" href="R/09b0cc24511542ce.html" target="n" data-glyph="102,1" class="i property">Ajax</a> { <b>get</b>; <b>set</b>; }
 
        <b>public</b> <a href="HtmlHelperOfTModel.cs.html#6a40e06c15fa31c2" class="t t">HtmlHelper</a>&lt;<b>object</b>&gt; <a id="ff800da41318c45d" href="R/ff800da41318c45d.html" target="n" data-glyph="102,1" class="i property">Html</a> { <b>get</b>; <b>set</b>; }
 
        <b>public string</b> <a id="eaa5e4be16cf4113" href="R/eaa5e4be16cf4113.html" target="n" data-glyph="102,1" class="i property">MasterLocation</a>
        {
            <b>get</b> { <b>return</b> <a href="#0d4d8e07c701b090" class="i field">_masterLocation</a> ?? <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="t t">String</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>; }
            <b>set</b> { <a href="#0d4d8e07c701b090" class="i field">_masterLocation</a> = <b>value</b>; }
        }
 
        <b>public object</b> <a id="8e0ff22b47cd512f" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Model</a>
        {
            <b>get</b> { <b>return</b> <a href="#f216c6632f6162a7" class="i property">ViewData</a>.<a href="ViewDataDictionary.cs.html#b696419c249f65a8" class="i property">Model</a>; }
        }
 
        <b>public</b> <a href="TempDataDictionary.cs.html#c8afcd39e8092cdd" class="t t">TempDataDictionary</a> <a id="3b6413df8e5e5282" href="R/3b6413df8e5e5282.html" target="n" data-glyph="102,1" class="i property">TempData</a>
        {
            <b>get</b> { <b>return</b> <a href="#f129b9b87960fe94" class="i property">ViewContext</a>.<a href="ViewContext.cs.html#3fd028b9ea02c32b" class="i property">TempData</a>; }
        }
 
        <b>public</b> <a href="UrlHelper.cs.html#770e19693bb6aca9" class="t t">UrlHelper</a> <a id="7c94e5159255e5e9" href="R/7c94e5159255e5e9.html" target="n" data-glyph="102,1" class="i property">Url</a> { <b>get</b>; <b>set</b>; }
 
        <b>public dynamic</b> <a id="0da383139ad7f176" href="R/0da383139ad7f176.html" target="n" data-glyph="102,1" class="i property">ViewBag</a>
        {
            <b>get</b>
            {
                <b>if</b> (<a href="#b8f1007c19776c90" class="i field">_dynamicViewData</a> == <b>null</b>)
                {
                    <a href="#b8f1007c19776c90" class="i field">_dynamicViewData</a> = <b>new</b> <a href="DynamicViewDataDictionary.cs.html#bbe2066b8a67c566" class="t constructor">DynamicViewDataDictionary</a>(() =&gt; <a href="#f216c6632f6162a7" class="i property">ViewData</a>);
                }
                <b>return</b> <a href="#b8f1007c19776c90" class="i field">_dynamicViewData</a>;
            }
        }
 
        <b>public</b> <a href="ViewContext.cs.html#a8ebdc672bc34562" class="t t">ViewContext</a> <a id="f129b9b87960fe94" href="R/f129b9b87960fe94.html" target="n" data-glyph="102,1" class="i property">ViewContext</a> { <b>get</b>; <b>set</b>; }
 
        [<a href="@0@mscorlib/A.html#5e00de6576fb9ce7" class="t constructor">SuppressMessage</a>(<span class="s">&quot;Microsoft.Usage&quot;</span>, <span class="s">&quot;CA2227:CollectionPropertiesShouldBeReadOnly&quot;</span>, <a href="@0@mscorlib/A.html#ce02a652a479502a" class="i property">Justification</a> = <span class="s">&quot;This is the mechanism by which the ViewPage gets its ViewDataDictionary object.&quot;</span>)]
        <b>public</b> <a href="ViewDataDictionary.cs.html#d437a6ecdb0c13aa" class="t t">ViewDataDictionary</a> <a id="f216c6632f6162a7" href="R/f216c6632f6162a7.html" target="n" data-glyph="102,1" class="i property">ViewData</a>
        {
            <b>get</b>
            {
                <b>if</b> (<a href="#9dc9649ee796ca97" class="i field">_viewData</a> == <b>null</b>)
                {
                    <a href="#fe516348ff311d77" class="i method">SetViewData</a>(<b>new</b> <a href="ViewDataDictionary.cs.html#7bd234f262326475" class="t constructor">ViewDataDictionary</a>());
                }
                <b>return</b> <a href="#9dc9649ee796ca97" class="i field">_viewData</a>;
            }
            <b>set</b> { <a href="#fe516348ff311d77" class="i method">SetViewData</a>(<b>value</b>); }
        }
 
        <b>public</b> <a href="@0@System.Web/A.html#671c476a45af082b" class="t t">HtmlTextWriter</a> <a id="562448f2bae9b9d3" href="R/562448f2bae9b9d3.html" target="n" data-glyph="102,1" class="i property">Writer</a> { <b>get</b>; <b>private set</b>; }
 
        <b>public virtual void</b> <a id="867ce45ac7b2f21a" href="R/867ce45ac7b2f21a.html" target="n" data-glyph="72,1" class="i method">InitHelpers</a>()
        {
            <a href="#09b0cc24511542ce" class="i property">Ajax</a> = <b>new</b> <a href="AjaxHelperOfTModel.cs.html#6048fe6d1f33c501" class="t constructor">AjaxHelper</a>&lt;<b>object</b>&gt;(<a href="#f129b9b87960fe94" class="i property">ViewContext</a>, <a href="#7dbff1ab7decca8a" class="k">this</a>);
            <a href="#ff800da41318c45d" class="i property">Html</a> = <b>new</b> <a href="HtmlHelperOfTModel.cs.html#139a605579b7e62e" class="t constructor">HtmlHelper</a>&lt;<b>object</b>&gt;(<a href="#f129b9b87960fe94" class="i property">ViewContext</a>, <a href="#7dbff1ab7decca8a" class="k">this</a>);
            <a href="#7c94e5159255e5e9" class="i property">Url</a> = <b>new</b> <a href="UrlHelper.cs.html#37c103cf9f3e7672" class="t constructor">UrlHelper</a>(<a href="#f129b9b87960fe94" class="i property">ViewContext</a>.<a href="ControllerContext.cs.html#0fa1060882b05e6e" class="i property">RequestContext</a>);
        }
 
        <b>internal static string</b> <a id="11521452735f0ec9" href="R/11521452735f0ec9.html" target="n" data-glyph="74,1" class="i method">NextId</a>()
        {
            <b>return</b> (++<a href="#ae2fbb564e4ab40f" class="i field">_nextId</a>).<a href="@0@mscorlib/A.html#2b1c2bd27f3489eb" class="i method">ToString</a>(<a href="@0@mscorlib/A.html#e319c6636909012f" class="t t">CultureInfo</a>.<a href="@0@mscorlib/A.html#26ef1c020f0dbb7a" class="i property">InvariantCulture</a>);
        }
 
        <b>protected override void</b> <a id="c4a5e6c449c53772" href="R/c4a5e6c449c53772.html" target="n" data-glyph="75,1" class="i method">OnPreInit</a>(<a href="@0@mscorlib/A.html#9a1496aa60befd10" class="t t">EventArgs</a> <span id="r0 rd" class="r0 r">e</span>)
        {
            <a href="@0@System.Web/A.html#a7e11608d83dac42" class="k">base</a>.<a href="@0@System.Web/A.html#f943dfc367844c76" class="i method">OnPreInit</a>(<span class="r0 r">e</span>);
 
            <b>if</b> (!<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="t t">String</a>.<a href="@0@mscorlib/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<a href="#eaa5e4be16cf4113" class="i property">MasterLocation</a>))
            {
                <a href="@0@System.Web/A.html#41aed153708ff750" class="i property">MasterPageFile</a> = <a href="#eaa5e4be16cf4113" class="i property">MasterLocation</a>;
            }
        }
 
        <b>public override void</b> <a id="f70e4101ddc634d0" href="R/f70e4101ddc634d0.html" target="n" data-glyph="72,1" class="i method">ProcessRequest</a>(<a href="@0@System.Web/A.html#6fba8e72335f5cc8" class="t t">HttpContext</a> <span id="r1 rd" class="r1 r">context</span>)
        {
            <span class="c">// Tracing requires IDs to be unique.</span>
            <a href="@0@System.Web/A.html#f61bdcc3aeb7c8f7" class="i property">ID</a> = <a href="#11521452735f0ec9" class="i method">NextId</a>();
 
            <a href="@0@System.Web/A.html#a7e11608d83dac42" class="k">base</a>.<a href="@0@System.Web/A.html#f45b355e7bbe681d" class="i method">ProcessRequest</a>(<span class="r1 r">context</span>);
        }
 
        <b>protected override void</b> <a id="96103f5dae1327fc" href="R/96103f5dae1327fc.html" target="n" data-glyph="75,1" class="i method">Render</a>(<a href="@0@System.Web/A.html#671c476a45af082b" class="t t">HtmlTextWriter</a> <span id="r2 rd" class="r2 r">writer</span>)
        {
            <a href="#562448f2bae9b9d3" class="i property">Writer</a> = <span class="r2 r">writer</span>;
            <b>try</b>
            {
                <a href="@0@System.Web/A.html#a7e11608d83dac42" class="k">base</a>.<a href="@0@System.Web/A.html#460a16c968634119" class="i method">Render</a>(<span class="r2 r">writer</span>);
            }
            <b>finally</b>
            {
                <a href="#562448f2bae9b9d3" class="i property">Writer</a> = <b>null</b>;
            }
        }
 
        [<a href="@0@mscorlib/A.html#5e00de6576fb9ce7" class="t constructor">SuppressMessage</a>(<span class="s">&quot;Microsoft.Reliability&quot;</span>, <span class="s">&quot;CA2000:Dispose objects before losing scope&quot;</span>, <a href="@0@mscorlib/A.html#ce02a652a479502a" class="i property">Justification</a> = <span class="s">&quot;The object is disposed in the finally block of the method&quot;</span>)]
        <b>public virtual void</b> <a id="857633929f807bf6" href="R/857633929f807bf6.html" target="n" data-glyph="72,1" class="i method">RenderView</a>(<a href="ViewContext.cs.html#a8ebdc672bc34562" class="t t">ViewContext</a> <span id="r3 rd" class="r3 r">viewContext</span>)
        {
            <a href="#f129b9b87960fe94" class="i property">ViewContext</a> = <span class="r3 r">viewContext</span>;
            <a href="#867ce45ac7b2f21a" class="i method">InitHelpers</a>();
 
            <b>bool</b> <span id="r4 rd" class="r4 r">createdSwitchWriter</span> = <b>false</b>;
            <a href="#6a908601fe7f99c2" class="t t">SwitchWriter</a> <span id="r5 rd" class="r5 r">switchWriter</span> = <span class="r3 r">viewContext</span>.<a href="ControllerContext.cs.html#c1cdcccfa9f6a3ed" class="i property">HttpContext</a>.<a href="@0@System.Web/A.html#b5a3728929e8cb42" class="i property">Response</a>.<a href="@0@System.Web/A.html#de1230eb37b299d4" class="i property">Output</a> <b>as</b> <a href="#6a908601fe7f99c2" class="t t">SwitchWriter</a>;
 
            <b>try</b>
            {
                <b>if</b> (<span class="r5 r">switchWriter</span> == <b>null</b>)
                {
                    <span class="r5 r">switchWriter</span> = <b>new</b> <a href="#e6d74f9628d5dfeb" class="t constructor">SwitchWriter</a>();
                    <span class="r4 r">createdSwitchWriter</span> = <b>true</b>;
                }
 
                <b>using</b> (<span class="r5 r">switchWriter</span>.<a href="#588a34d4e0e87a90" class="i method">Scope</a>(<span class="r3 r">viewContext</span>.<a href="ViewContext.cs.html#cd45b3097298d816" class="i property">Writer</a>))
                {
                    <b>if</b> (<span class="r4 r">createdSwitchWriter</span>)
                    {
                        <span class="c">// It&#39;s safe to reset the _nextId within a Server.Execute() since it pushes a new TraceContext onto</span>
                        <span class="c">// the stack, so there won&#39;t be an ID conflict.</span>
                        <b>int</b> <span id="r6 rd" class="r6 r">originalNextId</span> = <a href="#ae2fbb564e4ab40f" class="i field">_nextId</a>;
                        <b>try</b>
                        {
                            <a href="#ae2fbb564e4ab40f" class="i field">_nextId</a> = 0;
                            <span class="r3 r">viewContext</span>.<a href="ControllerContext.cs.html#c1cdcccfa9f6a3ed" class="i property">HttpContext</a>.<a href="@0@System.Web/A.html#49db9c3b0413ee92" class="i property">Server</a>.<a href="@0@System.Web/A.html#98ae72e5aa363014" class="i method">Execute</a>(<a href="HttpHandlerUtil.cs.html#2077d90b4f7debe9" class="t t">HttpHandlerUtil</a>.<a href="HttpHandlerUtil.cs.html#ccac5a24157020a8" class="i method">WrapForServerExecute</a>(<a href="#7dbff1ab7decca8a" class="k">this</a>), <span class="r5 r">switchWriter</span>, <b>true</b> <span class="c">/* preserveForm */</span>);
                        }
                        <b>finally</b>
                        {
                            <span class="c">// Restore the original _nextId in case this isn&#39;t actually the outermost view, since resetting</span>
                            <span class="c">// the _nextId may now cause trace ID conflicts in the outer view.</span>
                            <a href="#ae2fbb564e4ab40f" class="i field">_nextId</a> = <span class="r6 r">originalNextId</span>;
                        }
                    }
                    <b>else</b>
                    {
                        <a href="#f70e4101ddc634d0" class="i method">ProcessRequest</a>(<a href="@0@System.Web/A.html#6fba8e72335f5cc8" class="t t">HttpContext</a>.<a href="@0@System.Web/A.html#917b79cec44466cd" class="i property">Current</a>);
                    }
                }
            }
            <b>finally</b>
            {
                <b>if</b> (<span class="r4 r">createdSwitchWriter</span>)
                {
                    <span class="r5 r">switchWriter</span>.<a href="@0@mscorlib/A.html#2e39b8daeeed8db5" class="i method">Dispose</a>();
                }
            }
        }
 
        [<a href="@0@mscorlib/A.html#5e00de6576fb9ce7" class="t constructor">SuppressMessage</a>(<span class="s">&quot;Microsoft.Usage&quot;</span>, <span class="s">&quot;CA1801:ReviewUnusedParameters&quot;</span>, <a href="@0@mscorlib/A.html#f5d3bc389dd4c890" class="i property">MessageId</a> = <span class="s">&quot;textWriter&quot;</span>, <a href="@0@mscorlib/A.html#ce02a652a479502a" class="i property">Justification</a> = <span class="s">&quot;This method existed in MVC 1.0 and has been deprecated.&quot;</span>)]
        [<a href="@0@mscorlib/A.html#5e00de6576fb9ce7" class="t constructor">SuppressMessage</a>(<span class="s">&quot;Microsoft.Performance&quot;</span>, <span class="s">&quot;CA1822:MarkMembersAsStatic&quot;</span>, <a href="@0@mscorlib/A.html#ce02a652a479502a" class="i property">Justification</a> = <span class="s">&quot;This method existed in MVC 1.0 and has been deprecated.&quot;</span>)]
        [<a href="@0@mscorlib/A.html#aa50750c33cf6f04" class="t constructor">Obsolete</a>(<span class="s">&quot;The TextWriter is now provided by the ViewContext object passed to the RenderView method.&quot;</span>, <b>true</b> <span class="c">/* error */</span>)]
        <b>public void</b> <a id="726bf0010ce435cb" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">SetTextWriter</a>(<a href="@0@mscorlib/A.html#6e84a88dc2be46e3" class="t t">TextWriter</a> <span id="r7 rd" class="r7 r">textWriter</span>)
        {
            <span class="c">// this is now a no-op</span>
        }
 
        <b>protected virtual void</b> <a id="fe516348ff311d77" href="R/fe516348ff311d77.html" target="n" data-glyph="75,1" class="i method">SetViewData</a>(<a href="ViewDataDictionary.cs.html#d437a6ecdb0c13aa" class="t t">ViewDataDictionary</a> <span id="r8 rd" class="r8 r">viewData</span>)
        {
            <a href="#9dc9649ee796ca97" class="i field">_viewData</a> = <span class="r8 r">viewData</span>;
        }
 
        <b>internal class</b> <a id="6a908601fe7f99c2" href="R/6a908601fe7f99c2.html" target="n" data-glyph="2,1" class="t t">SwitchWriter</a> : <a href="@0@mscorlib/A.html#6e84a88dc2be46e3" class="t t">TextWriter</a>
        {
            <b>public</b> <a id="e6d74f9628d5dfeb" href="R/e6d74f9628d5dfeb.html" target="n" data-glyph="72,2" class="i constructor">SwitchWriter</a>()
                : <a href="@0@mscorlib/A.html#fa8b78988e2fd970" class="k">base</a>(<a href="@0@mscorlib/A.html#e319c6636909012f" class="t t">CultureInfo</a>.<a href="@0@mscorlib/A.html#1f5907384ac6bb55" class="i property">CurrentCulture</a>)
            {
            }
 
            <b>public override</b> <a href="@0@mscorlib/A.html#3b6090c501893c25" class="t t">Encoding</a> <a id="66d64dc070a2e2ae" href="R/66d64dc070a2e2ae.html" target="n" data-glyph="102,2" class="i property">Encoding</a>
            {
                <b>get</b> { <b>return</b> <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#a19e3b388b175f1e" class="i property">Encoding</a>; }
            }
 
            <b>public override</b> <a href="@0@mscorlib/A.html#0dbf315d83aad6ca" class="t t">IFormatProvider</a> <a id="457747bd5994feb8" href="R/457747bd5994feb8.html" target="n" data-glyph="102,2" class="i property">FormatProvider</a>
            {
                <b>get</b> { <b>return</b> <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#26310b22553d14cf" class="i property">FormatProvider</a>; }
            }
 
            <b>internal</b> <a href="@0@mscorlib/A.html#6e84a88dc2be46e3" class="t t">TextWriter</a> <a id="fb0d42a7511ff902" href="R/fb0d42a7511ff902.html" target="n" data-glyph="104,2" class="i property">InnerWriter</a> { <b>get</b>; <b>set</b>; }
 
            <b>public override string</b> <a id="71f50afc044e0014" href="R/71f50afc044e0014.html" target="n" data-glyph="102,2" class="i property">NewLine</a>
            {
                <b>get</b> { <b>return</b> <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#804a1a251e00b83d" class="i property">NewLine</a>; }
                <b>set</b> { <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#804a1a251e00b83d" class="i property">NewLine</a> = <b>value</b>; }
            }
 
            <b>public override void</b> <a id="c358f428330502be" href="R/c358f428330502be.html" target="n" data-glyph="72,2" class="i method">Close</a>()
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#ee73e50eb680f071" class="i method">Close</a>();
            }
 
            <b>public override void</b> <a id="4642be41ab0efada" href="R/4642be41ab0efada.html" target="n" data-glyph="72,2" class="i method">Flush</a>()
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#828499b10f5bbaf9" class="i method">Flush</a>();
            }
 
            <b>public</b> <a href="@0@mscorlib/A.html#1f55292c3174123d" class="t t">IDisposable</a> <a id="588a34d4e0e87a90" href="R/588a34d4e0e87a90.html" target="n" data-glyph="72,2" class="i method">Scope</a>(<a href="@0@mscorlib/A.html#6e84a88dc2be46e3" class="t t">TextWriter</a> <span id="r9 rd" class="r9 r">writer</span>)
            {
                <a href="#8cb3b47eca0e359b" class="t t">WriterScope</a> <span id="r10 rd" class="r10 r">scope</span> = <b>new</b> <a href="#145352bf362a79e4" class="t constructor">WriterScope</a>(<a href="#6a908601fe7f99c2" class="k">this</a>, <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>);
 
                <b>try</b>
                {
                    <b>if</b> (<span class="r9 r">writer</span> != <a href="#6a908601fe7f99c2" class="k">this</a>)
                    {
                        <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a> = <span class="r9 r">writer</span>;
                    }
 
                    <b>return</b> <span class="r10 r">scope</span>;
                }
                <b>catch</b>
                {
                    <span class="r10 r">scope</span>.<a href="#45d9ba88688b252c" class="i method">Dispose</a>();
                    <b>throw</b>;
                }
            }
 
            <b>public override void</b> <a id="ab282694ff713d90" href="R/ab282694ff713d90.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>bool</b> <span id="r11 rd" class="r11 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#f67cd13caf773942" class="i method">Write</a>(<span class="r11 r">value</span>);
            }
 
            <b>public override void</b> <a id="1778d276c8a42e04" href="R/1778d276c8a42e04.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>char</b> <span id="r12 rd" class="r12 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#5f99350fdf8dae53" class="i method">Write</a>(<span class="r12 r">value</span>);
            }
 
            <b>public override void</b> <a id="5b9837d44ffa7986" href="R/5b9837d44ffa7986.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>char</b>[] <span id="r13 rd" class="r13 r">buffer</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#095db9605a1c2797" class="i method">Write</a>(<span class="r13 r">buffer</span>);
            }
 
            <b>public override void</b> <a id="435a3de71e9c168b" href="R/435a3de71e9c168b.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>char</b>[] <span id="r14 rd" class="r14 r">buffer</span>, <b>int</b> <span id="r15 rd" class="r15 r">index</span>, <b>int</b> <span id="r16 rd" class="r16 r">count</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#c22e6c015abdc600" class="i method">Write</a>(<span class="r14 r">buffer</span>, <span class="r15 r">index</span>, <span class="r16 r">count</span>);
            }
 
            <b>public override void</b> <a id="06a6819418f19eed" href="R/06a6819418f19eed.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>decimal</b> <span id="r17 rd" class="r17 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#55eeb4cf42e2b60b" class="i method">Write</a>(<span class="r17 r">value</span>);
            }
 
            <b>public override void</b> <a id="ca459d9bd5a4d406" href="R/ca459d9bd5a4d406.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>double</b> <span id="r18 rd" class="r18 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#10313a5c0b538060" class="i method">Write</a>(<span class="r18 r">value</span>);
            }
 
            <b>public override void</b> <a id="ab1d8114dc9608fe" href="R/ab1d8114dc9608fe.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>float</b> <span id="r19 rd" class="r19 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#94203af4db0eb311" class="i method">Write</a>(<span class="r19 r">value</span>);
            }
 
            <b>public override void</b> <a id="2fefef269259d981" href="R/2fefef269259d981.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>int</b> <span id="r20 rd" class="r20 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#56758e04831e4a91" class="i method">Write</a>(<span class="r20 r">value</span>);
            }
 
            <b>public override void</b> <a id="5e54dbd60507f6da" href="R/5e54dbd60507f6da.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>long</b> <span id="r21 rd" class="r21 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#90933505b2510b1f" class="i method">Write</a>(<span class="r21 r">value</span>);
            }
 
            <b>public override void</b> <a id="d9be8dc745805587" href="R/d9be8dc745805587.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>object</b> <span id="r22 rd" class="r22 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#20e18fa41ebefe91" class="i method">Write</a>(<span class="r22 r">value</span>);
            }
 
            <b>public override void</b> <a id="ad3bf59e881b7c82" href="R/ad3bf59e881b7c82.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>string</b> <span id="r23 rd" class="r23 r">format</span>, <b>object</b> <span id="r24 rd" class="r24 r">arg0</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#189a033b4ab53495" class="i method">Write</a>(<span class="r23 r">format</span>, <span class="r24 r">arg0</span>);
            }
 
            <b>public override void</b> <a id="c40d7592cf4e83e2" href="R/c40d7592cf4e83e2.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>string</b> <span id="r25 rd" class="r25 r">format</span>, <b>object</b> <span id="r26 rd" class="r26 r">arg0</span>, <b>object</b> <span id="r27 rd" class="r27 r">arg1</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#67512bb1436e97cf" class="i method">Write</a>(<span class="r25 r">format</span>, <span class="r26 r">arg0</span>, <span class="r27 r">arg1</span>);
            }
 
            <b>public override void</b> <a id="b8a53b0ad6a25e31" href="R/b8a53b0ad6a25e31.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>string</b> <span id="r28 rd" class="r28 r">format</span>, <b>object</b> <span id="r29 rd" class="r29 r">arg0</span>, <b>object</b> <span id="r30 rd" class="r30 r">arg1</span>, <b>object</b> <span id="r31 rd" class="r31 r">arg2</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#e7e9406413f510be" class="i method">Write</a>(<span class="r28 r">format</span>, <span class="r29 r">arg0</span>, <span class="r30 r">arg1</span>, <span class="r31 r">arg2</span>);
            }
 
            <b>public override void</b> <a id="d82752413e5ffc8c" href="R/d82752413e5ffc8c.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>string</b> <span id="r32 rd" class="r32 r">format</span>, <b>params object</b>[] <span id="r33 rd" class="r33 r">arg</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#fe4be8f148c03a61" class="i method">Write</a>(<span class="r32 r">format</span>, <span class="r33 r">arg</span>);
            }
 
            <b>public override void</b> <a id="cb7809a50be6ad14" href="R/cb7809a50be6ad14.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>string</b> <span id="r34 rd" class="r34 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#d3fb8ea93246e9a9" class="i method">Write</a>(<span class="r34 r">value</span>);
            }
 
            <b>public override void</b> <a id="2eccdcae5c93f4f3" href="R/2eccdcae5c93f4f3.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>uint</b> <span id="r35 rd" class="r35 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#ff58bc73fcfe5ba1" class="i method">Write</a>(<span class="r35 r">value</span>);
            }
 
            <b>public override void</b> <a id="03547e7535c18655" href="R/03547e7535c18655.html" target="n" data-glyph="72,2" class="i method">Write</a>(<b>ulong</b> <span id="r36 rd" class="r36 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#d02566cf6d0cb61b" class="i method">Write</a>(<span class="r36 r">value</span>);
            }
 
            <b>public override void</b> <a id="60869381f4f84cf0" href="R/60869381f4f84cf0.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>()
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#d2497198aa8f74c0" class="i method">WriteLine</a>();
            }
 
            <b>public override void</b> <a id="97e2978387927d15" href="R/97e2978387927d15.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>bool</b> <span id="r37 rd" class="r37 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#4202a11871ea4316" class="i method">WriteLine</a>(<span class="r37 r">value</span>);
            }
 
            <b>public override void</b> <a id="6b8f86b9886e9a01" href="R/6b8f86b9886e9a01.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>char</b> <span id="r38 rd" class="r38 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#77907a82920f0c2d" class="i method">WriteLine</a>(<span class="r38 r">value</span>);
            }
 
            <b>public override void</b> <a id="a40143e3f9fe3190" href="R/a40143e3f9fe3190.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>char</b>[] <span id="r39 rd" class="r39 r">buffer</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#b00b7e1e47731160" class="i method">WriteLine</a>(<span class="r39 r">buffer</span>);
            }
 
            <b>public override void</b> <a id="516e2acb47dd2133" href="R/516e2acb47dd2133.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>char</b>[] <span id="r40 rd" class="r40 r">buffer</span>, <b>int</b> <span id="r41 rd" class="r41 r">index</span>, <b>int</b> <span id="r42 rd" class="r42 r">count</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#0c738d200418fab9" class="i method">WriteLine</a>(<span class="r40 r">buffer</span>, <span class="r41 r">index</span>, <span class="r42 r">count</span>);
            }
 
            <b>public override void</b> <a id="014c818d291e3b1d" href="R/014c818d291e3b1d.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>decimal</b> <span id="r43 rd" class="r43 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#bfaf9a85b2ad1a6a" class="i method">WriteLine</a>(<span class="r43 r">value</span>);
            }
 
            <b>public override void</b> <a id="1f01a72833a6cc4e" href="R/1f01a72833a6cc4e.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>double</b> <span id="r44 rd" class="r44 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#c721baef785fc825" class="i method">WriteLine</a>(<span class="r44 r">value</span>);
            }
 
            <b>public override void</b> <a id="75db55e0c138a54a" href="R/75db55e0c138a54a.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>float</b> <span id="r45 rd" class="r45 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#99af4bba94e95638" class="i method">WriteLine</a>(<span class="r45 r">value</span>);
            }
 
            <b>public override void</b> <a id="0417e24aba1a605e" href="R/0417e24aba1a605e.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>int</b> <span id="r46 rd" class="r46 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#2dd0ae00941a9483" class="i method">WriteLine</a>(<span class="r46 r">value</span>);
            }
 
            <b>public override void</b> <a id="c8a2e929bf5a6b21" href="R/c8a2e929bf5a6b21.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>long</b> <span id="r47 rd" class="r47 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#c5cda527e0a36b06" class="i method">WriteLine</a>(<span class="r47 r">value</span>);
            }
 
            <b>public override void</b> <a id="985d67ccd16c225e" href="R/985d67ccd16c225e.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>object</b> <span id="r48 rd" class="r48 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#aedbc5e502007cf7" class="i method">WriteLine</a>(<span class="r48 r">value</span>);
            }
 
            <b>public override void</b> <a id="8f0a7fb8718aeafd" href="R/8f0a7fb8718aeafd.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>string</b> <span id="r49 rd" class="r49 r">format</span>, <b>object</b> <span id="r50 rd" class="r50 r">arg0</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#5a6c20116f3ef074" class="i method">WriteLine</a>(<span class="r49 r">format</span>, <span class="r50 r">arg0</span>);
            }
 
            <b>public override void</b> <a id="ec5fabb0458547c4" href="R/ec5fabb0458547c4.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>string</b> <span id="r51 rd" class="r51 r">format</span>, <b>object</b> <span id="r52 rd" class="r52 r">arg0</span>, <b>object</b> <span id="r53 rd" class="r53 r">arg1</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#adc307d8dfd577ff" class="i method">WriteLine</a>(<span class="r51 r">format</span>, <span class="r52 r">arg0</span>, <span class="r53 r">arg1</span>);
            }
 
            <b>public override void</b> <a id="151175f79f43be12" href="R/151175f79f43be12.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>string</b> <span id="r54 rd" class="r54 r">format</span>, <b>object</b> <span id="r55 rd" class="r55 r">arg0</span>, <b>object</b> <span id="r56 rd" class="r56 r">arg1</span>, <b>object</b> <span id="r57 rd" class="r57 r">arg2</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#1d23f6a3d8f9263b" class="i method">WriteLine</a>(<span class="r54 r">format</span>, <span class="r55 r">arg0</span>, <span class="r56 r">arg1</span>, <span class="r57 r">arg2</span>);
            }
 
            <b>public override void</b> <a id="108303501a08295c" href="R/108303501a08295c.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>string</b> <span id="r58 rd" class="r58 r">format</span>, <b>params object</b>[] <span id="r59 rd" class="r59 r">arg</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#ee6be348a05d7883" class="i method">WriteLine</a>(<span class="r58 r">format</span>, <span class="r59 r">arg</span>);
            }
 
            <b>public override void</b> <a id="8d078c16b3199091" href="R/8d078c16b3199091.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>string</b> <span id="r60 rd" class="r60 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#5238cceaebfeaa74" class="i method">WriteLine</a>(<span class="r60 r">value</span>);
            }
 
            <b>public override void</b> <a id="6d2aca222604ca73" href="R/6d2aca222604ca73.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>uint</b> <span id="r61 rd" class="r61 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#b0569551b651daf3" class="i method">WriteLine</a>(<span class="r61 r">value</span>);
            }
 
            <b>public override void</b> <a id="9ddd492bf03fc5a3" href="R/9ddd492bf03fc5a3.html" target="n" data-glyph="72,2" class="i method">WriteLine</a>(<b>ulong</b> <span id="r62 rd" class="r62 r">value</span>)
            {
                <a href="#fb0d42a7511ff902" class="i property">InnerWriter</a>.<a href="@0@mscorlib/A.html#096411e59dd08aa2" class="i method">WriteLine</a>(<span class="r62 r">value</span>);
            }
 
            <b>private sealed class</b> <a id="8cb3b47eca0e359b" href="R/8cb3b47eca0e359b.html" target="n" data-glyph="4,2" class="t t">WriterScope</a> : <a href="@0@mscorlib/A.html#1f55292c3174123d" class="t t">IDisposable</a>
            {
                <b>private</b> <a href="#6a908601fe7f99c2" class="t t">SwitchWriter</a> <a id="f23adf1a8453f1a3" href="R/f23adf1a8453f1a3.html" target="n" data-glyph="46,3" class="i field">_switchWriter</a>;
                <b>private</b> <a href="@0@mscorlib/A.html#6e84a88dc2be46e3" class="t t">TextWriter</a> <a id="f5ce790248907070" href="R/f5ce790248907070.html" target="n" data-glyph="46,3" class="i field">_writerToRestore</a>;
 
                <b>public</b> <a id="145352bf362a79e4" href="R/145352bf362a79e4.html" target="n" data-glyph="72,3" class="i constructor">WriterScope</a>(<a href="#6a908601fe7f99c2" class="t t">SwitchWriter</a> <span id="r63 rd" class="r63 r">switchWriter</span>, <a href="@0@mscorlib/A.html#6e84a88dc2be46e3" class="t t">TextWriter</a> <span id="r64 rd" class="r64 r">writerToRestore</span>)
                {
                    <a href="#f23adf1a8453f1a3" class="i field">_switchWriter</a> = <span class="r63 r">switchWriter</span>;
                    <a href="#f5ce790248907070" class="i field">_writerToRestore</a> = <span class="r64 r">writerToRestore</span>;
                }
 
                <b>public void</b> <a id="45d9ba88688b252c" href="R/45d9ba88688b252c.html" target="n" data-glyph="72,3" class="i method">Dispose</a>()
                {
                    <a href="#f23adf1a8453f1a3" class="i field">_switchWriter</a>.<a href="#fb0d42a7511ff902" class="i property">InnerWriter</a> = <a href="#f5ce790248907070" class="i field">_writerToRestore</a>;
                }
            }
        }
    }
}
</pre></td></tr></table></div></body></html>
