<!DOCTYPE html>
<html><head><title>Repository.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(822);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#GitSharp/Repository.cs" target="_top">Repository.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#GitSharp" target="_top">lib\GitSharp\GitSharp\GitSharp.csproj</a> (GitSharp)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">/*
 * Copyright (C) 2009, Henon &lt;meinrad.recheis@gmail.com&gt;
 * Copyright (C) 2010, Andrew Cooper &lt;andymancooper@gmail.com&gt;
 *
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or
 * without modification, are permitted provided that the following
 * conditions are met:
 *
 * - Redistributions of source code must retain the above copyright
 *   notice, this list of conditions and the following disclaimer.
 *
 * - Redistributions in binary form must reproduce the above
 *   copyright notice, this list of conditions and the following
 *   disclaimer in the documentation and/or other materials provided
 *   with the distribution.
 *
 * - Neither the name of the TicGit project nor the
 *   names of its contributors may be used to endorse or promote
 *   products derived from this software without specific prior
 *   written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
 * CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Security</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Commands</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>;
<b>using</b> <span class="t">CoreRepository</span> = <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#a967877e73d4cc25" class="t t">Repository</a>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>.<span class="i n">RegularExpressions</span>;

<b>namespace</b> <span class="i n">GitSharp</span>
{
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
	<span class="c">///</span><span class="c"> Represents a git repository</span>
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
	<b>public class</b> <a id="88d32bb614749450" href="R/88d32bb614749450.html" target="n" data-glyph="0,0" class="t t">Repository</a> : <a href="@0@mscorlib/A.html#1f55292c3174123d" class="t t">IDisposable</a>
	{
		<span class="k preprocess">#</span><span class="k preprocess">region</span> Constructors

		<b>internal</b> <a href="/GitSharp.Core/A.html#a967877e73d4cc25" class="t t">CoreRepository</a> <a id="9f5ec8d7098d03b2" href="R/9f5ec8d7098d03b2.html" target="n" data-glyph="44,1" class="i field">_internal_repo</a>;
		
		<a href="Remote.cs.html#01c9dcaf28a12229" class="t t">RemoteCollection</a> <a id="050cefbb4eb5a20c" href="R/050cefbb4eb5a20c.html" target="n" data-glyph="46,1" class="i field">_remoteCollection</a>;
		<a href="Stash.cs.html#2fa2da6a1a9056ff" class="t t">StashCollection</a> <a id="d83c611b1b367941" href="R/d83c611b1b367941.html" target="n" data-glyph="46,1" class="i field">_stashCollection</a>;

		<b>internal</b> <a id="1fbb36c37a4b6691" href="R/1fbb36c37a4b6691.html" target="n" data-glyph="74,1" class="i constructor">Repository</a>(<a href="/GitSharp.Core/A.html#a967877e73d4cc25" class="t t">CoreRepository</a> <span id="r0 rd" class="r0 r">repo</span>)
		{
			<span class="c">//PreferredEncoding = Encoding.UTF8;</span>
			<a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a> = <span class="r0 r">repo</span>;
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Initializes the Repository object.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">path</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Path to the local git repository.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<b>public</b> <a id="71ac264decd52f9d" href="R/71ac264decd52f9d.html" target="n" data-glyph="72,1" class="i constructor">Repository</a>(<b>string</b> <span id="r1 rd" class="r1 r">path</span>)
			: <a href="#1fbb36c37a4b6691" class="k">this</a>(<span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#a967877e73d4cc25" class="t t">Repository</a>.<a href="/GitSharp.Core/A.html#9acc283d655ef1c3" class="i method">Open</a>(<span class="r1 r">path</span>))
		{
		}


		<span class="k preprocess">#</span><span class="k preprocess">endregion</span>

		<span class="k preprocess">#</span><span class="k preprocess">region</span> Public properties


		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Returns the path to the repository database (i.e. the .git directory).</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public string</b> <a id="e864e55a83933585" href="R/e864e55a83933585.html" target="n" data-glyph="102,1" class="i property">Directory</a>
		{
			<b>get</b>
			{
				<a href="@0@System/A.html#632c6da37ce825df" class="t t">Debug</a>.<a href="@0@System/A.html#4f55cf5792dfc5e6" class="i method">Assert</a>(<a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a> != <b>null</b>, <span class="s">&quot;Repository not initialized correctly.&quot;</span>);
				<b>return</b> <a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#77a819ff8f2ad4d4" class="i property">Directory</a>.<a href="@0@mscorlib/A.html#0f9b506168f8cec0" class="i property">FullName</a>;
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Get the repository&#39;s head which is a symbolic reference to the active branch.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="Branch.cs.html#bfaf9b4f712212b1" class="t t">Branch</a> <a id="210a41a4cc4df5c2" href="R/210a41a4cc4df5c2.html" target="n" data-glyph="102,1" class="i property">Head</a>
		{
			<b>get</b>
			{
				<a href="@0@System/A.html#632c6da37ce825df" class="t t">Debug</a>.<a href="@0@System/A.html#4f55cf5792dfc5e6" class="i method">Assert</a>(<a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a> != <b>null</b>, <span class="s">&quot;Repository not initialized correctly.&quot;</span>);
				<b>return</b> <b>new</b> <a href="Branch.cs.html#3056945e89b88f87" class="t constructor">Branch</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="s">&quot;HEAD&quot;</span>);
			}
			<b>internal set</b> <span class="c">// &lt;-- Note that setting head does not automatically check out that branch into the repository&#39;s working directory. </span>
			{
				<b>if</b> (<b>value</b> == <b>null</b>)
					<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">&quot;Value can not be null.&quot;</span>);
				<b>if</b> (<a href="#210a41a4cc4df5c2" class="i property">Head</a>.<a href="Ref.cs.html#5862c5c78d8c4b4c" class="i property">Name</a> != <b>value</b>.<a href="Ref.cs.html#5862c5c78d8c4b4c" class="i property">Name</a>)
				{
					<b>if</b> (<a href="#caa42dcc0426cbdb" class="i property">Branches</a>.<a href="@0@mscorlib/A.html#6105ae1e7c0835eb" class="i method">ContainsKey</a>(<b>value</b>.<a href="Ref.cs.html#5862c5c78d8c4b4c" class="i property">Name</a>))
					{
						<a href="/GitSharp.Core/A.html#f7db734151ccbd14" class="k">var</a> <span id="r2 rd" class="r2 r">updateRef</span> = <a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#43378c3c1076b68b" class="i method">UpdateRef</a>(<span class="s">&quot;HEAD&quot;</span>);
						<span class="r2 r">updateRef</span>.<a href="/GitSharp.Core/A.html#16acf54b1b476c26" class="i property">NewObjectId</a> = <b>value</b>.<a href="Ref.cs.html#319f663920af18fc" class="i property">Target</a>.<a href="AbstractObject.cs.html#8e8765922f1fbec8" class="i field">_id</a>;
						<span class="r2 r">updateRef</span>.<a href="/GitSharp.Core/A.html#d17dc9bc582673e0" class="i property">IsForceUpdate</a> = <b>true</b>;
						<span class="r2 r">updateRef</span>.<a href="/GitSharp.Core/A.html#bba19837ffff68c6" class="i method">update</a>();
						<a href="/GitSharp.Core/A.html#f7db734151ccbd14" class="t t">RefUpdate</a> <span id="r3 rd" class="r3 r">u</span> = <a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#43378c3c1076b68b" class="i method">UpdateRef</a>(<a href="/GitSharp.Core/A.html#4c9cf80bf668e5fb" class="t t">Constants</a>.<a href="/GitSharp.Core/A.html#53497694228e23bc" class="i field">HEAD</a>);
						<span class="r3 r">u</span>.<a href="/GitSharp.Core/A.html#6a7017e890732529" class="i method">link</a>(<b>value</b>.<a href="Ref.cs.html#5862c5c78d8c4b4c" class="i property">Name</a>);
					}
					<b>else
						throw</b> <b>new</b> <a href="@0@mscorlib/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">&quot;Trying to set HEAD to non existent branch: &quot;</span> + <b>value</b>.<a href="Ref.cs.html#5862c5c78d8c4b4c" class="i property">Name</a>);
				}

			}
		}

		<b>public</b> <a href="Index.cs.html#7a5e9baba8ee662d" class="t t">Index</a> <a id="c317d74dcaf8b69b" href="R/c317d74dcaf8b69b.html" target="n" data-glyph="102,1" class="i property">Index</a>
		{
			<b>get</b>
			{
				<b>return</b> <b>new</b> <a href="Index.cs.html#0c389b055a9d5f69" class="t constructor">Index</a>(<a href="#88d32bb614749450" class="k">this</a>); <span class="c">// &lt;--- this is just a wrapper around the internal repo&#39;s GitIndex instance so need not cache it here</span>
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Returns true if this repository is a bare repository. Bare repositories don&#39;t have a working directory and thus do not support some operations.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public bool</b> <a id="199eb36c6f9e2f8d" href="R/199eb36c6f9e2f8d.html" target="n" data-glyph="102,1" class="i property">IsBare</a>
		{
			<b>get</b>
			{
				<a href="@0@System/A.html#632c6da37ce825df" class="t t">Debug</a>.<a href="@0@System/A.html#4f55cf5792dfc5e6" class="i method">Assert</a>(<a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a> != <b>null</b>, <span class="s">&quot;Repository not initialized correctly.&quot;</span>);
				<b>return</b> <a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#5bc9cbfb2f0922eb" class="i property">Config</a>.<a href="/GitSharp.Core/A.html#744292f9d0ad1799" class="i method">getBoolean</a>(<span class="s">&quot;core&quot;</span>, <span class="s">&quot;bare&quot;</span>, <b>false</b>);
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Returns the path to the working directory (i.e. the parent of the .git directory of a non-bare repo). Returns null if it is a bare repository.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public string</b> <a id="c81d21fc557c8dc2" href="R/c81d21fc557c8dc2.html" target="n" data-glyph="102,1" class="i property">WorkingDirectory</a>
		{
			<b>get</b>
			{
				<a href="@0@System/A.html#632c6da37ce825df" class="t t">Debug</a>.<a href="@0@System/A.html#4f55cf5792dfc5e6" class="i method">Assert</a>(<a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a> != <b>null</b>, <span class="s">&quot;Repository not initialized correctly.&quot;</span>);
				<b>if</b> (<a href="#199eb36c6f9e2f8d" class="i property">IsBare</a>)
					<b>return null</b>;
				<b>return</b> <a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#8728658bd6901bbe" class="i property">WorkingDirectory</a>.<a href="@0@mscorlib/A.html#0f9b506168f8cec0" class="i property">FullName</a>;
			}
		}

		<span class="k preprocess">#</span><span class="k preprocess">endregion</span>

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Check out the branch with the given name into the working directory and make it the current branch.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r4 r">name</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<b>public void</b> <a id="74336d2c6f776cc0" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">SwitchToBranch</a>(<b>string</b> <span id="r4 rd" class="r4 r">name</span>)
		{
			<a href="#0fd6f7422344c11a" class="i method">SwitchToBranch</a>(<b>new</b> <a href="Branch.cs.html#3056945e89b88f87" class="t constructor">Branch</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="r4 r">name</span>));
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Check out the given branch into the working directory and make it the current branch.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r5 r">branch</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<b>public void</b> <a id="0fd6f7422344c11a" href="R/0fd6f7422344c11a.html" target="n" data-glyph="72,1" class="i method">SwitchToBranch</a>(<a href="Branch.cs.html#bfaf9b4f712212b1" class="t t">Branch</a> <span id="r5 rd" class="r5 r">branch</span>)
		{
			<span class="r5 r">branch</span>.<a href="Branch.cs.html#d2b344e1077745e1" class="i method">Checkout</a>();
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Commit staged changes and update HEAD. The default git author from the config is used.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">message</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The commit message</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">Returns the newly created commit</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public</b> <a href="Commit.cs.html#bffc211799c30414" class="t t">Commit</a> <a id="8bf9f310bc711713" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Commit</a>(<b>string</b> <span id="r6 rd" class="r6 r">message</span>)
		{
			<b>return</b> <a href="#9c9a377ddca1b52d" class="i method">Commit</a>(<span class="r6 r">message</span>, <b>new</b> <a href="Author.cs.html#5573a6ee8e79620b" class="t constructor">Author</a>(<a href="#89f19aa9409d3b2e" class="i property">Config</a><a href="Config.cs.html#315ad48e3e8b6b60">[</a><span class="s">&quot;user.name&quot;</span>] ?? <span class="s">&quot;unknown&quot;</span>, <a href="#89f19aa9409d3b2e" class="i property">Config</a><a href="Config.cs.html#315ad48e3e8b6b60">[</a><span class="s">&quot;user.email&quot;</span>] ?? <span class="s">&quot;unknown@(none).&quot;</span>));
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Commit staged changes and update HEAD</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r7 r">message</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The commit message</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r8 r">author</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The author of the content to be committed</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">Returns the newly created commit</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public</b> <a href="Commit.cs.html#bffc211799c30414" class="t t">Commit</a> <a id="9c9a377ddca1b52d" href="R/9c9a377ddca1b52d.html" target="n" data-glyph="72,1" class="i method">Commit</a>(<b>string</b> <span id="r7 rd" class="r7 r">message</span>, <a href="Author.cs.html#a62af5f74cd98a14" class="t t">Author</a> <span id="r8 rd" class="r8 r">author</span>)
		{
			<b>return</b> <a href="#c317d74dcaf8b69b" class="i property">Index</a>.<a href="Index.cs.html#702c8498f03f2d97" class="i method">CommitChanges</a>(<span class="r7 r">message</span>, <span class="r8 r">author</span>);
		}
		
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Commit changes in the specified files and update HEAD</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&#39;</span><span class="r9 r">message</span><span class="c">&#39;</span><span class="c">&gt;</span><span class="c">The commit message</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r10 r">paths</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">List of files to commit</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">Returns the newly created commit</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public</b> <a href="Commit.cs.html#bffc211799c30414" class="t t">Commit</a> <a id="261c3c9238ed9127" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Commit</a>(<b>string</b> <span id="r9 rd" class="r9 r">message</span>, <b>params string</b>[] <span id="r10 rd" class="r10 r">paths</span>)
		{
			<b>return</b> <a href="#347b154dcdb65503" class="i method">Commit</a>(<span class="r9 r">message</span>, <b>new</b> <a href="Author.cs.html#5573a6ee8e79620b" class="t constructor">Author</a>(<a href="#89f19aa9409d3b2e" class="i property">Config</a><a href="Config.cs.html#315ad48e3e8b6b60">[</a><span class="s">&quot;user.name&quot;</span>] ?? <span class="s">&quot;unknown&quot;</span>, <a href="#89f19aa9409d3b2e" class="i property">Config</a><a href="Config.cs.html#315ad48e3e8b6b60">[</a><span class="s">&quot;user.email&quot;</span>] ?? <span class="s">&quot;unknown@(none).&quot;</span>), <span class="r10 r">paths</span>);
		}
		
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Commit changes in the specified files and update HEAD</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&#39;</span><span class="r11 r">message</span><span class="c">&#39;</span><span class="c">&gt;</span><span class="c">The commit message</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r12 r">author</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The author of the content to be committed</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r13 r">paths</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">List of files to commit</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">Returns the newly created commit</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public</b> <a href="Commit.cs.html#bffc211799c30414" class="t t">Commit</a> <a id="347b154dcdb65503" href="R/347b154dcdb65503.html" target="n" data-glyph="72,1" class="i method">Commit</a>(<b>string</b> <span id="r11 rd" class="r11 r">message</span>, <a href="Author.cs.html#a62af5f74cd98a14" class="t t">Author</a> <span id="r12 rd" class="r12 r">author</span>, <b>params string</b>[] <span id="r13 rd" class="r13 r">paths</span>)
		{
			<b>if</b> (<b>string</b>.<a href="@0@mscorlib/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<span class="r11 r">message</span>))
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#4b20cd3790b6426a" class="t constructor">ArgumentException</a>(<span class="s">&quot;Commit message must not be null or empty!&quot;</span>, <span class="s">&quot;message&quot;</span>);
			<b>if</b> (<b>string</b>.<a href="@0@mscorlib/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<span class="r12 r">author</span>.<a href="Author.cs.html#8aeb12ff437a5b86" class="i property">Name</a>))
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#4b20cd3790b6426a" class="t constructor">ArgumentException</a>(<span class="s">&quot;Author name must not be null or empty!&quot;</span>, <span class="s">&quot;author&quot;</span>);
			
			<b>int</b> <span id="r14 rd" class="r14 r">basePathLength</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#1274738792cce835" class="i method">GetFullPath</a> (<a href="#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>).<a href="@0@mscorlib/A.html#fc988fb267590f98" class="i method">TrimEnd</a> (<span class="s">&#39;/&#39;</span>,<span class="s">&#39;\\&#39;</span>).<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a>;
			
			<span class="c">// Expand directory paths into file paths. Convert paths to full paths.</span>
			<a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<b>string</b>&gt; <span id="r15 rd" class="r15 r">filePaths</span> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<b>string</b>&gt; ();
			<b>foreach</b> (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r16 rd" class="r16 r">path</span> <b>in</b> <span class="r13 r">paths</span>) {
				<b>string</b> <span id="r17 rd" class="r17 r">fullPath</span> = <span class="r16 r">path</span>;
				<b>if</b> (!<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#807960f08fca497d" class="i method">IsPathRooted</a> (<span class="r17 r">fullPath</span>))
					<span class="r17 r">fullPath</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a> (<a href="#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>, <span class="r17 r">fullPath</span>);
				<span class="r17 r">fullPath</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#1274738792cce835" class="i method">GetFullPath</a> (<span class="r17 r">fullPath</span>).<a href="@0@mscorlib/A.html#fc988fb267590f98" class="i method">TrimEnd</a> (<span class="s">&#39;/&#39;</span>,<span class="s">&#39;\\&#39;</span>);
				<a href="@0@mscorlib/A.html#30fa608717e5ce8e" class="t t">DirectoryInfo</a> <span id="r18 rd" class="r18 r">dir</span> = <b>new</b> <a href="@0@mscorlib/A.html#683f5ff112df8d3a" class="t constructor">DirectoryInfo</a> (<span class="r17 r">fullPath</span>);
				<b>if</b> (<span class="r18 r">dir</span>.<a href="@0@mscorlib/A.html#6f88a05eb9231687" class="i property">Exists</a>)
					<span class="r15 r">filePaths</span>.<a href="@0@mscorlib/A.html#e569d850a66a1771" class="i method">AddRange</a> (<a href="#bac980e0dd91d6d5" class="i method">GetDirectoryFiles</a> (<span class="r18 r">dir</span>));
				<b>else</b>
					<span class="r15 r">filePaths</span>.<a href="@0@mscorlib/A.html#9cc11588bffd57c1" class="i method">Add</a> (<span class="r17 r">fullPath</span>);
			}
			
			<span class="c">// Read the tree of the last commit. We are going to update it.</span>
			<span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#5c7834780fcb0bc3" class="t t">Tree</a> <span id="r19 rd" class="r19 r">tree</span> = <a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#b5b612d688cbc4ee" class="i method">MapTree</a> (<a href="#8092dd06030bb016" class="i property">CurrentBranch</a>.<a href="Branch.cs.html#f093602d50fbbee3" class="i property">CurrentCommit</a>.<a href="AbstractObject.cs.html#8e8765922f1fbec8" class="i field">_id</a>);

			<span class="c">// Keep a list of trees that have been modified, since they have to be written.</span>
			<a href="@0@System.Core/A.html#2d265edc718b158b" class="t t">HashSet</a>&lt;<span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#5c7834780fcb0bc3" class="t t">Tree</a>&gt; <span id="r20 rd" class="r20 r">modifiedTrees</span> = <b>new</b> <a href="@0@System.Core/A.html#eca9ea30fa3b2c28" class="t constructor">HashSet</a>&lt;<span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#5c7834780fcb0bc3" class="t t">Tree</a>&gt; ();
			
			<span class="c">// Update the tree</span>
			<b>foreach</b> (<b>string</b> <span id="r21 rd" class="r21 r">fullPath</span> <b>in</b> <span class="r15 r">filePaths</span>) {
				<b>string</b> <span id="r22 rd" class="r22 r">relPath</span> = <span class="r21 r">fullPath</span>.<a href="@0@mscorlib/A.html#882fa7998d6ca35a" class="i method">Substring</a> (<span class="r14 r">basePathLength</span> + 1).<a href="@0@mscorlib/A.html#987da5dfb39f1927" class="i method">Replace</a> (<span class="s">&#39;\\&#39;</span>,<span class="s">&#39;/&#39;</span>);				
				<a href="/GitSharp.Core/A.html#c199e8ce68862a03" class="t t">TreeEntry</a> <span id="r23 rd" class="r23 r">treeEntry</span> = <span class="r19 r">tree</span>.<a href="/GitSharp.Core/A.html#5da4e82e421301e7" class="i method">FindBlobMember</a> (<span class="r22 r">relPath</span>);
				
				<b>if</b> (<a href="@0@mscorlib/A.html#1c7421e464f67b7e" class="t t">File</a>.<a href="@0@mscorlib/A.html#3360368484a9f131" class="i method">Exists</a> (<span class="r21 r">fullPath</span>)) {
					<span class="c">// Looks like an old directory is now a file. Delete the subtree and create a new entry for the file.</span>
					<b>if</b> (<span class="r23 r">treeEntry</span> != <b>null</b> &amp;&amp; !(<span class="r23 r">treeEntry</span> <b>is</b> <a href="/GitSharp.Core/A.html#f78c3e064b2bbe39" class="t t">FileTreeEntry</a>))
						<span class="r23 r">treeEntry</span>.<a href="/GitSharp.Core/A.html#ab6fd47e7a1b9d60" class="i method">Delete</a> ();

					<a href="/GitSharp.Core/A.html#f78c3e064b2bbe39" class="t t">FileTreeEntry</a> <span id="r24 rd" class="r24 r">fileEntry</span> = <span class="r23 r">treeEntry</span> <b>as</b> <a href="/GitSharp.Core/A.html#f78c3e064b2bbe39" class="t t">FileTreeEntry</a>;
					<a href="/GitSharp.Core/A.html#edd7e08e5ab8145e" class="k">var</a> <span id="r25 rd" class="r25 r">writer</span> = <b>new</b> <a href="/GitSharp.Core/A.html#81656ecc2c2175d2" class="t constructor">ObjectWriter</a> (<a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>);
					<b>bool</b> <span id="r26 rd" class="r26 r">executable</span> = <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">Util</span>.<a href="/GitSharp.Core/A.html#c49f385e4a538de3" class="t t">FS</a>.<a href="/GitSharp.Core/A.html#3f153b2dab90d204" class="i method">canExecute</a> (<b>new</b> <a href="@0@mscorlib/A.html#1fe2c3953ba2a577" class="t constructor">FileInfo</a> (<span class="r21 r">fullPath</span>));
					<a href="/GitSharp.Core/A.html#a54807441779f4c5" class="t t">ObjectId</a> <span id="r27 rd" class="r27 r">id</span> = <span class="r25 r">writer</span>.<a href="/GitSharp.Core/A.html#ce5a23cc3ba75504" class="i method">WriteBlob</a> (<b>new</b> <a href="@0@mscorlib/A.html#1fe2c3953ba2a577" class="t constructor">FileInfo</a> (<span class="r21 r">fullPath</span>));
					<b>if</b> (<span class="r24 r">fileEntry</span> == <b>null</b>) {
						<span class="c">// It&#39;s a new file. Add it.</span>
						<span class="r24 r">fileEntry</span> = (<a href="/GitSharp.Core/A.html#f78c3e064b2bbe39" class="t t">FileTreeEntry</a>) <span class="r19 r">tree</span>.<a href="/GitSharp.Core/A.html#5fc82fa2e32048de" class="i method">AddFile</a> (<span class="r22 r">relPath</span>);
						<span class="r23 r">treeEntry</span> = <span class="r24 r">fileEntry</span>;
					} <b>else if</b> (<span class="r24 r">fileEntry</span>.<a href="/GitSharp.Core/A.html#87240feeca841fd1" class="i property">Id</a> == <span class="r27 r">id</span> &amp;&amp; <span class="r26 r">executable</span> == <span class="r24 r">fileEntry</span>.<a href="/GitSharp.Core/A.html#31556dbdd2800170" class="i property">IsExecutable</a>) {
						<span class="c">// Same file, ignore it</span>
						<b>continue</b>;
					}
					
					<span class="r24 r">fileEntry</span>.<a href="/GitSharp.Core/A.html#87240feeca841fd1" class="i property">Id</a> = <span class="r27 r">id</span>;
					<span class="r24 r">fileEntry</span>.<a href="/GitSharp.Core/A.html#d79fce2481ffdc6c" class="i method">SetExecutable</a> (<span class="r26 r">executable</span>);
				}
				<b>else</b> {
					<span class="c">// Deleted file or directory. Remove from the tree</span>
					<b>if</b> (<span class="r23 r">treeEntry</span> != <b>null</b>) {
						<span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#5c7834780fcb0bc3" class="t t">Tree</a> <span id="r28 rd" class="r28 r">ptree</span> = <span class="r23 r">treeEntry</span>.<a href="/GitSharp.Core/A.html#9960f104c00cc77f" class="i property">Parent</a>;
						<span class="r23 r">treeEntry</span>.<a href="/GitSharp.Core/A.html#ab6fd47e7a1b9d60" class="i method">Delete</a> ();
						<span class="c">// Remove the subtree if it&#39;s now empty</span>
						<b>while</b> (<span class="r28 r">ptree</span> != <b>null</b> &amp;&amp; <span class="r28 r">ptree</span>.<a href="/GitSharp.Core/A.html#3dfefac78521bf43" class="i property">MemberCount</a> == 0) {
							<span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#5c7834780fcb0bc3" class="t t">Tree</a> <span id="r29 rd" class="r29 r">nextParent</span> = <span class="r28 r">ptree</span>.<a href="/GitSharp.Core/A.html#9960f104c00cc77f" class="i property">Parent</a>;
							<span class="r28 r">ptree</span>.<a href="/GitSharp.Core/A.html#ab6fd47e7a1b9d60" class="i method">Delete</a> ();
							<span class="r28 r">ptree</span> = <span class="r29 r">nextParent</span>;
						}
					}
					<b>else
						continue</b>; <span class="c">// Already deleted.</span>
				}
				<span class="r20 r">modifiedTrees</span>.<a href="@0@System.Core/A.html#43a2b651926474a7" class="i method">Add</a> (<span class="r23 r">treeEntry</span>.<a href="/GitSharp.Core/A.html#9960f104c00cc77f" class="i property">Parent</a>);
			}

			<span class="c">// check if tree is different from current commit&#39;s tree</span>
			<b>if</b> (<span class="r20 r">modifiedTrees</span>.<a href="@0@System.Core/A.html#905bec8c22644c82" class="i property">Count</a> == 0)
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#265d72f49e915224" class="t constructor">InvalidOperationException</a>(<span class="s">&quot;There are no changes to commit&quot;</span>);
			
			<span class="c">// Create new trees if there is any change</span>
			<a href="/GitSharp.Core/A.html#a54807441779f4c5" class="t t">ObjectId</a> <span id="r30 rd" class="r30 r">tree_id</span> = <a href="#52c811e33bd16dbb" class="i method">SaveTree</a> (<span class="r19 r">tree</span>, <span class="r20 r">modifiedTrees</span>);

			<span class="c">// Create the commit</span>
			<a href="Commit.cs.html#bffc211799c30414" class="k">var</a> <span id="r31 rd" class="r31 r">parent</span> = <a href="#8092dd06030bb016" class="i property">CurrentBranch</a>.<a href="Branch.cs.html#f093602d50fbbee3" class="i property">CurrentCommit</a>;
			<a href="Commit.cs.html#bffc211799c30414" class="k">var</a> <span id="r32 rd" class="r32 r">commit</span> = <span class="i n">GitSharp</span>.<a href="Commit.cs.html#bffc211799c30414" class="t t">Commit</a>.<a href="Commit.cs.html#cf87fea29814f064" class="i method">Create</a>(<span class="r11 r">message</span>, <span class="r31 r">parent</span>, <b>new</b> <a href="Tree.cs.html#f60530a86fef6e1f" class="t constructor">Tree</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="r30 r">tree_id</span>), <span class="r12 r">author</span>);
			<a href="Ref.cs.html#849a9ba532426c12" class="t t">Ref</a>.<a href="Ref.cs.html#a056ac373dc82eb3" class="i method">Update</a>(<span class="s">&quot;HEAD&quot;</span>, <span class="r32 r">commit</span>);
			
			<span class="c">// Unstage updated files</span>
			<a href="#c317d74dcaf8b69b" class="i property">Index</a>.<a href="Index.cs.html#3bd202ff455162e4" class="i method">Unstage</a> (<span class="r13 r">paths</span>);
			
			<b>return</b> <span class="r32 r">commit</span>;
		}
		
		<a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<b>string</b>&gt; <a id="bac980e0dd91d6d5" href="R/bac980e0dd91d6d5.html" target="n" data-glyph="76,1" class="i method">GetDirectoryFiles</a> (<a href="@0@mscorlib/A.html#30fa608717e5ce8e" class="t t">DirectoryInfo</a> <span id="r33 rd" class="r33 r">dir</span>)
		{
			<span class="c">// Recursively get the list of files in the directory (which are not ignored)</span>
			<b>return</b> <span class="r33 r">dir</span>.<a href="@0@mscorlib/A.html#830504d0bd9706f2" class="i method">GetFiles</a> ()
						.<a href="@0@System.Core/A.html#e73922753675387a" class="i method">Where</a> (<span id="r34 rd" class="r34 r">f</span> =&gt; !<a href="#c317d74dcaf8b69b" class="i property">Index</a>.<a href="Index.cs.html#6c43882cb0654ee7" class="i property">IgnoreHandler</a>.<a href="/GitSharp.Core/A.html#22c7b1fb1e7a021b" class="i method">IsIgnored</a> (<span class="r34 r">f</span>.<a href="@0@mscorlib/A.html#0f9b506168f8cec0" class="i property">FullName</a>))
						.<a href="@0@System.Core/A.html#5c652c53e80df013" class="i method">Select</a> (<span id="r35 rd" class="r35 r">f</span> =&gt; <span class="r35 r">f</span>.<a href="@0@mscorlib/A.html#0f9b506168f8cec0" class="i property">FullName</a>)
				   .<a href="@0@System.Core/A.html#9c0a66e386e37265" class="i method">Concat</a> (<span class="r33 r">dir</span>.<a href="@0@mscorlib/A.html#0efed0313328198f" class="i method">GetDirectories</a> ()
						.<a href="@0@System.Core/A.html#e73922753675387a" class="i method">Where</a> (<span id="r36 rd" class="r36 r">di</span> =&gt; !<a href="#c317d74dcaf8b69b" class="i property">Index</a>.<a href="Index.cs.html#6c43882cb0654ee7" class="i property">IgnoreHandler</a>.<a href="/GitSharp.Core/A.html#22c7b1fb1e7a021b" class="i method">IsIgnored</a> (<span class="r36 r">di</span>.<a href="@0@mscorlib/A.html#0f9b506168f8cec0" class="i property">FullName</a>) &amp;&amp; <span class="r36 r">di</span>.<a href="@0@mscorlib/A.html#5846640afdace004" class="i property">Name</a> != <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#4c9cf80bf668e5fb" class="t t">Constants</a>.<a href="/GitSharp.Core/A.html#9367fd41bca7cf44" class="i field">DOT_GIT</a>)
						.<a href="@0@System.Core/A.html#8f3471331178bcb0" class="i method">SelectMany</a> (<span id="r37 rd" class="r37 r">di</span> =&gt; <a href="#bac980e0dd91d6d5" class="i method">GetDirectoryFiles</a> (<span class="r37 r">di</span>)));
		}
		
		<a href="/GitSharp.Core/A.html#a54807441779f4c5" class="t t">ObjectId</a> <a id="52c811e33bd16dbb" href="R/52c811e33bd16dbb.html" target="n" data-glyph="76,1" class="i method">SaveTree</a> (<span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#5c7834780fcb0bc3" class="t t">Tree</a> <span id="r38 rd" class="r38 r">tree</span>, <a href="@0@System.Core/A.html#2d265edc718b158b" class="t t">HashSet</a>&lt;<span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#5c7834780fcb0bc3" class="t t">Tree</a>&gt; <span id="r39 rd" class="r39 r">modifiedTrees</span>)
		{
			<span class="c">// Saves tree that have been modified (that is, which are in the provided list or</span>
			<span class="c">// which have child trees that have been modified)</span>
			
			<b>bool</b> <span id="r40 rd" class="r40 r">childModified</span> = <b>false</b>;
			<b>foreach</b> (<a href="/GitSharp.Core/A.html#c199e8ce68862a03" class="k">var</a> <span id="r41 rd" class="r41 r">te</span> <b>in</b> <span class="r38 r">tree</span>.<a href="/GitSharp.Core/A.html#9883e64bacef8470" class="i property">Members</a>) {
				<span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#5c7834780fcb0bc3" class="t t">Tree</a> <span id="r42 rd" class="r42 r">childTree</span> = <span class="r41 r">te</span> <b>as</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#5c7834780fcb0bc3" class="t t">Tree</a>;
				<b>if</b> (<span class="r42 r">childTree</span> != <b>null</b>) {
					<a href="/GitSharp.Core/A.html#a54807441779f4c5" class="t t">ObjectId</a> <span id="r43 rd" class="r43 r">newId</span> = <a href="#52c811e33bd16dbb" class="i method">SaveTree</a> (<span class="r42 r">childTree</span>, <span class="r39 r">modifiedTrees</span>);
					<b>if</b> (<span class="r43 r">newId</span> != <b>null</b>) {
						<span class="r42 r">childTree</span>.<a href="/GitSharp.Core/A.html#87240feeca841fd1" class="i property">Id</a> = <span class="r43 r">newId</span>;
						<span class="r40 r">childModified</span> = <b>true</b>;
					}
				}
			}
			<b>if</b> (<span class="r40 r">childModified</span> || <span class="r39 r">modifiedTrees</span>.<a href="@0@System.Core/A.html#06d905a0ac76e4f5" class="i method">Contains</a> (<span class="r38 r">tree</span>)) {
				<a href="/GitSharp.Core/A.html#edd7e08e5ab8145e" class="t t">ObjectWriter</a> <span id="r44 rd" class="r44 r">writer</span> = <b>new</b> <a href="/GitSharp.Core/A.html#81656ecc2c2175d2" class="t constructor">ObjectWriter</a> (<a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>);
				<b>return</b> <span class="r44 r">writer</span>.<a href="/GitSharp.Core/A.html#d5ee2ee55acc21f3" class="i method">WriteTree</a> (<span class="r38 r">tree</span>);
			} <b>else
				return null</b>;
		}
		
		<b>public</b> <a href="@0@mscorlib/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<b>string</b>, <a href="Ref.cs.html#849a9ba532426c12" class="t t">Ref</a>&gt; <a id="bbfc8e20949488a6" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Refs</a>
		{
			<b>get</b>
			{
				<a href="@0@mscorlib/A.html#20343df0c96b629b" class="k">var</a> <span id="r45 rd" class="r45 r">internal_refs</span> = <a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#32678fc8cb626f00" class="i method">getAllRefs</a>();
				<a href="@0@mscorlib/A.html#d3599058f8d79be0" class="k">var</a> <span id="r46 rd" class="r46 r">dict</span> = <b>new</b> <a href="@0@mscorlib/A.html#6a2b29a26fb6e208" class="t constructor">Dictionary</a>&lt;<b>string</b>, <a href="Ref.cs.html#849a9ba532426c12" class="t t">Ref</a>&gt;(<span class="r45 r">internal_refs</span>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
				<b>foreach</b> (<a href="@0@mscorlib/A.html#8585965bb176a426" class="k">var</a> <span id="r47 rd" class="r47 r">pair</span> <b>in</b> <span class="r45 r">internal_refs</span>)
					<span class="r46 r">dict</span><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="r47 r">pair</span>.<a href="@0@mscorlib/A.html#f9d1c04feb1af032" class="i property">Key</a>] = <b>new</b> <a href="Ref.cs.html#f484a4bc22501327" class="t constructor">Ref</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="r47 r">pair</span>.<a href="@0@mscorlib/A.html#38c0e86cc4b30170" class="i property">Value</a>);
				<b>return</b> <span class="r46 r">dict</span>;
			}
		}

		<b>public</b> <a href="@0@mscorlib/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<b>string</b>, <a href="Tag.cs.html#f4a1b4a5402ce130" class="t t">Tag</a>&gt; <a id="ebffa07f1c6e9091" href="R/ebffa07f1c6e9091.html" target="n" data-glyph="102,1" class="i property">Tags</a>
		{
			<b>get</b>
			{
				<a href="@0@mscorlib/A.html#20343df0c96b629b" class="k">var</a> <span id="r48 rd" class="r48 r">internal_tags</span> = <a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#23e154977408b4ca" class="i method">getTags</a>();
				<a href="@0@mscorlib/A.html#d3599058f8d79be0" class="k">var</a> <span id="r49 rd" class="r49 r">dict</span> = <b>new</b> <a href="@0@mscorlib/A.html#6a2b29a26fb6e208" class="t constructor">Dictionary</a>&lt;<b>string</b>, <a href="Tag.cs.html#f4a1b4a5402ce130" class="t t">Tag</a>&gt;(<span class="r48 r">internal_tags</span>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
				<b>foreach</b> (<a href="@0@mscorlib/A.html#8585965bb176a426" class="k">var</a> <span id="r50 rd" class="r50 r">pair</span> <b>in</b> <span class="r48 r">internal_tags</span>)
					<span class="r49 r">dict</span><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="r50 r">pair</span>.<a href="@0@mscorlib/A.html#f9d1c04feb1af032" class="i property">Key</a>] = <b>new</b> <a href="Tag.cs.html#b1f23f44560ab1c1" class="t constructor">Tag</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="r50 r">pair</span>.<a href="@0@mscorlib/A.html#38c0e86cc4b30170" class="i property">Value</a>);
				<b>return</b> <span class="r49 r">dict</span>;
			}
		}

		<b>public</b> <a href="@0@mscorlib/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<b>string</b>, <a href="Branch.cs.html#bfaf9b4f712212b1" class="t t">Branch</a>&gt; <a id="caa42dcc0426cbdb" href="R/caa42dcc0426cbdb.html" target="n" data-glyph="102,1" class="i property">Branches</a>
		{
			<b>get</b>
			{
				<a href="@0@mscorlib/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<b>string</b>, <span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#14820c0f09e6d05b" class="t t">Ref</a>&gt; <span id="r51 rd" class="r51 r">internal_refs</span> = <a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#99ad610709bc9095" class="i field">_refDb</a>.<a href="/GitSharp.Core/A.html#6f4c630ce6ba6673" class="i method">getRefs</a>(<a href="/GitSharp.Core/A.html#4c9cf80bf668e5fb" class="t t">Constants</a>.<a href="/GitSharp.Core/A.html#f5c8f6540674ab54" class="i field">R_HEADS</a>);
				<a href="@0@mscorlib/A.html#d3599058f8d79be0" class="k">var</a> <span id="r52 rd" class="r52 r">dict</span> = <b>new</b> <a href="@0@mscorlib/A.html#6a2b29a26fb6e208" class="t constructor">Dictionary</a>&lt;<b>string</b>, <a href="Branch.cs.html#bfaf9b4f712212b1" class="t t">Branch</a>&gt;(<span class="r51 r">internal_refs</span>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
				<b>foreach</b> (<a href="@0@mscorlib/A.html#8585965bb176a426" class="k">var</a> <span id="r53 rd" class="r53 r">pair</span> <b>in</b> <span class="r51 r">internal_refs</span>)
					<span class="r52 r">dict</span><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="r53 r">pair</span>.<a href="@0@mscorlib/A.html#f9d1c04feb1af032" class="i property">Key</a>.<a href="@0@mscorlib/A.html#5137a6065a1c1234" class="i method">TrimStart</a>(<span class="s">&#39;/&#39;</span>)] = <b>new</b> <a href="Branch.cs.html#a471e472bb56bb62" class="t constructor">Branch</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="r53 r">pair</span>.<a href="@0@mscorlib/A.html#38c0e86cc4b30170" class="i property">Value</a>);
				<b>return</b> <span class="r52 r">dict</span>;
			}
		}

		<b>public</b> <a href="Branch.cs.html#bfaf9b4f712212b1" class="t t">Branch</a> <a id="8092dd06030bb016" href="R/8092dd06030bb016.html" target="n" data-glyph="102,1" class="i property">CurrentBranch</a>
		{
			<b>get</b>
			{
				<b>return</b> <b>new</b> <a href="Branch.cs.html#3056945e89b88f87" class="t constructor">Branch</a>(<a href="#88d32bb614749450" class="k">this</a>, <a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#4e87ffefc233c318" class="i method">getBranch</a>());
			}
		}

		<b>public</b> <a href="@0@mscorlib/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<b>string</b>, <a href="Branch.cs.html#bfaf9b4f712212b1" class="t t">Branch</a>&gt; <a id="0a41397c9a06229e" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">RemoteBranches</a>
		{
			<b>get</b>
			{
				<a href="@0@mscorlib/A.html#20343df0c96b629b" class="k">var</a> <span id="r54 rd" class="r54 r">internal_refs</span> = <a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#99ad610709bc9095" class="i field">_refDb</a>.<a href="/GitSharp.Core/A.html#6f4c630ce6ba6673" class="i method">getRefs</a>(<a href="/GitSharp.Core/A.html#4c9cf80bf668e5fb" class="t t">Constants</a>.<a href="/GitSharp.Core/A.html#dd2e6d4fa212de24" class="i field">R_REMOTES</a>);
				<a href="@0@mscorlib/A.html#d3599058f8d79be0" class="k">var</a> <span id="r55 rd" class="r55 r">dict</span> = <b>new</b> <a href="@0@mscorlib/A.html#6a2b29a26fb6e208" class="t constructor">Dictionary</a>&lt;<b>string</b>, <a href="Branch.cs.html#bfaf9b4f712212b1" class="t t">Branch</a>&gt;(<span class="r54 r">internal_refs</span>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
				<b>foreach</b> (<a href="@0@mscorlib/A.html#8585965bb176a426" class="k">var</a> <span id="r56 rd" class="r56 r">pair</span> <b>in</b> <span class="r54 r">internal_refs</span>)
				{
					<a href="Branch.cs.html#bfaf9b4f712212b1" class="k">var</a> <span id="r57 rd" class="r57 r">branch</span> = <b>new</b> <a href="Branch.cs.html#a471e472bb56bb62" class="t constructor">Branch</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="r56 r">pair</span>.<a href="@0@mscorlib/A.html#38c0e86cc4b30170" class="i property">Value</a>);
					<span class="r57 r">branch</span>.<a href="Branch.cs.html#9d40d6c68be37db8" class="i property">IsRemote</a> = <b>true</b>;
					<span class="r55 r">dict</span><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="r56 r">pair</span>.<a href="@0@mscorlib/A.html#f9d1c04feb1af032" class="i property">Key</a>] = <span class="r57 r">branch</span>;
				}
				<b>return</b> <span class="r55 r">dict</span>;
			}
		}
		
		<b>public</b> <a href="Remote.cs.html#01c9dcaf28a12229" class="t t">RemoteCollection</a> <a id="5ba1bb8b285c2b4b" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Remotes</a> {
			<b>get</b> {
				<b>if</b> (<a href="#050cefbb4eb5a20c" class="i field">_remoteCollection</a> == <b>null</b>)
					<a href="#050cefbb4eb5a20c" class="i field">_remoteCollection</a> = <b>new</b> <a href="Remote.cs.html#e409e97bc644bf01" class="t constructor">RemoteCollection</a> (<a href="#88d32bb614749450" class="k">this</a>);
				<b>return</b> <a href="#050cefbb4eb5a20c" class="i field">_remoteCollection</a>;
			}
		}
		
		<b>public</b> <a href="Stash.cs.html#2fa2da6a1a9056ff" class="t t">StashCollection</a> <a id="8e82ec3111792a1b" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Stashes</a> {
			<b>get</b> {
				<b>if</b> (<a href="#d83c611b1b367941" class="i field">_stashCollection</a> == <b>null</b>)
					<a href="#d83c611b1b367941" class="i field">_stashCollection</a> = <b>new</b> <a href="Stash.cs.html#1470b77f4a84acb6" class="t constructor">StashCollection</a> (<a href="#88d32bb614749450" class="k">this</a>);
				<b>return</b> <a href="#d83c611b1b367941" class="i field">_stashCollection</a>;
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Returns the git configuration containing repository-specific, user-specific and global </span>
		<span class="c">///</span><span class="c"> settings.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="Config.cs.html#9f510e65b4d99c14" class="t t">Config</a> <a id="89f19aa9409d3b2e" href="R/89f19aa9409d3b2e.html" target="n" data-glyph="102,1" class="i property">Config</a>
		{
			<b>get</b>
			{
				<b>return</b> <b>new</b> <a href="Config.cs.html#4e10834f40a9b689" class="t constructor">Config</a>(<a href="#88d32bb614749450" class="k">this</a>);
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Get a report about the differences between the working directory, the index and the current commit.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="RepositoryStatus.cs.html#b7b6e10304dbda3a" class="t t">RepositoryStatus</a> <a id="35053c736582f71b" href="R/35053c736582f71b.html" target="n" data-glyph="102,1" class="i property">Status</a>
		{
			<b>get</b>
			{
				<b>return</b> <b>new</b> <a href="RepositoryStatus.cs.html#b174d48d6eb554d0" class="t constructor">RepositoryStatus</a>(<a href="#88d32bb614749450" class="k">this</a>, <b>null</b>, <b>null</b>, <span class="s">&quot;&quot;</span>, <b>true</b>);
			}
		}
		
		<b>public</b> <a href="RepositoryStatus.cs.html#b7b6e10304dbda3a" class="t t">RepositoryStatus</a> <a id="89d9a089e7db9041" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetStatus</a> (<a href="RepositoryStatus.cs.html#2a4a3eb22c28d297" class="t t">RepositoryStatusOptions</a> <span id="r58 rd" class="r58 r">options</span>)
		{
			<b>return</b> <b>new</b> <a href="RepositoryStatus.cs.html#b174d48d6eb554d0" class="t constructor">RepositoryStatus</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="r58 r">options</span>, <b>null</b>, <span class="s">&quot;&quot;</span>, <b>true</b>);
		}

		<b>public</b> <a href="RepositoryStatus.cs.html#b7b6e10304dbda3a" class="t t">RepositoryStatus</a> <a id="e34b159756c4275e" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetDirectoryStatus</a> (<b>string</b> <span id="r59 rd" class="r59 r">path</span>, <b>bool</b> <span id="r60 rd" class="r60 r">recursive</span>)
		{
			<b>return</b> <b>new</b> <a href="RepositoryStatus.cs.html#b174d48d6eb554d0" class="t constructor">RepositoryStatus</a>(<a href="#88d32bb614749450" class="k">this</a>, <b>null</b>, <b>null</b>, <span class="r59 r">path</span>, <span class="r60 r">recursive</span>);
		}

		<b>public</b> <a href="RepositoryStatus.cs.html#b7b6e10304dbda3a" class="t t">RepositoryStatus</a> <a id="8c56ba2980c5f741" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetDirectoryStatus</a> (<b>string</b> <span id="r61 rd" class="r61 r">path</span>, <b>bool</b> <span id="r62 rd" class="r62 r">recursive</span>, <a href="RepositoryStatus.cs.html#2a4a3eb22c28d297" class="t t">RepositoryStatusOptions</a> <span id="r63 rd" class="r63 r">options</span>)
		{
			<b>return</b> <b>new</b> <a href="RepositoryStatus.cs.html#b174d48d6eb554d0" class="t constructor">RepositoryStatus</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="r63 r">options</span>, <b>null</b>, <span class="r61 r">path</span>, <span class="r62 r">recursive</span>);
		}

		<b>public</b> <a href="RepositoryStatus.cs.html#b7b6e10304dbda3a" class="t t">RepositoryStatus</a> <a id="1d154d83a0c8644b" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetFileStatus</a> (<b>string</b> <span id="r64 rd" class="r64 r">path</span>)
		{
			<b>return</b> <b>new</b> <a href="RepositoryStatus.cs.html#b174d48d6eb554d0" class="t constructor">RepositoryStatus</a>(<a href="#88d32bb614749450" class="k">this</a>, <b>null</b>, <span class="r64 r">path</span>, <b>null</b>, <b>false</b>);
		}
		
		<b>public</b> <a href="RepositoryStatus.cs.html#b7b6e10304dbda3a" class="t t">RepositoryStatus</a> <a id="4c9acbbfd994695b" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetFileStatus</a> (<b>string</b> <span id="r65 rd" class="r65 r">path</span>, <a href="RepositoryStatus.cs.html#2a4a3eb22c28d297" class="t t">RepositoryStatusOptions</a> <span id="r66 rd" class="r66 r">options</span>)
		{
			<b>return</b> <b>new</b> <a href="RepositoryStatus.cs.html#b174d48d6eb554d0" class="t constructor">RepositoryStatus</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="r66 r">options</span>, <span class="r65 r">path</span>, <b>null</b>, <b>false</b>);
		}
		
		<b>public string</b> <a id="667f37254e164155" href="R/667f37254e164155.html" target="n" data-glyph="72,1" class="i method">ToGitPath</a> (<b>string</b> <span id="r67 rd" class="r67 r">path</span>)
		{
			<b>if</b> (<span class="r67 r">path</span> == <b>null</b>)
				<b>return null</b>;
			
			<span class="c">// If the path is absolute, make it relative to the working dir</span>
			<b>if</b> (<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#807960f08fca497d" class="i method">IsPathRooted</a> (<span class="r67 r">path</span>)) {
				<b>string</b> <span id="r68 rd" class="r68 r">repoPath</span> = <a href="#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>.<a href="@0@mscorlib/A.html#fc988fb267590f98" class="i method">TrimEnd</a> (<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#d1bb57592858d485" class="i field">DirectorySeparatorChar</a>);
				<span class="r67 r">path</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#1274738792cce835" class="i method">GetFullPath</a> (<span class="r67 r">path</span>).<a href="@0@mscorlib/A.html#fc988fb267590f98" class="i method">TrimEnd</a> (<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#d1bb57592858d485" class="i field">DirectorySeparatorChar</a>);
				<b>if</b> (<span class="r67 r">path</span> != <span class="r68 r">repoPath</span>) {
					<b>if</b> (!<span class="r67 r">path</span>.<a href="@0@mscorlib/A.html#23804789ea4c9c0e" class="i method">StartsWith</a> (<span class="r68 r">repoPath</span> + <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#d1bb57592858d485" class="i field">DirectorySeparatorChar</a>))
						<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#265d72f49e915224" class="t constructor">InvalidOperationException</a> (<span class="s">&quot;Path does not belong to the repository&quot;</span>);
					<span class="r67 r">path</span> = <span class="r67 r">path</span>.<a href="@0@mscorlib/A.html#882fa7998d6ca35a" class="i method">Substring</a> (<span class="r68 r">repoPath</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> + 1);
				}
			}
			<b>if</b> (<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#d1bb57592858d485" class="i field">DirectorySeparatorChar</a> != <span class="s">&#39;/&#39;</span>)
				<span class="r67 r">path</span> = <span class="r67 r">path</span>.<a href="@0@mscorlib/A.html#987da5dfb39f1927" class="i method">Replace</a> (<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#d1bb57592858d485" class="i field">DirectorySeparatorChar</a>, <span class="s">&#39;/&#39;</span>);
			<b>return</b> <span class="r67 r">path</span>;
		}
		
		<b>public string</b> <a id="33d52dc9e5561225" href="R/33d52dc9e5561225.html" target="n" data-glyph="72,1" class="i method">FromGitPath</a> (<b>string</b> <span id="r69 rd" class="r69 r">path</span>)
		{
			<b>if</b> (<span class="r69 r">path</span> == <b>null</b>)
				<b>return null</b>;
			
			<b>if</b> (<span class="r69 r">path</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> == 0)
				<b>return</b> <a href="#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>;
			<b>if</b> (<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#d1bb57592858d485" class="i field">DirectorySeparatorChar</a> != <span class="s">&#39;/&#39;</span>)
				<span class="r69 r">path</span> = <span class="r69 r">path</span>.<a href="@0@mscorlib/A.html#987da5dfb39f1927" class="i method">Replace</a> (<span class="s">&#39;/&#39;</span>, <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#d1bb57592858d485" class="i field">DirectorySeparatorChar</a>);
			<b>return</b> <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a> (<a href="#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>, <span class="r69 r">path</span>);
		}

		<b>public static implicit operator</b> <a href="/GitSharp.Core/A.html#a967877e73d4cc25" class="t t">CoreRepository</a>(<a href="#88d32bb614749450" class="t t">Repository</a> <span id="r70 rd" class="r70 r">repo</span>)
		{
			<b>return</b> <span class="r70 r">repo</span>.<a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>;
		}

		<b>public override string</b> <a id="bc34b04bf287da86" href="R/bc34b04bf287da86.html" target="n" data-glyph="72,1" class="i method">ToString</a>()
		{
			<b>return</b> <span class="s">&quot;Repository[&quot;</span> + <a href="#e864e55a83933585" class="i property">Directory</a> + <span class="s">&quot;]&quot;</span>;
		}

		<b>public void</b> <a id="df4b1c0689724ff3" href="R/df4b1c0689724ff3.html" target="n" data-glyph="72,1" class="i method">Close</a>()
		{
			<a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#eaacf452fa865f6c" class="i method">Dispose</a>();
		}

		<b>public void</b> <a id="2ad165afe3c2a17f" href="R/2ad165afe3c2a17f.html" target="n" data-glyph="72,1" class="i method">Dispose</a>()
		{
			<a href="#df4b1c0689724ff3" class="i method">Close</a>();
		}

		<span class="k preprocess">#</span><span class="k preprocess">region</span> Repository initialization (git init)


		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Initializes a non-bare repository. Use GitDirectory to specify location.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The initialized repository</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public static</b> <a href="#88d32bb614749450" class="t t">Repository</a> <a id="30655b4b41df2274" href="R/30655b4b41df2274.html" target="n" data-glyph="72,1" class="i method">Init</a>(<b>string</b> <span id="r71 rd" class="r71 r">path</span>)
		{
			<b>return</b> <a href="#6067c2edb9f56381" class="i method">Init</a>(<span class="r71 r">path</span>, <b>false</b>);
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Initializes a repository. Use GitDirectory to specify the location. Default is the current directory.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r72 r">path</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r73 r">bare</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public static</b> <a href="#88d32bb614749450" class="t t">Repository</a> <a id="6067c2edb9f56381" href="R/6067c2edb9f56381.html" target="n" data-glyph="72,1" class="i method">Init</a>(<b>string</b> <span id="r72 rd" class="r72 r">path</span>, <b>bool</b> <span id="r73 rd" class="r73 r">bare</span>)
		{
			<a href="Commands/InitCommand.cs.html#03b3817efaa29e84" class="k">var</a> <span id="r74 rd" class="r74 r">cmd</span> = <b>new</b> <a href="Commands/InitCommand.cs.html#ca7dc90a522ab867" class="t constructor">InitCommand</a>() { <a href="Commands/AbstractCommand.cs.html#3841fa6a9bbb82fd" class="i property">GitDirectory</a> = <span class="r72 r">path</span>, <a href="Commands/InitCommand.cs.html#1145ab1c4f3b6068" class="i property">Bare</a> = <span class="r73 r">bare</span> };
			<b>return</b> <a href="#b862aa8e3e5a4cb1" class="i method">Init</a>(<span class="r74 r">cmd</span>);
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Initializes a repository in the current location using the provided git command&#39;s options.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r75 r">cmd</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public static</b> <a href="#88d32bb614749450" class="t t">Repository</a> <a id="b862aa8e3e5a4cb1" href="R/b862aa8e3e5a4cb1.html" target="n" data-glyph="72,1" class="i method">Init</a>(<a href="Commands/InitCommand.cs.html#03b3817efaa29e84" class="t t">InitCommand</a> <span id="r75 rd" class="r75 r">cmd</span>)
		{
			<span class="r75 r">cmd</span>.<a href="Commands/InitCommand.cs.html#9f848750d9a2135f" class="i method">Execute</a>();
			<b>return</b> <span class="r75 r">cmd</span>.<a href="Commands/AbstractCommand.cs.html#66a5a870b2efaba7" class="i property">Repository</a>;
		}

		<span class="k preprocess">#</span><span class="k preprocess">endregion</span>

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Checks if the directory given by the path is a valid non-bare git repository. The given path may either point to </span>
		<span class="c">///</span><span class="c"> the working directory or the repository&#39;s .git directory.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r76 r">path</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">Returns true if the given path is a valid git repository, false otherwise.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public static bool</b> <a id="d0d1144fb68d49af" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">IsValid</a>(<b>string</b> <span id="r76 rd" class="r76 r">path</span>)
		{
			<b>return</b> <a href="#71aa838cbe93ee81" class="i method">IsValid</a>(<span class="r76 r">path</span>, <b>false</b>);
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Checks if the directory given by the path is a valid git repository.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r77 r">path</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r78 r">bare</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">Returns true if the given path is a valid git repository, false otherwise.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public static bool</b> <a id="71aa838cbe93ee81" href="R/71aa838cbe93ee81.html" target="n" data-glyph="72,1" class="i method">IsValid</a>(<b>string</b> <span id="r77 rd" class="r77 r">path</span>, <b>bool</b> <span id="r78 rd" class="r78 r">bare</span>)
		{
			<b>if</b> (<span class="r77 r">path</span> == <b>null</b>)
				<b>return false</b>;
			<b>if</b> (!<span class="r78 r">bare</span>)
			{
				<b>if</b> (!<a href="@0@System/A.html#bbe3b2eb80ae5526" class="t t">Regex</a>.<a href="@0@System/A.html#ffaf97ebd1d02f3c" class="i method">IsMatch</a>(<span class="r77 r">path</span>, <span class="s">&quot;\\.git[/\\\\]?$&quot;</span>))
					<span class="r77 r">path</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<span class="r77 r">path</span>, <a href="/GitSharp.Core/A.html#4c9cf80bf668e5fb" class="t t">Constants</a>.<a href="/GitSharp.Core/A.html#9367fd41bca7cf44" class="i field">DOT_GIT</a>);
			}

			<b>if</b> (!<a href="#18e3fd5057a965dd" class="i method">DirExists</a>(<span class="r77 r">path</span>))
				<b>return false</b>;
			<b>if</b> (!<a href="#f6b14c2971f823a8" class="i method">FileExists</a>(<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<span class="r77 r">path</span>, <span class="s">&quot;HEAD&quot;</span>)))
				<b>return false</b>;
			<b>if</b> (!<a href="#f6b14c2971f823a8" class="i method">FileExists</a>(<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<span class="r77 r">path</span>, <span class="s">&quot;config&quot;</span>)))
				<b>return false</b>;
			<span class="c">//if (!DirExists(Path.Combine(path, &quot;description&quot;)))</span>
			<span class="c">//    return false;</span>
			<span class="c">//if (!DirExists(Path.Combine(path, &quot;hooks&quot;)))</span>
			<span class="c">//   return false;</span>
			<span class="c">//if (!DirExists(Path.Combine(path, &quot;info&quot;)))</span>
			<span class="c">//    return false;</span>
			<span class="c">//if (!DirExists(Path.Combine(path, &quot;info/exclude&quot;)))</span>
			<span class="c">//    return false;</span>
			<b>if</b> (!<a href="#18e3fd5057a965dd" class="i method">DirExists</a>(<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<span class="r77 r">path</span>, <span class="s">&quot;objects&quot;</span>)))
				<b>return false</b>;
			<b>if</b> (!<a href="#18e3fd5057a965dd" class="i method">DirExists</a>(<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<span class="r77 r">path</span>, <span class="s">&quot;objects/info&quot;</span>)))
				<b>return false</b>;
			<b>if</b> (!<a href="#18e3fd5057a965dd" class="i method">DirExists</a>(<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<span class="r77 r">path</span>, <span class="s">&quot;objects/pack&quot;</span>)))
				<b>return false</b>;
			<b>if</b> (!<a href="#18e3fd5057a965dd" class="i method">DirExists</a>(<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<span class="r77 r">path</span>, <span class="s">&quot;refs&quot;</span>)))
				<b>return false</b>;
			<b>if</b> (!<a href="#18e3fd5057a965dd" class="i method">DirExists</a>(<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<span class="r77 r">path</span>, <span class="s">&quot;refs/heads&quot;</span>)))
				<b>return false</b>;
			<b>if</b> (!<a href="#18e3fd5057a965dd" class="i method">DirExists</a>(<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<span class="r77 r">path</span>, <span class="s">&quot;refs/tags&quot;</span>)))
				<b>return false</b>;

			<a href="#88d32bb614749450" class="t t">Repository</a> <span id="r79 rd" class="r79 r">repo</span> = <b>null</b>;

			<b>try</b>
			{
				<span class="c">// let&#39;s see if it loads without throwing an exception</span>
				<span class="r79 r">repo</span> = <b>new</b> <a href="#71ac264decd52f9d" class="t constructor">Repository</a>(<span class="r77 r">path</span>);
			}
			<b>catch</b> (<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a>)
			{
				<b>return false</b>;
			}
			<b>finally</b>
			{
				<b>if</b> (<span class="r79 r">repo</span> != <b>null</b>)
				{
					<span class="r79 r">repo</span>.<a href="#2ad165afe3c2a17f" class="i method">Dispose</a>();
				}
			}
			<b>return true</b>;
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Searches for a git repository starting at the given path.</span>
		<span class="c">///</span><span class="c"> </span>
		<span class="c">///</span><span class="c"> Starting at the given path, searches up the file hierarchy for the next .git directory.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r80 r">starting_directory</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The path where the search should start or null to start at the current directory</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">A path if a repository has been found or null otherwise</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public static string</b> <a id="65e7f70f446f7f54" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">FindRepository</a>(<b>string</b> <span id="r80 rd" class="r80 r">starting_directory</span>)
		{
			<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r81 rd" class="r81 r">directory</span> = <span class="r80 r">starting_directory</span>;
			<b>try</b>
			{
				<b>if</b> (<span class="r81 r">directory</span> == <b>null</b>)
					<span class="r81 r">directory</span> = <span class="i n">System</span>.<span class="i n">IO</span>.<a href="@0@mscorlib/A.html#b3ad5f0ba800bb28" class="t t">Directory</a>.<a href="@0@mscorlib/A.html#4de7d0d0c291277b" class="i method">GetCurrentDirectory</a>();

				<b>while</b> (<b>true</b>)
				{
					<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r82 rd" class="r82 r">git</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<span class="r81 r">directory</span>, <a href="/GitSharp.Core/A.html#4c9cf80bf668e5fb" class="t t">Constants</a>.<a href="/GitSharp.Core/A.html#9367fd41bca7cf44" class="i field">DOT_GIT</a>);
					<b>if</b> (<a href="#18e3fd5057a965dd" class="i method">DirExists</a>(<span class="r82 r">git</span>))
						<b>return</b> <span class="r82 r">git</span>;

					<span class="c">//Get parent directory</span>
					<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r83 rd" class="r83 r">parent_directory</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#1274738792cce835" class="i method">GetFullPath</a>(<span class="r81 r">directory</span>), <span class="s">&quot;..&quot;</span>);
					<span class="r83 r">parent_directory</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#1274738792cce835" class="i method">GetFullPath</a>(<span class="r83 r">parent_directory</span>);
					<b>if</b> (<span class="r83 r">parent_directory</span> == <span class="r81 r">directory</span>) <span class="c">// &lt;-- we have reached a toplevel directory which doesn&#39;t contain a .git dir.</span>
						<b>return null</b>;
					<span class="r81 r">directory</span> = <span class="r83 r">parent_directory</span>;
				}
			}
			<b>catch</b> (<a href="@0@mscorlib/A.html#109b3ef6299ef9df" class="t t">ArgumentException</a>) <span class="c">// --&gt; invalid path form</span>
			{
				<b>return null</b>;
			}
			<b>catch</b> (<a href="@0@mscorlib/A.html#c6061cd41c022374" class="t t">SecurityException</a>) <span class="c">// --&gt; access denied</span>
			{
				<b>return null</b>;
			}
			<b>catch</b> (<a href="@0@mscorlib/A.html#94e3cb4b7b7d78be" class="t t">UnauthorizedAccessException</a>) <span class="c">// --&gt; access denied</span>
			{
				<b>return null</b>;
			}
			<b>catch</b> (<a href="@0@mscorlib/A.html#f61b250642abadb7" class="t t">PathTooLongException</a>)
			{
				<b>return null</b>;
			}
			<b>catch</b> (<a href="@0@mscorlib/A.html#99ee329017558ada" class="t t">NotSupportedException</a>) <span class="c">// --&gt; hmm?</span>
			{
				<b>return null</b>;
			}
		}

		<b>private static bool</b> <a id="18e3fd5057a965dd" href="R/18e3fd5057a965dd.html" target="n" data-glyph="76,1" class="i method">DirExists</a>(<b>string</b> <span id="r84 rd" class="r84 r">path</span>)
		{
			<b>return</b> <b>new</b> <a href="@0@mscorlib/A.html#683f5ff112df8d3a" class="t constructor">DirectoryInfo</a>(<span class="r84 r">path</span>).<a href="@0@mscorlib/A.html#6f88a05eb9231687" class="i property">Exists</a>;
		}

		<b>private static bool</b> <a id="f6b14c2971f823a8" href="R/f6b14c2971f823a8.html" target="n" data-glyph="76,1" class="i method">FileExists</a>(<b>string</b> <span id="r85 rd" class="r85 r">path</span>)
		{
			<b>return</b> <b>new</b> <a href="@0@mscorlib/A.html#1fe2c3953ba2a577" class="t constructor">FileInfo</a>(<span class="r85 r">path</span>).<a href="@0@mscorlib/A.html#1dcf92a404b7595d" class="i property">Exists</a>;
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Converts a given absolute or relative path into a repository relative path. </span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>protected string</b> <a id="ee2fac560482274f" href="R/ee2fac560482274f.html" target="n" data-glyph="75,1" class="i method">GetRelativePath</a>(<b>string</b> <span id="r86 rd" class="r86 r">path</span>)
		{
			<b>return</b> <span class="i n">Core</span>.<span class="i n">Util</span>.<a href="/GitSharp.Core/A.html#50cb4ca1720e7971" class="t t">PathUtil</a>.<a href="/GitSharp.Core/A.html#debd644a27f64503" class="i method">RelativePath</a>(<a href="#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>, <span class="r86 r">path</span>);
		}

		<span class="k preprocess">#</span><span class="k preprocess">region</span> Accessing git Objects

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Access a git object by name, id or path. Use the type parameter to tell what kind of object you like to get. Supported types are</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">ul</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">   </span><span class="c">&lt;</span><span class="c">il</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Blob.cs.html#c57b8c741c6ded7e" class="t t">Blob</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">&lt;/</span><span class="c">il</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">   </span><span class="c">&lt;</span><span class="c">il</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Branch.cs.html#bfaf9b4f712212b1" class="t t">Branch</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">&lt;/</span><span class="c">il</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">   </span><span class="c">&lt;</span><span class="c">il</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">GitSharp</span>.<a href="Commit.cs.html#bffc211799c30414" class="t t">Commit</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">&lt;/</span><span class="c">il</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">   </span><span class="c">&lt;</span><span class="c">il</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">&lt;/</span><span class="c">il</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">   </span><span class="c">&lt;</span><span class="c">il</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Tag.cs.html#f4a1b4a5402ce130" class="t t">Tag</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">&lt;/</span><span class="c">il</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">   </span><span class="c">&lt;</span><span class="c">il</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Tree.cs.html#9d106130ffa6f832" class="t t">Tree</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">&lt;/</span><span class="c">il</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">   </span><span class="c">&lt;</span><span class="c">il</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="AbstractTreeNode.cs.html#fe30d7b0e903ea40" class="t t">AbstractTreeNode</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> - use this if you are not sure about the type of a path (Tree or Leaf)</span><span class="c">&lt;/</span><span class="c">il</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">   </span><span class="c">&lt;</span><span class="c">il</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="AbstractObject.cs.html#a02667538ce8ae5e" class="t t">AbstractObject</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> - use this if you are not sure about the type yourself. You will get back an object of the correct type (Blob, Commit, Tag or Tree).</span><span class="c">&lt;/</span><span class="c">il</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">ul</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">	</span><span class="c">&lt;</span><span class="c">para</span><span class="c"> </span><span class="c">/&gt;</span>
		<span class="c">///</span><span class="c"> Branches, Commits or Tags may be accessed by name or reference expression. Currently supported are combinations of these:</span>
		<span class="c">///</span><span class="c">	</span><span class="c">&lt;</span><span class="c">ul</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">	  </span><span class="c">&lt;</span><span class="c">li</span><span class="c">&gt;</span><span class="c">hash - a SHA-1 hash</span><span class="c">&lt;/</span><span class="c">li</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">	  </span><span class="c">&lt;</span><span class="c">li</span><span class="c">&gt;</span><span class="c">refs/... - a ref name</span><span class="c">&lt;/</span><span class="c">li</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">	  </span><span class="c">&lt;</span><span class="c">li</span><span class="c">&gt;</span><span class="c">ref^n - nth parent reference</span><span class="c">&lt;/</span><span class="c">li</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">	  </span><span class="c">&lt;</span><span class="c">li</span><span class="c">&gt;</span><span class="c">ref~n - distance via parent reference</span><span class="c">&lt;/</span><span class="c">li</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">	  </span><span class="c">&lt;</span><span class="c">li</span><span class="c">&gt;</span><span class="c">ref@{n} - nth version of ref</span><span class="c">&lt;/</span><span class="c">li</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">	  </span><span class="c">&lt;</span><span class="c">li</span><span class="c">&gt;</span><span class="c">ref^{tree} - tree references by ref</span><span class="c">&lt;/</span><span class="c">li</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">	  </span><span class="c">&lt;</span><span class="c">li</span><span class="c">&gt;</span><span class="c">ref^{commit} - commit references by ref</span><span class="c">&lt;/</span><span class="c">li</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">	</span><span class="c">&lt;/</span><span class="c">ul</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">	</span><span class="c">&lt;</span><span class="c">para</span><span class="c"> </span><span class="c">/&gt;</span>
		<span class="c">///</span><span class="c">	Not supported is</span>
		<span class="c">///</span><span class="c">	</span><span class="c">&lt;</span><span class="c">ul</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">    </span><span class="c">&lt;</span><span class="c">li</span><span class="c">&gt;</span><span class="c">abbreviated SHA-1</span><span class="c">&lt;/</span><span class="c">li</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">	  </span><span class="c">&lt;</span><span class="c">li</span><span class="c">&gt;</span><span class="c">timestamps in reflogs, ref@{full or relative timestamp}</span><span class="c">&lt;/</span><span class="c">li</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">	</span><span class="c">&lt;/</span><span class="c">ul</span><span class="c">&gt;</span><span class="c">		</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">/&gt;</span>
		<span class="c">///</span><span class="c"> Tree or Leaf objects can be addressed by long hash or by their absolute or relative repository path</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public</b> <span class="r87 r t">T</span> <a id="5e454c16190811fb" href="R/5e454c16190811fb.html" target="n" data-glyph="72,1" class="i method">Get</a>&lt;<span id="r87 rd t" class="r87 r t">T</span>&gt;(<b>string</b> <span id="r88 rd" class="r88 r">identifier</span>) <b>where</b> <span class="r87 r t">T</span> : <b>class</b>
		{
			<b>if</b> (<b>typeof</b>(<span class="r87 r t">T</span>) == <b>typeof</b>(<a href="Blob.cs.html#c57b8c741c6ded7e" class="t t">Blob</a>))
				<b>return</b> <a href="#2826ef2b9e8c69bf" class="i method">GetBlob</a>(<span class="r88 r">identifier</span>) <b>as</b> <span class="r87 r t">T</span>;
			<b>if</b> (<b>typeof</b>(<span class="r87 r t">T</span>) == <b>typeof</b>(<a href="Branch.cs.html#bfaf9b4f712212b1" class="t t">Branch</a>))
				<b>return</b> <a href="#854682157e795eaa" class="i method">GetBranch</a>(<span class="r88 r">identifier</span>) <b>as</b> <span class="r87 r t">T</span>;
			<b>if</b> (<b>typeof</b>(<span class="r87 r t">T</span>) == <b>typeof</b>(<a href="Commit.cs.html#bffc211799c30414" class="t t">Commit</a>))
				<b>return</b> <a href="#3d87526d2f09d147" class="i method">GetCommit</a>(<span class="r88 r">identifier</span>) <b>as</b> <span class="r87 r t">T</span>;
			<b>if</b> (<b>typeof</b>(<span class="r87 r t">T</span>) == <b>typeof</b>(<a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a>))
				<b>return</b> <a href="#6981b751b4d3d7ef" class="i method">GetLeaf</a>(<span class="r88 r">identifier</span>) <b>as</b> <span class="r87 r t">T</span>;
			<b>if</b> (<b>typeof</b>(<span class="r87 r t">T</span>) == <b>typeof</b>(<a href="Tag.cs.html#f4a1b4a5402ce130" class="t t">Tag</a>))
				<b>return</b> <a href="#3821b65bc81d80da" class="i method">GetTag</a>(<span class="r88 r">identifier</span>) <b>as</b> <span class="r87 r t">T</span>;
			<b>if</b> (<b>typeof</b>(<span class="r87 r t">T</span>) == <b>typeof</b>(<a href="Tree.cs.html#9d106130ffa6f832" class="t t">Tree</a>))
				<b>return</b> <a href="#3c9dfa84ab887172" class="i method">GetTree</a>(<span class="r88 r">identifier</span>) <b>as</b> <span class="r87 r t">T</span>;
			<b>if</b> (<b>typeof</b>(<span class="r87 r t">T</span>) == <b>typeof</b>(<a href="AbstractTreeNode.cs.html#fe30d7b0e903ea40" class="t t">AbstractTreeNode</a>))
				<b>return</b> <a href="#29775a0d4d04e925" class="i method">GetTreeNode</a>(<span class="r88 r">identifier</span>) <b>as</b> <span class="r87 r t">T</span>;
			<b>if</b> (<b>typeof</b>(<span class="r87 r t">T</span>) == <b>typeof</b>(<a href="AbstractObject.cs.html#a02667538ce8ae5e" class="t t">AbstractObject</a>))
				<b>return</b> <a href="#992a6c0c0d69d56c" class="i method">Get</a>(<a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#8d7dd48b46ac1019" class="i method">Resolve</a>(<span class="r88 r">identifier</span>)) <b>as</b> <span class="r87 r t">T</span>;
			<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">&quot;Type parameter &quot;</span> + <b>typeof</b>(<span class="r87 r t">T</span>).<a href="@0@mscorlib/A.html#aa4f112f79364b6e" class="i property">Name</a> + <span class="s">&quot; is not supported by Get&lt;T&gt;!&quot;</span>);
		}

		<b>internal</b> <a href="AbstractObject.cs.html#a02667538ce8ae5e" class="t t">AbstractObject</a> <a id="992a6c0c0d69d56c" href="R/992a6c0c0d69d56c.html" target="n" data-glyph="74,1" class="i method">Get</a>(<a href="/GitSharp.Core/A.html#a54807441779f4c5" class="t t">ObjectId</a> <span id="r89 rd" class="r89 r">id</span>)
		{
			<b>return</b> <a href="AbstractObject.cs.html#a02667538ce8ae5e" class="t t">AbstractObject</a>.<a href="AbstractObject.cs.html#55b0377bd05051fe" class="i method">Wrap</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="r89 r">id</span>);
		}

		<b>internal</b> <a href="AbstractTreeNode.cs.html#fe30d7b0e903ea40" class="t t">AbstractTreeNode</a> <a id="29775a0d4d04e925" href="R/29775a0d4d04e925.html" target="n" data-glyph="74,1" class="i method">GetTreeNode</a>(<b>string</b> <span id="r90 rd" class="r90 r">path</span>)
		{
			<a href="AbstractObject.cs.html#a02667538ce8ae5e" class="k">var</a> <span id="r91 rd" class="r91 r">obj</span> = <a href="#210a41a4cc4df5c2" class="i property">Head</a>.<a href="Branch.cs.html#f093602d50fbbee3" class="i property">CurrentCommit</a>.<a href="Commit.cs.html#4492c9e61456067c" class="i property">Tree</a><a href="Tree.cs.html#158bcc2eb212b8d5">[</a><a href="#ee2fac560482274f" class="i method">GetRelativePath</a>(<span class="r90 r">path</span>)];
			<b>if</b> (<span class="r91 r">obj</span> == <b>null</b>)
				<b>return null</b>;
			<b>if</b> (<span class="r91 r">obj</span> <b>is</b> <a href="AbstractTreeNode.cs.html#fe30d7b0e903ea40" class="t t">AbstractTreeNode</a>)
				<b>return</b> <span class="r91 r">obj</span> <b>as</b> <a href="AbstractTreeNode.cs.html#fe30d7b0e903ea40" class="t t">AbstractTreeNode</a>;
			<b>return null</b>;
		}

		<b>internal</b> <a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a> <a id="6981b751b4d3d7ef" href="R/6981b751b4d3d7ef.html" target="n" data-glyph="74,1" class="i method">GetLeaf</a>(<b>string</b> <span id="r92 rd" class="r92 r">path</span>)
		{
			<a href="AbstractObject.cs.html#a02667538ce8ae5e" class="k">var</a> <span id="r93 rd" class="r93 r">obj</span> = <a href="#210a41a4cc4df5c2" class="i property">Head</a>.<a href="Branch.cs.html#f093602d50fbbee3" class="i property">CurrentCommit</a>.<a href="Commit.cs.html#4492c9e61456067c" class="i property">Tree</a><a href="Tree.cs.html#158bcc2eb212b8d5">[</a><a href="#ee2fac560482274f" class="i method">GetRelativePath</a>(<span class="r92 r">path</span>)];
			<b>if</b> (<span class="r93 r">obj</span> == <b>null</b>)
				<b>return null</b>;
			<b>if</b> (<span class="r93 r">obj</span> <b>is</b> <a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a>)
				<b>return</b> <span class="r93 r">obj</span> <b>as</b> <a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a>;
			<b>return null</b>;
		}

		<b>internal</b> <a href="Blob.cs.html#c57b8c741c6ded7e" class="t t">Blob</a> <a id="2826ef2b9e8c69bf" href="R/2826ef2b9e8c69bf.html" target="n" data-glyph="74,1" class="i method">GetBlob</a>(<b>string</b> <span id="r94 rd" class="r94 r">path</span>)
		{
			<span class="c">//if (path.Length==Constants.OBJECT_ID_LENGTH)</span>
			<a href="AbstractObject.cs.html#a02667538ce8ae5e" class="k">var</a> <span id="r95 rd" class="r95 r">obj</span> = <a href="#210a41a4cc4df5c2" class="i property">Head</a>.<a href="Branch.cs.html#f093602d50fbbee3" class="i property">CurrentCommit</a>.<a href="Commit.cs.html#4492c9e61456067c" class="i property">Tree</a><a href="Tree.cs.html#158bcc2eb212b8d5">[</a><a href="#ee2fac560482274f" class="i method">GetRelativePath</a>(<span class="r94 r">path</span>)];
			<b>if</b> (<span class="r95 r">obj</span> == <b>null</b>)
				<b>return null</b>;
			<b>if</b> (<span class="r95 r">obj</span> <b>is</b> <a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a>)
				<b>return</b> (<span class="r95 r">obj</span> <b>as</b> <a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a>).<a href="Leaf.cs.html#4b4b357bc6903c30" class="i property">Blob</a>;
			<b>if</b> (<span class="r95 r">obj</span>.<a href="AbstractObject.cs.html#8d535c904b5432d8" class="i property">IsBlob</a>)
				<b>return</b> (<a href="Blob.cs.html#c57b8c741c6ded7e" class="t t">Blob</a>)<span class="r95 r">obj</span>;
			<b>return</b> <b>new</b> <a href="Blob.cs.html#403fa118359d47bc" class="t constructor">Blob</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="r95 r">obj</span>.<a href="AbstractObject.cs.html#8e8765922f1fbec8" class="i field">_id</a>);
		}

		<b>internal</b> <a href="Tag.cs.html#f4a1b4a5402ce130" class="t t">Tag</a> <a id="3821b65bc81d80da" href="R/3821b65bc81d80da.html" target="n" data-glyph="74,1" class="i method">GetTag</a>(<b>string</b> <span id="r96 rd" class="r96 r">identifier</span>)
		{
			<b>return</b> <b>new</b> <a href="Tag.cs.html#de8eb8fecf65afe7" class="t constructor">Tag</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="r96 r">identifier</span>);
		}

		<b>internal</b> <a href="Branch.cs.html#bfaf9b4f712212b1" class="t t">Branch</a> <a id="854682157e795eaa" href="R/854682157e795eaa.html" target="n" data-glyph="74,1" class="i method">GetBranch</a>(<b>string</b> <span id="r97 rd" class="r97 r">identifier</span>)
		{
			<b>return</b> <b>new</b> <a href="Branch.cs.html#3056945e89b88f87" class="t constructor">Branch</a>(<a href="#88d32bb614749450" class="k">this</a>, <span class="r97 r">identifier</span>);
		}

		<b>internal</b> <a href="Commit.cs.html#bffc211799c30414" class="t t">Commit</a> <a id="3d87526d2f09d147" href="R/3d87526d2f09d147.html" target="n" data-glyph="74,1" class="i method">GetCommit</a>(<b>string</b> <span id="r98 rd" class="r98 r">identifier</span>)
		{
			<b>return</b> <a href="#992a6c0c0d69d56c" class="i method">Get</a>(<a href="#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#8d7dd48b46ac1019" class="i method">Resolve</a>(<span class="r98 r">identifier</span>)) <b>as</b> <a href="Commit.cs.html#bffc211799c30414" class="t t">Commit</a>;
		}

		<b>internal</b> <a href="Tree.cs.html#9d106130ffa6f832" class="t t">Tree</a> <a id="3c9dfa84ab887172" href="R/3c9dfa84ab887172.html" target="n" data-glyph="74,1" class="i method">GetTree</a>(<b>string</b> <span id="r99 rd" class="r99 r">path</span>)
		{
			<b>return</b> <a href="#210a41a4cc4df5c2" class="i property">Head</a>.<a href="Branch.cs.html#f093602d50fbbee3" class="i property">CurrentCommit</a>.<a href="Commit.cs.html#4492c9e61456067c" class="i property">Tree</a><a href="Tree.cs.html#158bcc2eb212b8d5">[</a><a href="#ee2fac560482274f" class="i method">GetRelativePath</a>(<span class="r99 r">path</span>)] <b>as</b> <a href="Tree.cs.html#9d106130ffa6f832" class="t t">Tree</a>;
		}


		<span class="k preprocess">#</span><span class="k preprocess">endregion</span>
	}
}</pre></td></tr></table></div></body></html>
