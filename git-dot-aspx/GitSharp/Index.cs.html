<!DOCTYPE html>
<html><head><title>Index.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(424);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#GitSharp/Index.cs" target="_top">Index.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#GitSharp" target="_top">lib\GitSharp\GitSharp\GitSharp.csproj</a> (GitSharp)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">/*
 * Copyright (C) 2009, Henon &lt;meinrad.recheis@gmail.com&gt;
 *
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or
 * without modification, are permitted provided that the following
 * conditions are met:
 *
 * - Redistributions of source code must retain the above copyright
 *   notice, this list of conditions and the following disclaimer.
 *
 * - Redistributions in binary form must reproduce the above
 *   copyright notice, this list of conditions and the following
 *   disclaimer in the documentation and/or other materials provided
 *   with the distribution.
 *
 * - Neither the name of the Git Development Community nor the
 *   names of its contributors may be used to endorse or promote
 *   products derived from this software without specific prior
 *   written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
 * CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="t">CoreCommit</span> = <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#6c448dd0f2a39a5d" class="t t">Commit</a>;

<b>namespace</b> <span class="i n">GitSharp</span>
{

	<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
	<span class="c">///</span><span class="c"> Represents the index of a git repository which keeps track of changes that are about to be committed.</span>
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
	<b>public class</b> <a id="7a5e9baba8ee662d" href="R/7a5e9baba8ee662d.html" target="n" data-glyph="0,0" class="t t">Index</a>
	{
		<b>private</b> <a href="Repository.cs.html#88d32bb614749450" class="t t">Repository</a> <a id="ec68c12488bd0c24" href="R/ec68c12488bd0c24.html" target="n" data-glyph="46,1" class="i field">_repo</a>;

		<b>public</b> <a id="0c389b055a9d5f69" href="R/0c389b055a9d5f69.html" target="n" data-glyph="72,1" class="i constructor">Index</a>(<a href="Repository.cs.html#88d32bb614749450" class="t t">Repository</a> <span id="r0 rd" class="r0 r">repo</span>)
		{
			<a href="#ec68c12488bd0c24" class="i field">_repo</a> = <span class="r0 r">repo</span>;
			<span class="c">//GitIndex.FilenameEncoding = repo.PreferredEncoding;</span>
			<span class="c">//if (_repo.PreferredEncoding != Encoding.UTF8 &amp;&amp; _repo.PreferredEncoding != Encoding.Default)</span>
			<span class="c">//   GitIndex.FilenameEncoding = Encoding.Default;</span>
		}

		<b>static</b> <a id="29d4161c596bb408" href="R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">Index</a>()
		{
			<a href="#4edb70b894891cdb" class="i property">PathEncoding</a> = <a href="@0@mscorlib/A.html#3b6090c501893c25" class="t t">Encoding</a>.<a href="@0@mscorlib/A.html#a10eb90a3d884500" class="i property">UTF8</a>;
			<a href="#baad19077369110d" class="i property">ContentEncoding</a> = <a href="@0@mscorlib/A.html#3b6090c501893c25" class="t t">Encoding</a>.<a href="@0@mscorlib/A.html#a10eb90a3d884500" class="i property">UTF8</a>;
		}

		<b>internal</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#f85fef7d9e501a33" class="t t">GitIndex</a> <a id="3cae7402ed05081d" href="R/3cae7402ed05081d.html" target="n" data-glyph="104,1" class="i property">GitIndex</a>
		{
			<b>get</b>
			{
				<b>return</b> <a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#e0080a5fa643374c" class="i property">Index</a>;
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Add all untracked files to the index and stage all changes (like git add .)</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public void</b> <a id="e6dbcea34c527ffa" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AddAll</a>()
		{
			<a href="#b9fbd5ebcb3b0a18" class="i method">Add</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>);
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Adds untracked files or directories to the index and writes the index to the disk (like &quot;git add&quot;).</span>
		<span class="c">///</span><span class="c"> For tracked files that were modified, it stages the modification. Is a no-op for tracked files that were</span>
		<span class="c">///</span><span class="c"> not modified.</span>
		<span class="c">///</span><span class="c"> </span>
		<span class="c">///</span><span class="c"> Note: Add as many files as possible by one call of this method for best performance.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">paths</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Paths to add to the index</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<b>public void</b> <a id="b9fbd5ebcb3b0a18" href="R/b9fbd5ebcb3b0a18.html" target="n" data-glyph="72,1" class="i method">Add</a>(<b>params string</b>[] <span id="r1 rd" class="r1 r">paths</span>)
		{
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#42148351d6aeb41d" class="i method">RereadIfNecessary</a>();
			<b>foreach</b> (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r2 rd" class="r2 r">absolute_or_relative_path</span> <b>in</b> <span class="r1 r">paths</span>)
			{
				<b>string</b> <span id="r3 rd" class="r3 r">path</span> = <span class="r2 r">absolute_or_relative_path</span>;
				<b>if</b> (!<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#807960f08fca497d" class="i method">IsPathRooted</a>(<span class="r2 r">absolute_or_relative_path</span>))
					<span class="r3 r">path</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>, <span class="r3 r">path</span>);
				<b>if</b> (<b>new</b> <a href="@0@mscorlib/A.html#1fe2c3953ba2a577" class="t constructor">FileInfo</a>(<span class="r3 r">path</span>).<a href="@0@mscorlib/A.html#1dcf92a404b7595d" class="i property">Exists</a>)
					<a href="#f5baeab6d102c696" class="i method">AddFile</a>(<b>new</b> <a href="@0@mscorlib/A.html#1fe2c3953ba2a577" class="t constructor">FileInfo</a>(<span class="r3 r">path</span>));
				<b>else if</b> (<b>new</b> <a href="@0@mscorlib/A.html#683f5ff112df8d3a" class="t constructor">DirectoryInfo</a>(<span class="r3 r">path</span>).<a href="@0@mscorlib/A.html#6f88a05eb9231687" class="i property">Exists</a>)
					<a href="#b69b5b49ab2368b3" class="i method">AddDirectory</a>(<b>new</b> <a href="@0@mscorlib/A.html#683f5ff112df8d3a" class="t constructor">DirectoryInfo</a>(<span class="r3 r">path</span>));
				<b>else
					throw</b> <b>new</b> <a href="@0@mscorlib/A.html#4b20cd3790b6426a" class="t constructor">ArgumentException</a>(<span class="s">&quot;File or directory at &lt;&quot;</span> + <span class="r3 r">path</span> + <span class="s">&quot;&gt; doesn&#39;t seem to exist.&quot;</span>, <span class="s">&quot;path&quot;</span>);
			}
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#9b062f27c1057bff" class="i method">write</a>();
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Add a file to index (without relying on the working directory) by specifying the file&#39;s content as string. </span>
		<span class="c">///</span><span class="c"> The added file doesn&#39;t need to exist in the working directory.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r4 r">path</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Relative path in the working directory. Note: the path is encoded using PathEncoding</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r5 r">content</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The content as string. Note: the content is encoded using ContentEncoding</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<b>public void</b> <a id="da65f2a247d4a85c" href="R/da65f2a247d4a85c.html" target="n" data-glyph="72,1" class="i method">AddContent</a>(<b>string</b> <span id="r4 rd" class="r4 r">path</span>, <b>string</b> <span id="r5 rd" class="r5 r">content</span>)
		{
			<a href="#179fc93415f798fc" class="i method">AddContent</a>(<a href="#4edb70b894891cdb" class="i property">PathEncoding</a>.<a href="@0@mscorlib/A.html#83f2d2c6f22db1a9" class="i method">GetBytes</a>(<span class="r4 r">path</span>), <a href="#baad19077369110d" class="i property">ContentEncoding</a>.<a href="@0@mscorlib/A.html#83f2d2c6f22db1a9" class="i method">GetBytes</a>(<span class="r5 r">content</span>));
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Add content to the index directly without the need for a file in the working directory.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">encoded_relative_filepath</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">encoded file path (relative to working directory)</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r7 r">encoded_content</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">encoded content</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<b>public void</b> <a id="179fc93415f798fc" href="R/179fc93415f798fc.html" target="n" data-glyph="72,1" class="i method">AddContent</a>(<b>byte</b>[] <span id="r6 rd" class="r6 r">encoded_relative_filepath</span>, <b>byte</b>[] <span id="r7 rd" class="r7 r">encoded_content</span>)
		{
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#42148351d6aeb41d" class="i method">RereadIfNecessary</a>();
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#9304922061976547" class="i method">add</a>(<span class="r6 r">encoded_relative_filepath</span>, <span class="r7 r">encoded_content</span>);
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#9b062f27c1057bff" class="i method">write</a>();
		}

		<b>private void</b> <a id="f5baeab6d102c696" href="R/f5baeab6d102c696.html" target="n" data-glyph="76,1" class="i method">AddFile</a>(<a href="@0@mscorlib/A.html#4ee673c1a4ecad41" class="t t">FileInfo</a> <span id="r8 rd" class="r8 r">path</span>)
		{
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#d27534d6f48def1b" class="i method">add</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#8728658bd6901bbe" class="i property">WorkingDirectory</a>, <span class="r8 r">path</span>);
		}

		<b>private</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#ece4871b1031e230" class="t t">IgnoreHandler</a> <a id="2e5f174ad0c3cf9c" href="R/2e5f174ad0c3cf9c.html" target="n" data-glyph="46,1" class="i field">_ignoreHandler</a>;
		<b>public</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#ece4871b1031e230" class="t t">IgnoreHandler</a> <a id="6c43882cb0654ee7" href="R/6c43882cb0654ee7.html" target="n" data-glyph="102,1" class="i property">IgnoreHandler</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#2e5f174ad0c3cf9c" class="i field">_ignoreHandler</a> == <b>null</b>)
					<a href="#2e5f174ad0c3cf9c" class="i field">_ignoreHandler</a> = <b>new</b> <span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#9efa22b2e2dcc73d" class="t constructor">IgnoreHandler</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>);
				<b>return</b> <a href="#2e5f174ad0c3cf9c" class="i field">_ignoreHandler</a>;
			}
		}

		<b>private void</b> <a id="b69b5b49ab2368b3" href="R/b69b5b49ab2368b3.html" target="n" data-glyph="76,1" class="i method">AddDirectory</a>(<a href="@0@mscorlib/A.html#30fa608717e5ce8e" class="t t">DirectoryInfo</a> <span id="r9 rd" class="r9 r">dir</span>)
		{
			<b>foreach</b> (<a href="@0@mscorlib/A.html#4ee673c1a4ecad41" class="k">var</a> <span id="r10 rd" class="r10 r">file</span> <b>in</b> <span class="r9 r">dir</span>.<a href="@0@mscorlib/A.html#830504d0bd9706f2" class="i method">GetFiles</a>())
				<b>if</b> (!<a href="#6c43882cb0654ee7" class="i property">IgnoreHandler</a>.<a href="/GitSharp.Core/A.html#22c7b1fb1e7a021b" class="i method">IsIgnored</a>(<span class="r10 r">file</span>.<a href="@0@mscorlib/A.html#0f9b506168f8cec0" class="i property">FullName</a>))
					<a href="#f5baeab6d102c696" class="i method">AddFile</a>(<span class="r10 r">file</span>);
			<b>foreach</b> (<a href="@0@mscorlib/A.html#30fa608717e5ce8e" class="k">var</a> <span id="r11 rd" class="r11 r">subdir</span> <b>in</b> <span class="r9 r">dir</span>.<a href="@0@mscorlib/A.html#0efed0313328198f" class="i method">GetDirectories</a>())
				<b>if</b> (<span class="r11 r">subdir</span>.<a href="@0@mscorlib/A.html#5846640afdace004" class="i property">Name</a> != <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#4c9cf80bf668e5fb" class="t t">Constants</a>.<a href="/GitSharp.Core/A.html#9367fd41bca7cf44" class="i field">DOT_GIT</a> &amp;&amp; !<a href="#6c43882cb0654ee7" class="i property">IgnoreHandler</a>.<a href="/GitSharp.Core/A.html#22c7b1fb1e7a021b" class="i method">IsIgnored</a>(<span class="r11 r">subdir</span>.<a href="@0@mscorlib/A.html#0f9b506168f8cec0" class="i property">FullName</a>))
					<a href="#b69b5b49ab2368b3" class="i method">AddDirectory</a>(<span class="r11 r">subdir</span>);
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Removes files or directories from the index which are no longer to be tracked. </span>
		<span class="c">///</span><span class="c"> Does not delete files from the working directory. Use </span><span class="c">&lt;</span><span class="c">seealso</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#803ba523201d5b90" class="i method">Delete</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> to remove and delete files.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r12 r">paths</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<b>public void</b> <a id="331316f0a4face0a" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Remove</a>(<b>params string</b>[] <span id="r12 rd" class="r12 r">paths</span>)
		{
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#42148351d6aeb41d" class="i method">RereadIfNecessary</a>();
			<b>foreach</b> (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r13 rd" class="r13 r">absolute_or_relative_path</span> <b>in</b> <span class="r12 r">paths</span>)
			{
				<b>string</b> <span id="r14 rd" class="r14 r">path</span> = <span class="r13 r">absolute_or_relative_path</span>;
				<b>string</b> <span id="r15 rd" class="r15 r">relative_path</span> = <span class="r13 r">absolute_or_relative_path</span>;
				<b>if</b> (!<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#807960f08fca497d" class="i method">IsPathRooted</a>(<span class="r13 r">absolute_or_relative_path</span>))
					<span class="r14 r">path</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>, <span class="r13 r">absolute_or_relative_path</span>);
				<b>else</b>
					<span class="r15 r">relative_path</span> = <span class="i n">Core</span>.<span class="i n">Util</span>.<a href="/GitSharp.Core/A.html#50cb4ca1720e7971" class="t t">PathUtil</a>.<a href="/GitSharp.Core/A.html#debd644a27f64503" class="i method">RelativePath</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>, <span class="r13 r">absolute_or_relative_path</span>);
				<b>if</b> (<b>new</b> <a href="@0@mscorlib/A.html#1fe2c3953ba2a577" class="t constructor">FileInfo</a>(<span class="r14 r">path</span>).<a href="@0@mscorlib/A.html#1dcf92a404b7595d" class="i property">Exists</a>)
					<a href="#367c5a2721f1bf13" class="i method">RemoveFile</a>(<b>new</b> <a href="@0@mscorlib/A.html#1fe2c3953ba2a577" class="t constructor">FileInfo</a>(<span class="r14 r">path</span>), <b>false</b>);
				<b>else if</b> (<b>new</b> <a href="@0@mscorlib/A.html#683f5ff112df8d3a" class="t constructor">DirectoryInfo</a>(<span class="r14 r">path</span>).<a href="@0@mscorlib/A.html#6f88a05eb9231687" class="i property">Exists</a>)
					<a href="#345a9ec774fc3faa" class="i method">RemoveDirectory</a>(<b>new</b> <a href="@0@mscorlib/A.html#683f5ff112df8d3a" class="t constructor">DirectoryInfo</a>(<span class="r14 r">path</span>), <b>false</b>);
				<b>else</b>
					<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#1206181d4fee4cc3" class="i method">Remove</a>(<span class="r15 r">relative_path</span>);
			}
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#9b062f27c1057bff" class="i method">write</a>();
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Removes files or directories from the index and delete them from the working directory.</span>
		<span class="c">///</span><span class="c"> </span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r16 r">paths</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<b>public void</b> <a id="803ba523201d5b90" href="R/803ba523201d5b90.html" target="n" data-glyph="72,1" class="i method">Delete</a>(<b>params string</b>[] <span id="r16 rd" class="r16 r">paths</span>)
		{
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#42148351d6aeb41d" class="i method">RereadIfNecessary</a>();
			<b>foreach</b> (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r17 rd" class="r17 r">absolute_or_relative_path</span> <b>in</b> <span class="r16 r">paths</span>)
			{
				<b>string</b> <span id="r18 rd" class="r18 r">path</span> = <span class="r17 r">absolute_or_relative_path</span>;
				<b>if</b> (!<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#807960f08fca497d" class="i method">IsPathRooted</a>(<span class="r17 r">absolute_or_relative_path</span>))
					<span class="r18 r">path</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>, <span class="r18 r">path</span>);
				<b>if</b> (<b>new</b> <a href="@0@mscorlib/A.html#1fe2c3953ba2a577" class="t constructor">FileInfo</a>(<span class="r18 r">path</span>).<a href="@0@mscorlib/A.html#1dcf92a404b7595d" class="i property">Exists</a>)
					<a href="#367c5a2721f1bf13" class="i method">RemoveFile</a>(<b>new</b> <a href="@0@mscorlib/A.html#1fe2c3953ba2a577" class="t constructor">FileInfo</a>(<span class="r18 r">path</span>), <b>true</b>);
				<b>else if</b> (<b>new</b> <a href="@0@mscorlib/A.html#683f5ff112df8d3a" class="t constructor">DirectoryInfo</a>(<span class="r18 r">path</span>).<a href="@0@mscorlib/A.html#6f88a05eb9231687" class="i property">Exists</a>)
					<a href="#345a9ec774fc3faa" class="i method">RemoveDirectory</a>(<b>new</b> <a href="@0@mscorlib/A.html#683f5ff112df8d3a" class="t constructor">DirectoryInfo</a>(<span class="r18 r">path</span>), <b>true</b>);
				<b>else
					throw</b> <b>new</b> <a href="@0@mscorlib/A.html#4b20cd3790b6426a" class="t constructor">ArgumentException</a>(<span class="s">&quot;File or directory at &lt;&quot;</span> + <span class="r18 r">path</span> + <span class="s">&quot;&gt; doesn&#39;t seem to exist.&quot;</span>, <span class="s">&quot;path&quot;</span>);
			}
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#9b062f27c1057bff" class="i method">write</a>();
		}

		<b>private void</b> <a id="367c5a2721f1bf13" href="R/367c5a2721f1bf13.html" target="n" data-glyph="76,1" class="i method">RemoveFile</a>(<a href="@0@mscorlib/A.html#4ee673c1a4ecad41" class="t t">FileInfo</a> <span id="r19 rd" class="r19 r">path</span>, <b>bool</b> <span id="r20 rd" class="r20 r">delete_file</span>)
		{
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#4f2fea13b7cafa06" class="i method">remove</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#8728658bd6901bbe" class="i property">WorkingDirectory</a>, <span class="r19 r">path</span>); <span class="c">// Todo: change GitIndex.Remove to remove(DirectoryInfo , FileInfo) ??</span>
			<b>if</b> (<span class="r20 r">delete_file</span>)
				<span class="r19 r">path</span>.<a href="@0@mscorlib/A.html#4624f270de002a1a" class="i method">Delete</a>();
		}

		<b>private void</b> <a id="345a9ec774fc3faa" href="R/345a9ec774fc3faa.html" target="n" data-glyph="76,1" class="i method">RemoveDirectory</a>(<a href="@0@mscorlib/A.html#30fa608717e5ce8e" class="t t">DirectoryInfo</a> <span id="r21 rd" class="r21 r">dir</span>, <b>bool</b> <span id="r22 rd" class="r22 r">delete_dir</span>)
		{
			<b>foreach</b> (<a href="@0@mscorlib/A.html#4ee673c1a4ecad41" class="k">var</a> <span id="r23 rd" class="r23 r">file</span> <b>in</b> <span class="r21 r">dir</span>.<a href="@0@mscorlib/A.html#830504d0bd9706f2" class="i method">GetFiles</a>())
				<a href="#367c5a2721f1bf13" class="i method">RemoveFile</a>(<span class="r23 r">file</span>, <span class="r22 r">delete_dir</span>);
			<b>foreach</b> (<a href="@0@mscorlib/A.html#30fa608717e5ce8e" class="k">var</a> <span id="r24 rd" class="r24 r">subdir</span> <b>in</b> <span class="r21 r">dir</span>.<a href="@0@mscorlib/A.html#0efed0313328198f" class="i method">GetDirectories</a>())
				<a href="#345a9ec774fc3faa" class="i method">RemoveDirectory</a>(<span class="r24 r">subdir</span>, <span class="r22 r">delete_dir</span>);
			<b>if</b> (<span class="r22 r">delete_dir</span>)
				<span class="r21 r">dir</span>.<a href="@0@mscorlib/A.html#23bca6acd6ccc2a7" class="i method">Delete</a>(<b>true</b>);
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Stages the given files. Untracked files are added. This is an alias for Add.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r25 r">paths</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<b>public void</b> <a id="62b0e00c54060a77" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Stage</a>(<b>params string</b>[] <span id="r25 rd" class="r25 r">paths</span>)
		{
			<a href="#b9fbd5ebcb3b0a18" class="i method">Add</a>(<span class="r25 r">paths</span>);
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> This is an alias for AddContent.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public void</b> <a id="e2ab16a181a08404" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">StageContent</a>(<b>string</b> <span id="r26 rd" class="r26 r">path</span>, <b>string</b> <span id="r27 rd" class="r27 r">content</span>)
		{
			<a href="#da65f2a247d4a85c" class="i method">AddContent</a>(<span class="r26 r">path</span>, <span class="r27 r">content</span>);
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Unstage overwrites staged files in the index with their current version in HEAD. In case of newly added files they are removed from the index.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r28 r">paths</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Relative paths to files you want to unstage.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<b>public void</b> <a id="3bd202ff455162e4" href="R/3bd202ff455162e4.html" target="n" data-glyph="72,1" class="i method">Unstage</a>(<b>params string</b>[] <span id="r28 rd" class="r28 r">paths</span>)
		{
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#42148351d6aeb41d" class="i method">RereadIfNecessary</a>();
			<b>foreach</b> (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r29 rd" class="r29 r">absolute_or_relative_path</span> <b>in</b> <span class="r28 r">paths</span>)
			{
				<b>string</b> <span id="r30 rd" class="r30 r">path</span> = <span class="r29 r">absolute_or_relative_path</span>;
				<b>if</b> (<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#807960f08fca497d" class="i method">IsPathRooted</a>(<span class="r29 r">absolute_or_relative_path</span>))
					<span class="r30 r">path</span> = <span class="i n">Core</span>.<span class="i n">Util</span>.<a href="/GitSharp.Core/A.html#50cb4ca1720e7971" class="t t">PathUtil</a>.<a href="/GitSharp.Core/A.html#debd644a27f64503" class="i method">RelativePath</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>, <span class="r29 r">absolute_or_relative_path</span>);
				<b>if</b> (<a href="#7a5e9baba8ee662d" class="k">this</a><a href="#4fc8d06f1420d283">[</a><span class="r30 r">path</span>] == <b>null</b>)
					<b>return</b>;
				<a href="Leaf.cs.html#ba95a61a5f60aa77" class="k">var</a> <span id="r31 rd" class="r31 r">blob</span> = <a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#5e454c16190811fb" class="i method">Get</a>&lt;<a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a>&gt;(<span class="r30 r">path</span>); <span class="c">// &lt;--- we wouldn&#39;t want to stage something that is not representing a file</span>
				<b>if</b> (<span class="r31 r">blob</span> == <b>null</b>)
					<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#1206181d4fee4cc3" class="i method">Remove</a>(<span class="r30 r">path</span>);
				<b>else</b>
					<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#9304922061976547" class="i method">add</a>(<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#a967877e73d4cc25" class="t t">Repository</a>.<a href="/GitSharp.Core/A.html#6cad4279396ab06a" class="i method">GitInternalSlash</a>(<a href="#4edb70b894891cdb" class="i property">PathEncoding</a>.<a href="@0@mscorlib/A.html#83f2d2c6f22db1a9" class="i method">GetBytes</a>(<span class="r30 r">path</span>)), <span class="r31 r">blob</span>.<a href="Leaf.cs.html#7ee683017e92055e" class="i property">RawData</a>);
			}
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#9b062f27c1057bff" class="i method">write</a>();
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Check out the index into the working directory. Any modified files will be overwritten.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">/&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">seealso</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Branch.cs.html#bfaf9b4f712212b1" class="t t">Branch</a>.<a href="Branch.cs.html#d2b344e1077745e1" class="i method">Checkout</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> to checkout from a commit.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public void</b> <a id="9228aa0eb9122370" href="R/9228aa0eb9122370.html" target="n" data-glyph="72,1" class="i method">Checkout</a>()
		{
			<a href="#1c0e50efcab484f3" class="i method">Checkout</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>);
		}

		<span class="c">// [henon] we do not publicly expose checking out into a custom directory, as this is an unrealistic use case and conflicts with checking out paths. </span>
		<span class="c">// it is possible anyway by iterating over the Entries and writing the contents of each entry into a custom directory!</span>
		<b>private void</b> <a id="1c0e50efcab484f3" href="R/1c0e50efcab484f3.html" target="n" data-glyph="76,1" class="i method">Checkout</a>(<b>string</b> <span id="r32 rd" class="r32 r">directory</span>)
		{
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#42148351d6aeb41d" class="i method">RereadIfNecessary</a>();
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#ecc0a20b82c9a53b" class="i method">checkout</a>(<b>new</b> <a href="@0@mscorlib/A.html#1fe2c3953ba2a577" class="t constructor">FileInfo</a>(<span class="r32 r">directory</span>));
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Check out given paths from the index overwriting files in the working directory. Modified files might be overwritten.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r33 r">paths</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<b>public void</b> <a id="56553e9bb92663d6" href="R/56553e9bb92663d6.html" target="n" data-glyph="72,1" class="i method">Checkout</a>(<b>params string</b>[] <span id="r33 rd" class="r33 r">paths</span>)
		{
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#42148351d6aeb41d" class="i method">RereadIfNecessary</a>();
			<b>foreach</b> (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r34 rd" class="r34 r">absolute_or_relative_path</span> <b>in</b> <span class="r33 r">paths</span>)
			{
				<b>string</b> <span id="r35 rd" class="r35 r">path</span> = <span class="r34 r">absolute_or_relative_path</span>;
				<b>if</b> (<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#807960f08fca497d" class="i method">IsPathRooted</a>(<span class="r34 r">absolute_or_relative_path</span>))
					<span class="r35 r">path</span> = <span class="i n">Core</span>.<span class="i n">Util</span>.<a href="/GitSharp.Core/A.html#50cb4ca1720e7971" class="t t">PathUtil</a>.<a href="/GitSharp.Core/A.html#debd644a27f64503" class="i method">RelativePath</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>, <span class="r34 r">absolute_or_relative_path</span>);
				<a href="/GitSharp.Core/A.html#ada66cbaf2f188da" class="k">var</a> <span id="r36 rd" class="r36 r">e</span> = <a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#90f168d780eef362" class="i method">GetEntry</a>(<span class="r35 r">path</span>);
				<b>if</b> (<span class="r36 r">e</span> == <b>null</b>)
					<b>continue</b>;
				<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#334fa795b5d1b4ce" class="i method">checkoutEntry</a>(<b>new</b> <a href="@0@mscorlib/A.html#1fe2c3953ba2a577" class="t constructor">FileInfo</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>), <span class="r36 r">e</span>);
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Writes the index to the disk.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public void</b> <a id="4160d87ea318251a" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Write</a>()
		{
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#9b062f27c1057bff" class="i method">write</a>();
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Reads the index from the disk</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public void</b> <a id="b8e02d0fd06d6172" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Read</a>()
		{
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#e0ebbc0131ba1b87" class="i method">Read</a>();
		}

		<span class="c">//public RepositoryStatus CompareAgainstWorkingDirectory(bool honor_ignore_rules)</span>

		<b>public</b> <a href="RepositoryStatus.cs.html#b7b6e10304dbda3a" class="t t">RepositoryStatus</a> <a id="9b9067ea0e4a34f9" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Status</a>
		{
			<b>get</b>
			{
				<b>return</b> <a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#35053c736582f71b" class="i property">Status</a>;
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Returns true if the index has been changed, which means there are changes to be committed. This</span>
		<span class="c">///</span><span class="c"> is not to be confused with the status of the working directory. If changes in the working directory have not been</span>
		<span class="c">///</span><span class="c"> staged then IsChanged is false.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public bool</b> <a id="78ecac17f33baab0" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">IsChanged</a>
		{
			<b>get</b>
			{
				<b>return</b> <a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#531eaeee807e590f" class="i property">IsChanged</a>;
			}
		}

		<b>public</b> <a href="Commit.cs.html#bffc211799c30414" class="t t">Commit</a> <a id="702c8498f03f2d97" href="R/702c8498f03f2d97.html" target="n" data-glyph="72,1" class="i method">CommitChanges</a>(<b>string</b> <span id="r37 rd" class="r37 r">message</span>, <a href="Author.cs.html#a62af5f74cd98a14" class="t t">Author</a> <span id="r38 rd" class="r38 r">author</span>)
		{
			<b>if</b> (<b>string</b>.<a href="@0@mscorlib/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<span class="r37 r">message</span>))
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#4b20cd3790b6426a" class="t constructor">ArgumentException</a>(<span class="s">&quot;Commit message must not be null or empty!&quot;</span>, <span class="s">&quot;message&quot;</span>);
			<b>if</b> (<b>string</b>.<a href="@0@mscorlib/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<span class="r38 r">author</span>.<a href="Author.cs.html#8aeb12ff437a5b86" class="i property">Name</a>))
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#4b20cd3790b6426a" class="t constructor">ArgumentException</a>(<span class="s">&quot;Author name must not be null or empty!&quot;</span>, <span class="s">&quot;author&quot;</span>);
			<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#42148351d6aeb41d" class="i method">RereadIfNecessary</a>();
			<a href="/GitSharp.Core/A.html#a54807441779f4c5" class="k">var</a> <span id="r39 rd" class="r39 r">tree_id</span> = <a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#8b75423d7f490963" class="i method">writeTree</a>();
			<span class="c">// check if tree is different from current commit&#39;s tree</span>
			<a href="Commit.cs.html#bffc211799c30414" class="k">var</a> <span id="r40 rd" class="r40 r">parent</span> = <a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#8092dd06030bb016" class="i property">CurrentBranch</a>.<a href="Branch.cs.html#f093602d50fbbee3" class="i property">CurrentCommit</a>;
			<b>if</b> ((<span class="r40 r">parent</span> == <b>null</b> &amp;&amp; <a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#5768ca967b11648d" class="i property">Members</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a> == 0) || (<span class="r40 r">parent</span> != <b>null</b> &amp;&amp; <span class="r40 r">parent</span>.<a href="Commit.cs.html#4492c9e61456067c" class="i property">Tree</a>.<a href="AbstractObject.cs.html#8e8765922f1fbec8" class="i field">_id</a> == <span class="r39 r">tree_id</span>))
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#265d72f49e915224" class="t constructor">InvalidOperationException</a>(<span class="s">&quot;There are no changes to commit&quot;</span>);
			<a href="Commit.cs.html#bffc211799c30414" class="k">var</a> <span id="r41 rd" class="r41 r">commit</span> = <a href="Commit.cs.html#bffc211799c30414" class="t t">Commit</a>.<a href="Commit.cs.html#cf87fea29814f064" class="i method">Create</a>(<span class="r37 r">message</span>, <span class="r40 r">parent</span>, <b>new</b> <a href="Tree.cs.html#f60530a86fef6e1f" class="t constructor">Tree</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>, <span class="r39 r">tree_id</span>), <span class="r38 r">author</span>);
			<a href="Ref.cs.html#849a9ba532426c12" class="t t">Ref</a>.<a href="Ref.cs.html#a056ac373dc82eb3" class="i method">Update</a>(<span class="s">&quot;HEAD&quot;</span>, <span class="r41 r">commit</span>);
			<b>return</b> <span class="r41 r">commit</span>;
		}

		<b>public override string</b> <a id="1c3b973dcb6297e2" href="R/1c3b973dcb6297e2.html" target="n" data-glyph="72,1" class="i method">ToString</a>()
		{
			<b>return</b> <span class="s">&quot;Index[&quot;</span> + <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>.<a href="Repository.cs.html#e864e55a83933585" class="i property">Directory</a>, <span class="s">&quot;index&quot;</span>) + <span class="s">&quot;]&quot;</span>;
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> The encoding to be used to convert file paths from string to byte arrays.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public static</b> <a href="@0@mscorlib/A.html#3b6090c501893c25" class="t t">Encoding</a> <a id="4edb70b894891cdb" href="R/4edb70b894891cdb.html" target="n" data-glyph="102,1" class="i property">PathEncoding</a>
		{
			<b>get</b>;
			<b>set</b>;
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> The encoding to be used to convert file contents from string to byte arrays.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public static</b> <a href="@0@mscorlib/A.html#3b6090c501893c25" class="t t">Encoding</a> <a id="baad19077369110d" href="R/baad19077369110d.html" target="n" data-glyph="102,1" class="i property">ContentEncoding</a>
		{
			<b>get</b>;
			<b>set</b>;
		}


		<b>public string</b> <a id="c1e330c906422bb5" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetContent</a>(<b>string</b> <span id="r42 rd" class="r42 r">path</span>)
		{
			<a href="Blob.cs.html#c57b8c741c6ded7e" class="k">var</a> <span id="r43 rd" class="r43 r">blob</span> = <a href="#7a5e9baba8ee662d" class="k">this</a><a href="#4fc8d06f1420d283">[</a><span class="r42 r">path</span>];
			<b>if</b> (<span class="r43 r">blob</span> == <b>null</b>)
				<b>return null</b>;
			<b>return</b> <a href="#baad19077369110d" class="i property">ContentEncoding</a>.<a href="@0@mscorlib/A.html#7310c9cccfaecd17" class="i method">GetString</a>(<span class="r43 r">blob</span>.<a href="Blob.cs.html#0437bd729c414cbc" class="i property">RawData</a>);
		}

		<b>public</b> <a href="Blob.cs.html#c57b8c741c6ded7e" class="t t">Blob</a> <a id="4fc8d06f1420d283" href="R/4fc8d06f1420d283.html" target="n" data-glyph="102,1" class="k">this</a>[<b>string</b> <span id="r44 rd" class="r44 r">path</span>]
		{
			<b>get</b>
			{
				<a href="/GitSharp.Core/A.html#ada66cbaf2f188da" class="k">var</a> <span id="r45 rd" class="r45 r">e</span> = <a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#90f168d780eef362" class="i method">GetEntry</a>(<span class="r44 r">path</span>);
				<b>if</b> (<span class="r45 r">e</span> == <b>null</b>)
					<b>return null</b>;
				<b>return</b> <b>new</b> <a href="Blob.cs.html#403fa118359d47bc" class="t constructor">Blob</a>(<a href="#ec68c12488bd0c24" class="i field">_repo</a>, <span class="r45 r">e</span>.<a href="/GitSharp.Core/A.html#84bb78eccc718597" class="i property">ObjectId</a>);
			}
			<b>set</b>
			{
				<span class="c">//todo</span>
			}
		}

		<b>public</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<b>string</b>&gt; <a id="d3eeb9dc65d270b9" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Entries</a>
		{
			<b>get</b>
			{
				<a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#42148351d6aeb41d" class="i method">RereadIfNecessary</a>();
				<b>return</b> <a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#5768ca967b11648d" class="i property">Members</a>.<a href="@0@System.Core/A.html#5c652c53e80df013" class="i method">Select</a>(<span id="r46 rd" class="r46 r">e</span> =&gt; <span class="r46 r">e</span>.<a href="/GitSharp.Core/A.html#c9f28b2aa347b1ef" class="i property">Name</a>).<a href="@0@System.Core/A.html#783a052330e7d48d" class="i method">ToArray</a>();
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> The number of files tracked by the repository </span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public int</b> <a id="8cd20d16141feec8" href="R/8cd20d16141feec8.html" target="n" data-glyph="102,1" class="i property">Size</a>
		{
			<b>get</b> { <b>return</b> <a href="#3cae7402ed05081d" class="i property">GitIndex</a>.<a href="/GitSharp.Core/A.html#5768ca967b11648d" class="i property">Members</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>; }
		}
	}
}
</pre></td></tr></table></div></body></html>
