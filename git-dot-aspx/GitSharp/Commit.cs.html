<!DOCTYPE html>
<html><head><title>Commit.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(619);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#GitSharp/Commit.cs" target="_top">Commit.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#GitSharp" target="_top">lib\GitSharp\GitSharp\GitSharp.csproj</a> (GitSharp)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">/*
 * Copyright (C) 2009, Henon &lt;meinrad.recheis@gmail.com&gt;
 *
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or
 * without modification, are permitted provided that the following
 * conditions are met:
 *
 * - Redistributions of source code must retain the above copyright
 *   notice, this list of conditions and the following disclaimer.
 *
 * - Redistributions in binary form must reproduce the above
 *   copyright notice, this list of conditions and the following
 *   disclaimer in the documentation and/or other materials provided
 *   with the distribution.
 *
 * - Neither the name of the Git Development Community nor the
 *   names of its contributors may be used to endorse or promote
 *   products derived from this software without specific prior
 *   written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
 * CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Commands</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">RevWalk</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">Util</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">Util</span>.<span class="i n">JavaHelper</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">Diff</span>;
<b>using</b> <span class="t">ObjectId</span> = <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#a54807441779f4c5" class="t t">ObjectId</a>;
<b>using</b> <span class="t">CoreRef</span> = <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#14820c0f09e6d05b" class="t t">Ref</a>;
<b>using</b> <span class="t">CoreTree</span> = <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#5c7834780fcb0bc3" class="t t">Tree</a>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">TreeWalk</span>;
<b>using</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">TreeWalk</span>.<span class="i n">Filter</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>;

<b>namespace</b> <span class="i n">GitSharp</span>
{
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
	<span class="c">///</span><span class="c"> Represents a revision of the files and directories tracked in the repository.</span>
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
	<b>public class</b> <a id="bffc211799c30414" href="R/bffc211799c30414.html" target="n" data-glyph="0,0" class="t t">Commit</a> : <a href="AbstractObject.cs.html#a02667538ce8ae5e" class="t t">AbstractObject</a>
	{

		<b>public</b> <a id="4e9032f751a75fea" href="R/4e9032f751a75fea.html" target="n" data-glyph="72,1" class="i constructor">Commit</a>(<a href="Repository.cs.html#88d32bb614749450" class="t t">Repository</a> <span id="r0 rd" class="r0 r">repo</span>, <b>string</b> <span id="r1 rd" class="r1 r">hash_or_name</span>)
			: <a href="AbstractObject.cs.html#ff70d792d1e9f77f" class="k">base</a>(<span class="r0 r">repo</span>, <span class="r1 r">hash_or_name</span>)
		{
		}

		<b>internal</b> <a id="21ee73cff17c24d5" href="R/../../0000000000.html" target="n" data-glyph="74,1" class="i constructor">Commit</a>(<a href="Repository.cs.html#88d32bb614749450" class="t t">Repository</a> <span id="r2 rd" class="r2 r">repo</span>, <a href="/GitSharp.Core/A.html#14820c0f09e6d05b" class="t t">CoreRef</a> <span id="r3 rd" class="r3 r">@ref</span>)
			: <a href="AbstractObject.cs.html#a71e8db1240147c9" class="k">base</a>(<span class="r2 r">repo</span>, <span class="r3 r">@ref</span>.<a href="/GitSharp.Core/A.html#8d89227bc6e67ab0" class="i property">ObjectId</a>)
		{
		}

		<b>internal</b> <a id="8042e7d7fdc2f201" href="R/8042e7d7fdc2f201.html" target="n" data-glyph="74,1" class="i constructor">Commit</a>(<a href="Repository.cs.html#88d32bb614749450" class="t t">Repository</a> <span id="r4 rd" class="r4 r">repo</span>, <span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#6c448dd0f2a39a5d" class="t t">Commit</a> <span id="r5 rd" class="r5 r">internal_commit</span>)
			: <a href="AbstractObject.cs.html#a71e8db1240147c9" class="k">base</a>(<span class="r4 r">repo</span>, <span class="r5 r">internal_commit</span>.<a href="/GitSharp.Core/A.html#33b0525a44909222" class="i property">CommitId</a>)
		{
			<a href="#0dfeb1122518c366" class="i field">_internal_commit</a> = <span class="r5 r">internal_commit</span>;
		}

		<b>internal</b> <a id="d417ee20dc4df025" href="R/d417ee20dc4df025.html" target="n" data-glyph="74,1" class="i constructor">Commit</a>(<a href="Repository.cs.html#88d32bb614749450" class="t t">Repository</a> <span id="r6 rd" class="r6 r">repo</span>, <a href="/GitSharp.Core/A.html#a54807441779f4c5" class="t t">ObjectId</a> <span id="r7 rd" class="r7 r">id</span>)
			: <a href="AbstractObject.cs.html#a71e8db1240147c9" class="k">base</a>(<span class="r6 r">repo</span>, <span class="r7 r">id</span>)
		{
		}

		<b>private</b> <span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#6c448dd0f2a39a5d" class="t t">Commit</a> <a id="0dfeb1122518c366" href="R/0dfeb1122518c366.html" target="n" data-glyph="46,1" class="i field">_internal_commit</a>;

		<b>private</b> <span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#6c448dd0f2a39a5d" class="t t">Commit</a> <a id="12904d57028ec5b6" href="R/12904d57028ec5b6.html" target="n" data-glyph="106,1" class="i property">InternalCommit</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#0dfeb1122518c366" class="i field">_internal_commit</a> == <b>null</b>)
					<b>try</b>
					{
						<a href="#0dfeb1122518c366" class="i field">_internal_commit</a> = <a href="AbstractObject.cs.html#a935003f8a4b38a5" class="i field">_repo</a>.<a href="Repository.cs.html#9f5ec8d7098d03b2" class="i field">_internal_repo</a>.<a href="/GitSharp.Core/A.html#6c248665104198fc" class="i method">MapCommit</a>(<a href="AbstractObject.cs.html#8e8765922f1fbec8" class="i field">_id</a>);
					}
					<b>catch</b> (<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a>)
					{
						<span class="c">// the commit object is invalid. however, we can not allow exceptions here because they would not be expected.</span>
					}
				<b>return</b> <a href="#0dfeb1122518c366" class="i field">_internal_commit</a>;
			}
		}

		<span class="k preprocess">#</span><span class="k preprocess">region</span> --&gt; Commit Properties


		<b>public bool</b> <a id="61ee82dff7941bfa" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">IsValid</a>
		{
			<b>get</b>
			{
				<b>return</b> <a href="#12904d57028ec5b6" class="i property">InternalCommit</a> <b>is</b> <span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#6c448dd0f2a39a5d" class="t t">Commit</a>;
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> The commit message.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public string</b> <a id="de224c6c21245417" href="R/de224c6c21245417.html" target="n" data-glyph="102,1" class="i property">Message</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#12904d57028ec5b6" class="i property">InternalCommit</a> == <b>null</b>) <span class="c">// this might happen if the object was created with an incorrect reference</span>
					<b>return null</b>;
				<b>return</b> <a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#28567699584cce31" class="i property">Message</a>;
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> The encoding of the commit details.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="@0@mscorlib/A.html#3b6090c501893c25" class="t t">Encoding</a> <a id="1028fabbec9164ec" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Encoding</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#12904d57028ec5b6" class="i property">InternalCommit</a> == <b>null</b>) <span class="c">// this might happen if the object was created with an incorrect reference</span>
					<b>return null</b>;
				<b>return</b> <a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#5037496c84af9ccd" class="i property">Encoding</a>;
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> The author of the change set represented by this commit. </span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="Author.cs.html#a62af5f74cd98a14" class="t t">Author</a> <a id="56c864d17c213b69" href="R/56c864d17c213b69.html" target="n" data-glyph="102,1" class="i property">Author</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#12904d57028ec5b6" class="i property">InternalCommit</a> == <b>null</b>) <span class="c">// this might happen if the object was created with an incorrect reference</span>
					<b>return null</b>;
				<b>return</b> <b>new</b> <a href="Author.cs.html#41153cce635fc577" class="t constructor">Author</a>() { <a href="Author.cs.html#8aeb12ff437a5b86" class="i property">Name</a> = <a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#34241d839085af6d" class="i property">Author</a>.<a href="/GitSharp.Core/A.html#e24a0383f8aeb8d1" class="i property">Name</a>, <a href="Author.cs.html#addb3c41fff09b0c" class="i property">EmailAddress</a> = <a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#34241d839085af6d" class="i property">Author</a>.<a href="/GitSharp.Core/A.html#2571a3087f21b6bf" class="i property">EmailAddress</a> };
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> The person who committed the change set by reusing authorship information from another commit. If the commit was created by the author himself, Committer is equal to the Author.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="Author.cs.html#a62af5f74cd98a14" class="t t">Author</a> <a id="6f0fafe9c436f907" href="R/6f0fafe9c436f907.html" target="n" data-glyph="102,1" class="i property">Committer</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#12904d57028ec5b6" class="i property">InternalCommit</a> == <b>null</b>) <span class="c">// this might happen if the object was created with an incorrect reference</span>
					<b>return null</b>;
				<a href="/GitSharp.Core/A.html#317a34072618d9ff" class="k">var</a> <span id="r8 rd" class="r8 r">committer</span> = <a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#ce367880e413101f" class="i property">Committer</a>;
				<b>if</b> (<span class="r8 r">committer</span> == <b>null</b>) <span class="c">// this is null if the author committed himself</span>
					<b>return</b> <a href="#56c864d17c213b69" class="i property">Author</a>;
				<b>return</b> <b>new</b> <a href="Author.cs.html#41153cce635fc577" class="t constructor">Author</a>() { <a href="Author.cs.html#8aeb12ff437a5b86" class="i property">Name</a> = <span class="r8 r">committer</span>.<a href="/GitSharp.Core/A.html#e24a0383f8aeb8d1" class="i property">Name</a>, <a href="Author.cs.html#addb3c41fff09b0c" class="i property">EmailAddress</a> = <span class="r8 r">committer</span>.<a href="/GitSharp.Core/A.html#2571a3087f21b6bf" class="i property">EmailAddress</a> };
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Original timestamp of the commit created by Author. </span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a> <a id="14e3295bb08773b8" href="R/14e3295bb08773b8.html" target="n" data-glyph="102,1" class="i property">AuthorDate</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#12904d57028ec5b6" class="i property">InternalCommit</a> == <b>null</b>) <span class="c">// this might happen if the object was created with an incorrect reference</span>
					<b>return</b> <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a>.<a href="@0@mscorlib/A.html#027622e417a4d206" class="i field">MinValue</a>;
				<b>return</b> <a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#34241d839085af6d" class="i property">Author</a>.<a href="/GitSharp.Core/A.html#274c64b445199c32" class="i property">When</a>.<a href="/GitSharp.Core/A.html#8fe9b6b8ad50375f" class="i method">MillisToDateTimeOffset</a>(<a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#34241d839085af6d" class="i property">Author</a>.<a href="/GitSharp.Core/A.html#75bbcc78864afb22" class="i property">TimeZoneOffset</a>);
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Final timestamp of the commit, after Committer has re-committed Author&#39;s commit.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a> <a id="0c820eddc31d1bff" href="R/0c820eddc31d1bff.html" target="n" data-glyph="102,1" class="i property">CommitDate</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#12904d57028ec5b6" class="i property">InternalCommit</a> == <b>null</b>) <span class="c">// this might happen if the object was created with an incorrect reference</span>
					<b>return</b> <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a>.<a href="@0@mscorlib/A.html#027622e417a4d206" class="i field">MinValue</a>;
				<a href="/GitSharp.Core/A.html#317a34072618d9ff" class="k">var</a> <span id="r9 rd" class="r9 r">committer</span> = <a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#ce367880e413101f" class="i property">Committer</a>;
				<b>if</b> (<span class="r9 r">committer</span> == <b>null</b>) <span class="c">// this is null if the author committed himself</span>
					<span class="r9 r">committer</span> = <a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#34241d839085af6d" class="i property">Author</a>;
				<b>return</b> <span class="r9 r">committer</span>.<a href="/GitSharp.Core/A.html#274c64b445199c32" class="i property">When</a>.<a href="/GitSharp.Core/A.html#8fe9b6b8ad50375f" class="i method">MillisToDateTimeOffset</a>(<span class="r9 r">committer</span>.<a href="/GitSharp.Core/A.html#75bbcc78864afb22" class="i property">TimeZoneOffset</a>);
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Returns true if the commit was created by the author of the change set himself.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public bool</b> <a id="54f5d5c2b6e89b3d" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">IsCommittedByAuthor</a>
		{
			<b>get</b>
			{
				<b>return</b> <a href="#56c864d17c213b69" class="i property">Author</a> == <a href="#6f0fafe9c436f907" class="i property">Committer</a>;
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Returns all parent commits.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="#bffc211799c30414" class="t t">Commit</a>&gt; <a id="f899dc0761ef6a06" href="R/f899dc0761ef6a06.html" target="n" data-glyph="102,1" class="i property">Parents</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#12904d57028ec5b6" class="i property">InternalCommit</a> == <b>null</b>) <span class="c">// this might happen if the object was created with an incorrect reference</span>
					<b>return</b> <b>new</b> <a href="#bffc211799c30414" class="t t">Commit</a>[0];
				<b>return</b> <a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#05ed469ec0352a50" class="i property">ParentIds</a>.<a href="@0@System.Core/A.html#5c652c53e80df013" class="i method">Select</a>(<span id="r10 rd" class="r10 r">parent_id</span> =&gt; <b>new</b> <a href="#d417ee20dc4df025" class="t constructor">Commit</a>(<a href="AbstractObject.cs.html#a935003f8a4b38a5" class="i field">_repo</a>, <span class="r10 r">parent_id</span>)).<a href="@0@System.Core/A.html#783a052330e7d48d" class="i method">ToArray</a>();
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> True if the commit has at least one parent.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public bool</b> <a id="b5d9c4b2ad2a021f" href="R/b5d9c4b2ad2a021f.html" target="n" data-glyph="102,1" class="i property">HasParents</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#12904d57028ec5b6" class="i property">InternalCommit</a> == <b>null</b>) <span class="c">// this might happen if the object was created with an incorrect reference</span>
					<b>return false</b>;
				<b>return</b> <a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#05ed469ec0352a50" class="i property">ParentIds</a>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> &gt; 0;
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> The first parent commit if the commit has at least one parent, null otherwise.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="#bffc211799c30414" class="t t">Commit</a> <a id="188e723483b2c209" href="R/188e723483b2c209.html" target="n" data-glyph="102,1" class="i property">Parent</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#12904d57028ec5b6" class="i property">InternalCommit</a> == <b>null</b>) <span class="c">// this might happen if the object was created with an incorrect reference</span>
					<b>return null</b>;
				<b>if</b> (<a href="#b5d9c4b2ad2a021f" class="i property">HasParents</a>)
					<b>return</b> <b>new</b> <a href="#d417ee20dc4df025" class="t constructor">Commit</a>(<a href="AbstractObject.cs.html#a935003f8a4b38a5" class="i field">_repo</a>, <a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#05ed469ec0352a50" class="i property">ParentIds</a>[0]);
				<b>return null</b>;
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> The commit&#39;s reference to the root of the directory structure of the revision.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="Tree.cs.html#9d106130ffa6f832" class="t t">Tree</a> <a id="4492c9e61456067c" href="R/4492c9e61456067c.html" target="n" data-glyph="102,1" class="i property">Tree</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#12904d57028ec5b6" class="i property">InternalCommit</a> == <b>null</b>) <span class="c">// this might happen if the object was created with an incorrect reference</span>
					<b>return null</b>;
				<b>try</b>
				{
					<b>return</b> <b>new</b> <a href="Tree.cs.html#0fb16a901a6c3529" class="t constructor">Tree</a>(<a href="AbstractObject.cs.html#a935003f8a4b38a5" class="i field">_repo</a>, <a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#8616cbc2288925c1" class="i property">TreeEntry</a>);
				}
				<b>catch</b> (<span class="i n">GitSharp</span>.<span class="i n">Core</span>.<span class="i n">Exceptions</span>.<a href="/GitSharp.Core/A.html#66628c45a09b4683" class="t t">MissingObjectException</a>)
				{
					<b>return null</b>; <span class="c">// relieve the client of having to catch the exception! If tree is null it is obvious that the tree could not be found.</span>
				}
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c">  Returns an iterator over all ancestor-commits of this commit. </span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="#bffc211799c30414" class="t t">Commit</a>&gt; <a id="93c9179cb53bc25e" href="R/93c9179cb53bc25e.html" target="n" data-glyph="102,1" class="i property">Ancestors</a>
		{
			<b>get</b>
			{
				<a href="/GitSharp.Core/A.html#3cdb1764ea58588b" class="k">var</a> <span id="r11 rd" class="r11 r">revwalk</span> = <b>new</b> <a href="/GitSharp.Core/A.html#0b5400e3482eef62" class="t constructor">RevWalk</a>(<a href="AbstractObject.cs.html#a935003f8a4b38a5" class="i field">_repo</a>);
				<span class="r11 r">revwalk</span>.<a href="/GitSharp.Core/A.html#4055dedf593a8d59" class="i property">RevSortStrategy</a>.<a href="@0@System.Core/A.html#43a2b651926474a7" class="i method">Add</a>(<a href="/GitSharp.Core/A.html#f228bf051f1b6130" class="t t">RevSort</a>.<a href="/GitSharp.Core/A.html#396d0dbb0ab88892" class="t t">Strategy</a>.<a href="/GitSharp.Core/A.html#375ec85fa4b4e965" class="i field">COMMIT_TIME_DESC</a>);
				<span class="r11 r">revwalk</span>.<a href="/GitSharp.Core/A.html#4055dedf593a8d59" class="i property">RevSortStrategy</a>.<a href="@0@System.Core/A.html#43a2b651926474a7" class="i method">Add</a>(<a href="/GitSharp.Core/A.html#f228bf051f1b6130" class="t t">RevSort</a>.<a href="/GitSharp.Core/A.html#396d0dbb0ab88892" class="t t">Strategy</a>.<a href="/GitSharp.Core/A.html#80de755be850fe07" class="i field">TOPO</a>);
				<span class="r11 r">revwalk</span>.<a href="/GitSharp.Core/A.html#361bac1f9e90b48a" class="i method">markStart</a>(<span class="r11 r">revwalk</span>.<a href="/GitSharp.Core/A.html#0de37e13e01da23d" class="i method">parseCommit</a>(<a href="AbstractObject.cs.html#8e8765922f1fbec8" class="i field">_id</a>));
				<b>return
					from</b> <span class="i">revcommit</span> <b>in</b> <span class="r11 r">revwalk</span>.<a href="@0@System.Core/A.html#90ccdbd47b57182e" class="i method">Skip</a>(1) <span class="c">// skip this commit</span>
					<b>select</b> <b>new</b> <a href="#8042e7d7fdc2f201" class="t constructor">Commit</a>(<a href="AbstractObject.cs.html#a935003f8a4b38a5" class="i field">_repo</a>, <span class="i">revcommit</span>.<a href="/GitSharp.Core/A.html#4595eb09341a1266" class="i method">AsCommit</a>(<span class="r11 r">revwalk</span>));
			}
		}


		<span class="k preprocess">#</span><span class="k preprocess">endregion</span>

		<span class="k preprocess">#</span><span class="k preprocess">region</span> --&gt; Checkout


		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Checkout this commit into the working directory. Does not change HEAD.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">/&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">seealso</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Branch.cs.html#bfaf9b4f712212b1" class="t t">Branch</a>.<a href="Branch.cs.html#d2b344e1077745e1" class="i method">Checkout</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> and </span><span class="c">&lt;</span><span class="c">seealso</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Index.cs.html#7a5e9baba8ee662d" class="t t">Index</a>.<a href="Index.cs.html#9228aa0eb9122370" class="i method">Checkout</a>()<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public void</b> <a id="529023d705009a01" href="R/529023d705009a01.html" target="n" data-glyph="72,1" class="i method">Checkout</a>()
		{
			<a href="#5c3be9c3933d1871" class="i method">Checkout</a>(<a href="AbstractObject.cs.html#a935003f8a4b38a5" class="i field">_repo</a>.<a href="Repository.cs.html#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>);
		}

		<b>private void</b> <a id="5c3be9c3933d1871" href="R/5c3be9c3933d1871.html" target="n" data-glyph="76,1" class="i method">Checkout</a>(<b>string</b> <span id="r12 rd" class="r12 r">working_directory</span>) <span class="c">// [henon] made this private to not confuse with Checkout( paths ). It seems to be not a common use case anyway and could be better exposed via the CheckoutCommand</span>
		{
			<b>if</b> (<a href="#12904d57028ec5b6" class="i property">InternalCommit</a> == <b>null</b>)
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#265d72f49e915224" class="t constructor">InvalidOperationException</a>(<span class="s">&quot;Unable to checkout this commit. It was not initialized properly (i.e. the hash is not pointing to a commit object).&quot;</span>);
			<b>if</b> (<span class="r12 r">working_directory</span> == <b>null</b>)
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">&quot;Path to checkout directory must not be null&quot;</span>);
			<b>if</b> (<b>new</b> <a href="@0@mscorlib/A.html#683f5ff112df8d3a" class="t constructor">DirectoryInfo</a>(<span class="r12 r">working_directory</span>).<a href="@0@mscorlib/A.html#6f88a05eb9231687" class="i property">Exists</a> == <b>false</b>)
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#db370b64091ac4df" class="t constructor">IOException</a>(<span class="s">&quot;Cannot checkout into non-existent directory: &quot;</span> + <span class="r12 r">working_directory</span>);
			<a href="/GitSharp.Core/A.html#a967877e73d4cc25" class="k">var</a> <span id="r13 rd" class="r13 r">db</span> = <a href="AbstractObject.cs.html#a935003f8a4b38a5" class="i field">_repo</a>.<a href="Repository.cs.html#9f5ec8d7098d03b2" class="i field">_internal_repo</a>;
			<a href="/GitSharp.Core/A.html#f85fef7d9e501a33" class="k">var</a> <span id="r14 rd" class="r14 r">index</span> = <a href="AbstractObject.cs.html#a935003f8a4b38a5" class="i field">_repo</a>.<a href="Repository.cs.html#c317d74dcaf8b69b" class="i property">Index</a>.<a href="Index.cs.html#3cae7402ed05081d" class="i property">GitIndex</a>;
			<span class="r14 r">index</span>.<a href="/GitSharp.Core/A.html#42148351d6aeb41d" class="i method">RereadIfNecessary</a>();
			<a href="/GitSharp.Core/A.html#5c7834780fcb0bc3" class="t t">CoreTree</a> <span id="r15 rd" class="r15 r">tree</span> = <a href="#12904d57028ec5b6" class="i property">InternalCommit</a>.<a href="/GitSharp.Core/A.html#8616cbc2288925c1" class="i property">TreeEntry</a>;
			<a href="/GitSharp.Core/A.html#3680f19a7db97f92" class="k">var</a> <span id="r16 rd" class="r16 r">co</span> = <b>new</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#0f803fb9e915331c" class="t constructor">WorkDirCheckout</a>(<span class="r13 r">db</span>, <b>new</b> <a href="@0@mscorlib/A.html#683f5ff112df8d3a" class="t constructor">DirectoryInfo</a>(<span class="r12 r">working_directory</span>), <span class="r14 r">index</span>, <span class="r15 r">tree</span>);
			<span class="r16 r">co</span>.<a href="/GitSharp.Core/A.html#fe36bb36d2ace1b0" class="i method">checkout</a>();
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Check out the given paths into the working directory. Files in the working directory will be overwritten.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">/&gt;</span>
		<span class="c">///</span><span class="c"> See also </span><span class="c">&lt;</span><span class="c">seealso</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Index.cs.html#7a5e9baba8ee662d" class="t t">Index</a>.<a href="Index.cs.html#56553e9bb92663d6" class="i method">Checkout</a>(<b>string</b>[])<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> to check out paths from the index.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r17 r">paths</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Relative paths of the files to check out.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Throws a lot of IO and Security related exceptions.</span>
		<b>public void</b> <a id="52454fa840037b0e" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Checkout</a>(<b>params string</b>[] <span id="r17 rd" class="r17 r">paths</span>)
		{
			<a href="Tree.cs.html#9d106130ffa6f832" class="k">var</a> <span id="r18 rd" class="r18 r">tree</span> = <a href="#bffc211799c30414" class="k">this</a>.<a href="#4492c9e61456067c" class="i property">Tree</a>;
			<b>if</b> (<span class="r18 r">tree</span> == <b>null</b> || !<span class="r18 r">tree</span>.<a href="AbstractObject.cs.html#418540793c897797" class="i property">IsTree</a>)
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#265d72f49e915224" class="t constructor">InvalidOperationException</a>(<span class="s">&quot;This commit doesn&#39;t seem to have a valid tree.&quot;</span>);
			<b>foreach</b> (<b>string</b> <span id="r19 rd" class="r19 r">path</span> <b>in</b> <span class="r17 r">paths</span>)
			{
				<a href="Leaf.cs.html#ba95a61a5f60aa77" class="k">var</a> <span id="r20 rd" class="r20 r">leaf</span> = <span class="r18 r">tree</span><a href="Tree.cs.html#158bcc2eb212b8d5">[</a><span class="r19 r">path</span>] <b>as</b> <a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a>;
				<b>if</b> (<span class="r20 r">leaf</span> == <b>null</b>)
					<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">&quot;The given path does not exist in this commit: &quot;</span> + <span class="r19 r">path</span>);
				<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r21 rd" class="r21 r">filename</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<a href="AbstractObject.cs.html#a935003f8a4b38a5" class="i field">_repo</a>.<a href="Repository.cs.html#c81d21fc557c8dc2" class="i property">WorkingDirectory</a>, <span class="r19 r">path</span>);
				<b>new</b> <a href="@0@mscorlib/A.html#1fe2c3953ba2a577" class="t constructor">FileInfo</a>(<span class="r21 r">filename</span>).<a href="@0@mscorlib/A.html#10d7d3740bb7ac87" class="i property">Directory</a>.<a href="/GitSharp.Core/A.html#60d87635fed6bc8e" class="i method">Mkdirs</a>();
				<a href="@0@mscorlib/A.html#1c7421e464f67b7e" class="t t">File</a>.<a href="@0@mscorlib/A.html#3ee06d70517eea0b" class="i method">WriteAllBytes</a>(<span class="r21 r">filename</span>, <span class="r20 r">leaf</span>.<a href="Leaf.cs.html#4b4b357bc6903c30" class="i property">Blob</a>.<a href="Blob.cs.html#0437bd729c414cbc" class="i property">RawData</a>); <span class="c">// todo: hmm, what is with file permissions and other file attributes?</span>
			}
		}


		<span class="k preprocess">#</span><span class="k preprocess">endregion</span>

		<span class="k preprocess">#</span><span class="k preprocess">region</span> --&gt; Blame
		
		<b>public</b> <a href="#bffc211799c30414" class="t t">Commit</a>[] <a id="20f06c006bfad2a8" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Blame</a> (<b>string</b> <span id="r22 rd" class="r22 r">path</span>)
		{
			<a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a> <span id="r23 rd" class="r23 r">leaf</span> = <a href="#4492c9e61456067c" class="i property">Tree</a> [<span class="r22 r">path</span>] <b>as</b> <a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a>;
			<b>if</b> (<span class="r23 r">leaf</span> == <b>null</b>)
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">&quot;The given path does not exist in this commit: &quot;</span> + <span class="r22 r">path</span>);
			<b>byte</b>[] <span id="r24 rd" class="r24 r">data</span> = <span class="r23 r">leaf</span>.<a href="Leaf.cs.html#7ee683017e92055e" class="i property">RawData</a>;
			<b>int</b> <span id="r25 rd" class="r25 r">lineCount</span> = <a href="/GitSharp.Core/A.html#9c316fb813def011" class="t t">RawParseUtils</a>.<a href="/GitSharp.Core/A.html#8fb5d3ffee2a7ab6" class="i method">lineMap</a> (<span class="r24 r">data</span>, 0, <span class="r24 r">data</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a>).<a href="/GitSharp.Core/A.html#4b947e9225611cf6" class="i method">size</a> ();
			<a href="#bffc211799c30414" class="t t">Commit</a>[] <span id="r26 rd" class="r26 r">lines</span> = <b>new</b> <a href="#bffc211799c30414" class="t t">Commit</a> [<span class="r25 r">lineCount</span>];
			<a href="/GitSharp.Core/A.html#d51a523d74721608" class="k">var</a> <span id="r27 rd" class="r27 r">curText</span> = <b>new</b> <a href="/GitSharp.Core/A.html#4b36f060966234a8" class="t constructor">RawText</a> (<span class="r24 r">data</span>);
			<a href="#bffc211799c30414" class="t t">Commit</a> <span id="r28 rd" class="r28 r">prevAncestor</span> = <a href="#bffc211799c30414" class="k">this</a>;
			
			<a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a> <span id="r29 rd" class="r29 r">prevLeaf</span> = <b>null</b>;
			<a href="#bffc211799c30414" class="t t">Commit</a> <span id="r30 rd" class="r30 r">prevCommit</span> = <b>null</b>;
			<b>int</b> <span id="r31 rd" class="r31 r">emptyLines</span> = <span class="r25 r">lineCount</span>;
			
			<b>foreach</b> (<a href="#bffc211799c30414" class="t t">Commit</a> <span id="r32 rd" class="r32 r">ancestor</span> <b>in</b> <a href="#93c9179cb53bc25e" class="i property">Ancestors</a>) {
				<a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a> <span id="r33 rd" class="r33 r">cleaf</span> = <span class="r32 r">ancestor</span>.<a href="#4492c9e61456067c" class="i property">Tree</a> [<span class="r22 r">path</span>] <b>as</b> <a href="Leaf.cs.html#ba95a61a5f60aa77" class="t t">Leaf</a>;
				<b>if</b> (<span class="r30 r">prevCommit</span> != <b>null</b> &amp;&amp; (<span class="r33 r">cleaf</span> == <b>null</b> || <span class="r33 r">cleaf</span>.<a href="AbstractObject.cs.html#32c820e51178085d" class="i property">Hash</a> != <span class="r29 r">prevLeaf</span>.<a href="AbstractObject.cs.html#32c820e51178085d" class="i property">Hash</a>)) {
					<b>byte</b>[] <span id="r34 rd" class="r34 r">prevData</span> = <span class="r29 r">prevLeaf</span>.<a href="Leaf.cs.html#7ee683017e92055e" class="i property">RawData</a>;
					<b>if</b> (<span class="r34 r">prevData</span> == <b>null</b>)
						<b>break</b>;
					<a href="/GitSharp.Core/A.html#d51a523d74721608" class="k">var</a> <span id="r35 rd" class="r35 r">prevText</span> = <b>new</b> <a href="/GitSharp.Core/A.html#4b36f060966234a8" class="t constructor">RawText</a> (<span class="r34 r">prevData</span>);
					<a href="/GitSharp.Core/A.html#9cbb9462924d45d1" class="k">var</a> <span id="r36 rd" class="r36 r">differ</span> = <b>new</b> <a href="/GitSharp.Core/A.html#03e89b6a9c666afb" class="t constructor">MyersDiff</a> (<span class="r35 r">prevText</span>, <span class="r27 r">curText</span>);
					<b>foreach</b> (<a href="/GitSharp.Core/A.html#d221e46374dfd441" class="t t">Edit</a> <span id="r37 rd" class="r37 r">e</span> <b>in</b> <span class="r36 r">differ</span>.<a href="/GitSharp.Core/A.html#72a429a48b5128a4" class="i method">getEdits</a> ()) {
						<b>for</b> (<b>int</b> <span id="r38 rd" class="r38 r">n</span> = <span class="r37 r">e</span>.<a href="/GitSharp.Core/A.html#a6916adb214dce41" class="i property">BeginB</a>; <span class="r38 r">n</span> &lt; <span class="r37 r">e</span>.<a href="/GitSharp.Core/A.html#e2c37c2b543a82a0" class="i property">EndB</a>; <span class="r38 r">n</span>++) {
							<b>if</b> (<span class="r26 r">lines</span> [<span class="r38 r">n</span>] == <b>null</b>) {
								<span class="r26 r">lines</span> [<span class="r38 r">n</span>] = <span class="r30 r">prevCommit</span>;
								<span class="r31 r">emptyLines</span>--;
							}
						}
					}
					<b>if</b> (<span class="r33 r">cleaf</span> == <b>null</b> || <span class="r31 r">emptyLines</span> &lt;= 0)
						<b>break</b>;
				}
				<span class="r30 r">prevCommit</span> = <span class="r32 r">ancestor</span>;
				<span class="r29 r">prevLeaf</span> = <span class="r33 r">cleaf</span>;
			}
			<b>for</b> (<b>int</b> <span id="r39 rd" class="r39 r">n</span>=0; <span class="r39 r">n</span>&lt;<span class="r26 r">lines</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a>; <span class="r39 r">n</span>++)
				<b>if</b> (<span class="r26 r">lines</span> [<span class="r39 r">n</span>] == <b>null</b>)
					<span class="r26 r">lines</span> [<span class="r39 r">n</span>] = <span class="r28 r">prevAncestor</span>;
			<b>return</b> <span class="r26 r">lines</span>;
		}
		
		<span class="k preprocess">#</span><span class="k preprocess">endregion</span>
		
		<span class="k preprocess">#</span><span class="k preprocess">region</span> --&gt; Diffing commits


		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Compare reference commit against compared commit. You may pass in a null commit (i.e. for getting the changes of the first commit)</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r40 r">reference</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Usually the more recent commit</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r41 r">compared</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Usually an ancestor of the reference commit</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">a list of changes (</span><span class="c">&lt;</span><span class="c">see</span><span class="c"> </span><span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Change.cs.html#6c54d93d304b9fc9" class="t t">Change</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">)</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public static</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="Change.cs.html#6c54d93d304b9fc9" class="t t">Change</a>&gt; <a id="e463c48b97a69a9c" href="R/e463c48b97a69a9c.html" target="n" data-glyph="72,1" class="i method">CompareCommits</a>(<a href="#bffc211799c30414" class="t t">Commit</a> <span id="r40 rd" class="r40 r">reference</span>, <a href="#bffc211799c30414" class="t t">Commit</a> <span id="r41 rd" class="r41 r">compared</span>)
		{
			<a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="k">var</a> <span id="r42 rd" class="r42 r">changes</span> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="Change.cs.html#6c54d93d304b9fc9" class="t t">Change</a>&gt;();
			<b>if</b> (<span class="r40 r">reference</span> == <b>null</b> &amp;&amp; <span class="r41 r">compared</span> == <b>null</b>)
				<b>return</b> <span class="r42 r">changes</span>;
			<a href="Repository.cs.html#88d32bb614749450" class="k">var</a> <span id="r43 rd" class="r43 r">repo</span> = (<span class="r40 r">reference</span> ?? <span class="r41 r">compared</span>).<a href="AbstractObject.cs.html#73e0952ef4aa28d3" class="i property">Repository</a>;
			<a href="/GitSharp.Core/A.html#a54807441779f4c5" class="k">var</a> <span id="r44 rd" class="r44 r">ref_tree</span> = (<span class="r40 r">reference</span> != <b>null</b> ? <span class="r40 r">reference</span>.<a href="#4492c9e61456067c" class="i property">Tree</a>.<a href="AbstractObject.cs.html#8e8765922f1fbec8" class="i field">_id</a> : <a href="/GitSharp.Core/A.html#a54807441779f4c5" class="t t">ObjectId</a>.<a href="/GitSharp.Core/A.html#a6ee7b4e86a6eafa" class="i property">ZeroId</a>);
			<a href="/GitSharp.Core/A.html#a54807441779f4c5" class="k">var</a> <span id="r45 rd" class="r45 r">compared_tree</span> = (<span class="r41 r">compared</span> != <b>null</b> ? <span class="r41 r">compared</span>.<a href="#4492c9e61456067c" class="i property">Tree</a>.<a href="AbstractObject.cs.html#8e8765922f1fbec8" class="i field">_id</a> : <a href="/GitSharp.Core/A.html#a54807441779f4c5" class="t t">ObjectId</a>.<a href="/GitSharp.Core/A.html#a6ee7b4e86a6eafa" class="i property">ZeroId</a>);
			<a href="/GitSharp.Core/A.html#a967877e73d4cc25" class="k">var</a> <span id="r46 rd" class="r46 r">db</span> = <span class="r43 r">repo</span>.<a href="Repository.cs.html#9f5ec8d7098d03b2" class="i field">_internal_repo</a>;
			<a href="/GitSharp.Core/A.html#f77ff77748e6b1dc" class="k">var</a> <span id="r47 rd" class="r47 r">walk</span> = <b>new</b> <a href="/GitSharp.Core/A.html#06ce8352273419f1" class="t constructor">TreeWalk</a>(<span class="r46 r">db</span>);
			<b>if</b> (<span class="r40 r">reference</span> == <b>null</b> || <span class="r41 r">compared</span> == <b>null</b>)
				<span class="r47 r">walk</span>.<a href="/GitSharp.Core/A.html#4ca55f36950ebfb5" class="i method">reset</a>((<span class="r40 r">reference</span> ?? <span class="r41 r">compared</span>).<a href="#4492c9e61456067c" class="i property">Tree</a>.<a href="AbstractObject.cs.html#8e8765922f1fbec8" class="i field">_id</a>);
			<b>else</b>
				<span class="r47 r">walk</span>.<a href="/GitSharp.Core/A.html#82746737f31712d5" class="i method">reset</a>(<b>new</b> <span class="i n">GitSharp</span>.<span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#26c90e71b2d0518a" class="t t">AnyObjectId</a>[] {<span class="r44 r">ref_tree</span>, <span class="r45 r">compared_tree</span>});
			<span class="r47 r">walk</span>.<a href="/GitSharp.Core/A.html#631ba2ce7faf766b" class="i property">Recursive</a> = <b>true</b>;
			<span class="r47 r">walk</span>.<a href="/GitSharp.Core/A.html#e53f6346709477c8" class="i method">setFilter</a>(<a href="/GitSharp.Core/A.html#1abfeb618166ec0c" class="t t">AndTreeFilter</a>.<a href="/GitSharp.Core/A.html#12eda0b43f0b657c" class="i method">create</a>(<a href="/GitSharp.Core/A.html#d8e673a46146a43f" class="t t">TreeFilter</a>.<a href="/GitSharp.Core/A.html#39178287276a582b" class="i field">ANY_DIFF</a>, <a href="/GitSharp.Core/A.html#d8e673a46146a43f" class="t t">TreeFilter</a>.<a href="/GitSharp.Core/A.html#91fc3c99ea5b3c9c" class="i field">ALL</a>));

			<b>return</b> <a href="#82427a79254c194d" class="i method">CalculateCommitDiff</a>(<span class="r43 r">repo</span>, <span class="r47 r">walk</span>, <b>new</b>[] { <span class="r40 r">reference</span>, <span class="r41 r">compared</span> });
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> compare the given commits and return the changes.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r48 r">repo</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r49 r">walk</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r50 r">commits</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">first commit in the array is the commit that is compared against the others which are his ancestors (i.e. from different branches)</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>private static</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="Change.cs.html#6c54d93d304b9fc9" class="t t">Change</a>&gt; <a id="82427a79254c194d" href="R/82427a79254c194d.html" target="n" data-glyph="76,1" class="i method">CalculateCommitDiff</a>(<a href="Repository.cs.html#88d32bb614749450" class="t t">Repository</a> <span id="r48 rd" class="r48 r">repo</span>, <a href="/GitSharp.Core/A.html#f77ff77748e6b1dc" class="t t">TreeWalk</a> <span id="r49 rd" class="r49 r">walk</span>, <a href="#bffc211799c30414" class="t t">Commit</a>[] <span id="r50 rd" class="r50 r">commits</span>)
		{
			<b>while</b> (<span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#2e7c4dbc3070e2c6" class="i method">next</a>())
			{
				<b>int</b> <span id="r51 rd" class="r51 r">m0</span> = <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#6469f9901431fde0" class="i method">getRawMode</a>(0);
				<b>if</b> (<span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#fa4c7d004b2cbe88" class="i method">getTreeCount</a>() == 2)
				{
					<b>int</b> <span id="r52 rd" class="r52 r">m1</span> = <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#6469f9901431fde0" class="i method">getRawMode</a>(1);
					<a href="Change.cs.html#6c54d93d304b9fc9" class="k">var</a> <span id="r53 rd" class="r53 r">change</span> = <b>new</b> <a href="Change.cs.html#6c54d93d304b9fc9" class="t constructor">Change</a>
					{
						<a href="Change.cs.html#bb7a252614ba8346" class="i property">ReferenceCommit</a> = <span class="r50 r">commits</span>[0],
						<a href="Change.cs.html#1eda092a3abe2dda" class="i property">ComparedCommit</a> = <span class="r50 r">commits</span>[1],
						<a href="Change.cs.html#2d6f2d1e0c3b11da" class="i property">ReferencePermissions</a> = <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#875887b97e8c273b" class="i method">getFileMode</a>(0).<a href="/GitSharp.Core/A.html#7d4c5f3129ccce3b" class="i property">Bits</a>,
						<a href="Change.cs.html#316a1c6f11023195" class="i property">ComparedPermissions</a> = <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#875887b97e8c273b" class="i method">getFileMode</a>(1).<a href="/GitSharp.Core/A.html#7d4c5f3129ccce3b" class="i property">Bits</a>,
						<a href="Change.cs.html#5b59308ab6e52578" class="i property">Name</a> = <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#d2e1f97b451167e2" class="i method">getNameString</a>(),
						<a href="Change.cs.html#a8a7a8e38f3edf3f" class="i property">Path</a> = <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#8657957acb63196c" class="i method">getPathString</a>(),
					};
					<b>if</b> (<span class="r51 r">m0</span> != 0 &amp;&amp; <span class="r52 r">m1</span> == 0)
					{
						<span class="r53 r">change</span>.<a href="Change.cs.html#347a448096675350" class="i property">ChangeType</a> = <a href="Change.cs.html#0aa836e680979dc6" class="t t">ChangeType</a>.<a href="Change.cs.html#7f62f0b392a5d6b4" class="i field">Added</a>;
						<span class="r53 r">change</span>.<a href="Change.cs.html#0b0395e15759dd91" class="i property">ComparedObject</a> = <a href="AbstractObject.cs.html#55b0377bd05051fe" class="i method">Wrap</a>(<span class="r48 r">repo</span>, <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#92662a6daacfc825" class="i method">getObjectId</a>(0));
					}
					<b>else if</b> (<span class="r51 r">m0</span> == 0 &amp;&amp; <span class="r52 r">m1</span> != 0)
					{
						<span class="r53 r">change</span>.<a href="Change.cs.html#347a448096675350" class="i property">ChangeType</a> = <a href="Change.cs.html#0aa836e680979dc6" class="t t">ChangeType</a>.<a href="Change.cs.html#dcdd3962cd6b021b" class="i field">Deleted</a>;
						<span class="r53 r">change</span>.<a href="Change.cs.html#36b447f856d5d1c4" class="i property">ReferenceObject</a> = <a href="AbstractObject.cs.html#55b0377bd05051fe" class="i method">Wrap</a>(<span class="r48 r">repo</span>, <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#92662a6daacfc825" class="i method">getObjectId</a>(0));
					}
					<b>else if</b> (<span class="r51 r">m0</span> != <span class="r52 r">m1</span> &amp;&amp; <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#8c51cbfd447ad89e" class="i method">idEqual</a>(0, 1))
					{
						<span class="r53 r">change</span>.<a href="Change.cs.html#347a448096675350" class="i property">ChangeType</a> = <a href="Change.cs.html#0aa836e680979dc6" class="t t">ChangeType</a>.<a href="Change.cs.html#f2f55cbb1512c8c2" class="i field">TypeChanged</a>;
						<span class="r53 r">change</span>.<a href="Change.cs.html#36b447f856d5d1c4" class="i property">ReferenceObject</a> = <a href="AbstractObject.cs.html#55b0377bd05051fe" class="i method">Wrap</a>(<span class="r48 r">repo</span>, <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#92662a6daacfc825" class="i method">getObjectId</a>(0));
						<span class="r53 r">change</span>.<a href="Change.cs.html#0b0395e15759dd91" class="i property">ComparedObject</a> = <a href="AbstractObject.cs.html#55b0377bd05051fe" class="i method">Wrap</a>(<span class="r48 r">repo</span>, <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#92662a6daacfc825" class="i method">getObjectId</a>(1));
					}
					<b>else</b>
					{
						<span class="r53 r">change</span>.<a href="Change.cs.html#347a448096675350" class="i property">ChangeType</a> = <a href="Change.cs.html#0aa836e680979dc6" class="t t">ChangeType</a>.<a href="Change.cs.html#d3f40c713a48820e" class="i field">Modified</a>;
						<span class="r53 r">change</span>.<a href="Change.cs.html#36b447f856d5d1c4" class="i property">ReferenceObject</a> = <a href="AbstractObject.cs.html#55b0377bd05051fe" class="i method">Wrap</a>(<span class="r48 r">repo</span>, <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#92662a6daacfc825" class="i method">getObjectId</a>(0));
						<span class="r53 r">change</span>.<a href="Change.cs.html#0b0395e15759dd91" class="i property">ComparedObject</a> = <a href="AbstractObject.cs.html#55b0377bd05051fe" class="i method">Wrap</a>(<span class="r48 r">repo</span>, <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#92662a6daacfc825" class="i method">getObjectId</a>(1));
					}
					<b>yield return</b> <span class="r53 r">change</span>;
				}
				<b>else</b>
				{
					<b>var</b> <span id="r54 rd" class="r54 r">raw_modes</span> = <b>new</b> <b>int</b>[<span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#fa4c7d004b2cbe88" class="i method">getTreeCount</a>()-1];
					<b>for</b>(<b>int</b> <span id="r55 rd" class="r55 r">i</span> = 0;<span class="r55 r">i</span>&lt;<span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#fa4c7d004b2cbe88" class="i method">getTreeCount</a>()-1; <span class="r55 r">i</span>++)
						<span class="r54 r">raw_modes</span>[<span class="r55 r">i</span>] = <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#6469f9901431fde0" class="i method">getRawMode</a>(<span class="r55 r">i</span>+1);
					<a href="Change.cs.html#6c54d93d304b9fc9" class="k">var</a> <span id="r56 rd" class="r56 r">change</span> = <b>new</b> <a href="Change.cs.html#6c54d93d304b9fc9" class="t constructor">Change</a>
					{
						<a href="Change.cs.html#bb7a252614ba8346" class="i property">ReferenceCommit</a> = <span class="r50 r">commits</span>[0],
						<span class="c">//ComparedCommit = compared,</span>
						<a href="Change.cs.html#5b59308ab6e52578" class="i property">Name</a> = <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#d2e1f97b451167e2" class="i method">getNameString</a>(),
						<a href="Change.cs.html#a8a7a8e38f3edf3f" class="i property">Path</a> = <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#8657957acb63196c" class="i method">getPathString</a>(),
					};
					<b>if</b> (<span class="r51 r">m0</span> != 0 &amp;&amp; <span class="r54 r">raw_modes</span>.<a href="@0@System.Core/A.html#be4bfd025bd2724c" class="i method">All</a>(<span id="r57 rd" class="r57 r">m1</span> =&gt; <span class="r57 r">m1</span> == 0))
					{
						<span class="r56 r">change</span>.<a href="Change.cs.html#347a448096675350" class="i property">ChangeType</a> = <a href="Change.cs.html#0aa836e680979dc6" class="t t">ChangeType</a>.<a href="Change.cs.html#7f62f0b392a5d6b4" class="i field">Added</a>;
						<span class="r56 r">change</span>.<a href="Change.cs.html#0b0395e15759dd91" class="i property">ComparedObject</a> = <a href="AbstractObject.cs.html#55b0377bd05051fe" class="i method">Wrap</a>(<span class="r48 r">repo</span>, <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#92662a6daacfc825" class="i method">getObjectId</a>(0));
						<b>yield return</b> <span class="r56 r">change</span>;
					}
					<b>else if</b> (<span class="r51 r">m0</span> == 0 &amp;&amp; <span class="r54 r">raw_modes</span>.<a href="@0@System.Core/A.html#6a1af7c3d17845e3" class="i method">Any</a>(<span id="r58 rd" class="r58 r">m1</span> =&gt; <span class="r58 r">m1</span> != 0))
					{
						<span class="r56 r">change</span>.<a href="Change.cs.html#347a448096675350" class="i property">ChangeType</a> = <a href="Change.cs.html#0aa836e680979dc6" class="t t">ChangeType</a>.<a href="Change.cs.html#dcdd3962cd6b021b" class="i field">Deleted</a>;
						<b>yield return</b> <span class="r56 r">change</span>;
					}
					<b>else if</b> (<span class="r54 r">raw_modes</span>.<a href="@0@System.Core/A.html#d3e6cf8553f8ad92" class="i method">Select</a>((<span id="r59 rd" class="r59 r">m1</span>, <span id="r60 rd" class="r60 r">i</span>) =&gt; <b>new</b> { <a href="#cede104378b787b2" class="i property">Mode</a> = <span class="r59 r">m1</span>, <a href="#3dfa3812ca56849a" class="i property">Index</a> = <span class="r60 r">i</span> + 1 }).<a href="@0@System.Core/A.html#be4bfd025bd2724c" class="i method">All</a>(<span id="r61 rd" class="r61 r">x</span> =&gt; !<span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#8c51cbfd447ad89e" class="i method">idEqual</a>(0, <span class="r61 r">x</span>.<a href="#3dfa3812ca56849a" class="i property">Index</a>))) <span class="c">// TODO: not sure if this condition suffices in some special cases.</span>
					{
						<span class="r56 r">change</span>.<a href="Change.cs.html#347a448096675350" class="i property">ChangeType</a> = <a href="Change.cs.html#0aa836e680979dc6" class="t t">ChangeType</a>.<a href="Change.cs.html#d3f40c713a48820e" class="i field">Modified</a>;
						<span class="r56 r">change</span>.<a href="Change.cs.html#36b447f856d5d1c4" class="i property">ReferenceObject</a> = <a href="AbstractObject.cs.html#55b0377bd05051fe" class="i method">Wrap</a>(<span class="r48 r">repo</span>, <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#92662a6daacfc825" class="i method">getObjectId</a>(0));
						<b>yield return</b> <span class="r56 r">change</span>;
					}
					<b>else if</b> (<span class="r54 r">raw_modes</span>.<a href="@0@System.Core/A.html#d3e6cf8553f8ad92" class="i method">Select</a>((<span id="r62 rd" class="r62 r">m1</span>, <span id="r63 rd" class="r63 r">i</span>) =&gt; <b>new</b> { <a href="#cede104378b787b2" class="i property">Mode</a> = <span class="r62 r">m1</span>, <a href="#3dfa3812ca56849a" class="i property">Index</a> = <span class="r63 r">i</span> + 1 }).<a href="@0@System.Core/A.html#6a1af7c3d17845e3" class="i method">Any</a>(<span id="r64 rd" class="r64 r">x</span> =&gt; <span class="r51 r">m0</span> != <span class="r64 r">x</span>.<a href="#cede104378b787b2" class="i property">Mode</a> &amp;&amp; <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#8c51cbfd447ad89e" class="i method">idEqual</a>(0, <span class="r64 r">x</span>.<a href="#3dfa3812ca56849a" class="i property">Index</a>)))
					{
						<span class="r56 r">change</span>.<a href="Change.cs.html#347a448096675350" class="i property">ChangeType</a> = <a href="Change.cs.html#0aa836e680979dc6" class="t t">ChangeType</a>.<a href="Change.cs.html#f2f55cbb1512c8c2" class="i field">TypeChanged</a>;
						<span class="r56 r">change</span>.<a href="Change.cs.html#36b447f856d5d1c4" class="i property">ReferenceObject</a> = <a href="AbstractObject.cs.html#55b0377bd05051fe" class="i method">Wrap</a>(<span class="r48 r">repo</span>, <span class="r49 r">walk</span>.<a href="/GitSharp.Core/A.html#92662a6daacfc825" class="i method">getObjectId</a>(0));
						<b>yield return</b> <span class="r56 r">change</span>;
					}
				}
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Compares this commit against another one and returns all changes between the two.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r65 r">other</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="Change.cs.html#6c54d93d304b9fc9" class="t t">Change</a>&gt; <a id="b2d8d70e9eb74c1e" href="R/b2d8d70e9eb74c1e.html" target="n" data-glyph="72,1" class="i method">CompareAgainst</a>(<a href="#bffc211799c30414" class="t t">Commit</a> <span id="r65 rd" class="r65 r">other</span>)
		{
			<b>return</b> <a href="#e463c48b97a69a9c" class="i method">CompareCommits</a>(<a href="#bffc211799c30414" class="k">this</a>, <span class="r65 r">other</span>);
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Returns the changes of this commit vs. it&#39;s parent commit(s). Works for the first commit too.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="Change.cs.html#6c54d93d304b9fc9" class="t t">Change</a>&gt; <a id="1450371737d6203c" href="R/1450371737d6203c.html" target="n" data-glyph="102,1" class="i property">Changes</a>
		{
			<b>get</b>
			{
				<b>if</b> (<a href="#bffc211799c30414" class="k">this</a>.<a href="#f899dc0761ef6a06" class="i property">Parents</a>.<a href="@0@System.Core/A.html#41ef9e39e54d0d0b" class="i method">Count</a>() == 0)
					<b>return</b> <a href="#e463c48b97a69a9c" class="i method">CompareCommits</a>(<a href="#bffc211799c30414" class="k">this</a>, <b>null</b>);
				<b>else
					return</b> <a href="#f46c45ac4c7603da" class="i method">CompareAgainstParents</a>();
			}
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Compare a commit against (one or multiple) parents (merge scenario)</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">Changes of the commit</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>private</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="Change.cs.html#6c54d93d304b9fc9" class="t t">Change</a>&gt; <a id="f46c45ac4c7603da" href="R/f46c45ac4c7603da.html" target="n" data-glyph="76,1" class="i method">CompareAgainstParents</a>()
		{
			<a href="/GitSharp.Core/A.html#a967877e73d4cc25" class="k">var</a> <span id="r66 rd" class="r66 r">db</span> = <a href="AbstractObject.cs.html#a935003f8a4b38a5" class="i field">_repo</a>.<a href="Repository.cs.html#9f5ec8d7098d03b2" class="i field">_internal_repo</a>;
			<b>var</b> <span id="r67 rd" class="r67 r">tree_ids</span> = <b>new</b>[] { <a href="#bffc211799c30414" class="k">this</a> }.<a href="@0@System.Core/A.html#9c0a66e386e37265" class="i method">Concat</a>(<a href="#f899dc0761ef6a06" class="i property">Parents</a>).<a href="@0@System.Core/A.html#5c652c53e80df013" class="i method">Select</a>(<span id="r68 rd" class="r68 r">c</span> =&gt; <span class="r68 r">c</span>.<a href="#4492c9e61456067c" class="i property">Tree</a>.<a href="AbstractObject.cs.html#8e8765922f1fbec8" class="i field">_id</a>).<a href="@0@System.Core/A.html#783a052330e7d48d" class="i method">ToArray</a>();
			<a href="/GitSharp.Core/A.html#f77ff77748e6b1dc" class="k">var</a> <span id="r69 rd" class="r69 r">walk</span> = <b>new</b> <a href="/GitSharp.Core/A.html#06ce8352273419f1" class="t constructor">TreeWalk</a>(<span class="r66 r">db</span>);
			<span class="r69 r">walk</span>.<a href="/GitSharp.Core/A.html#82746737f31712d5" class="i method">reset</a>(<span class="r67 r">tree_ids</span>);
			<span class="r69 r">walk</span>.<a href="/GitSharp.Core/A.html#631ba2ce7faf766b" class="i property">Recursive</a> = <b>true</b>;
			<span class="r69 r">walk</span>.<a href="/GitSharp.Core/A.html#e53f6346709477c8" class="i method">setFilter</a>(<a href="/GitSharp.Core/A.html#1abfeb618166ec0c" class="t t">AndTreeFilter</a>.<a href="/GitSharp.Core/A.html#12eda0b43f0b657c" class="i method">create</a>(<a href="/GitSharp.Core/A.html#d8e673a46146a43f" class="t t">TreeFilter</a>.<a href="/GitSharp.Core/A.html#39178287276a582b" class="i field">ANY_DIFF</a>, <a href="/GitSharp.Core/A.html#d8e673a46146a43f" class="t t">TreeFilter</a>.<a href="/GitSharp.Core/A.html#91fc3c99ea5b3c9c" class="i field">ALL</a>));

			<b>return</b> <a href="#82427a79254c194d" class="i method">CalculateCommitDiff</a>(<a href="AbstractObject.cs.html#a935003f8a4b38a5" class="i field">_repo</a>, <span class="r69 r">walk</span>, <b>new</b>[] { <a href="#bffc211799c30414" class="k">this</a> }.<a href="@0@System.Core/A.html#9c0a66e386e37265" class="i method">Concat</a>(<a href="#f899dc0761ef6a06" class="i property">Parents</a>).<a href="@0@System.Core/A.html#783a052330e7d48d" class="i method">ToArray</a>());
		}


		<span class="k preprocess">#</span><span class="k preprocess">endregion</span>

		<span class="k preprocess">#</span><span class="k preprocess">region</span> --&gt; Committing


		<b>public static</b> <a href="#bffc211799c30414" class="t t">Commit</a> <a id="ea5cfb619cab36e4" href="R/ea5cfb619cab36e4.html" target="n" data-glyph="72,1" class="i method">Create</a>(<b>string</b> <span id="r70 rd" class="r70 r">message</span>, <a href="#bffc211799c30414" class="t t">Commit</a> <span id="r71 rd" class="r71 r">parent</span>, <a href="Tree.cs.html#9d106130ffa6f832" class="t t">Tree</a> <span id="r72 rd" class="r72 r">tree</span>)
		{
			<b>if</b> (<span class="r72 r">tree</span> == <b>null</b>)
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">&quot;tree must not be null&quot;</span>);
			<a href="Repository.cs.html#88d32bb614749450" class="k">var</a> <span id="r73 rd" class="r73 r">repo</span> = <span class="r72 r">tree</span>.<a href="AbstractObject.cs.html#73e0952ef4aa28d3" class="i property">Repository</a>;
			<a href="Author.cs.html#a62af5f74cd98a14" class="k">var</a> <span id="r74 rd" class="r74 r">author</span> = <a href="Author.cs.html#a62af5f74cd98a14" class="t t">Author</a>.<a href="Author.cs.html#4c6c907d9312f886" class="i method">GetDefaultAuthor</a>(<span class="r71 r">parent</span>.<a href="AbstractObject.cs.html#a935003f8a4b38a5" class="i field">_repo</a>);
			<b>return</b> <a href="#3652a3ce0dd3318a" class="i method">Create</a>(<span class="r70 r">message</span>, <span class="r71 r">parent</span>, <span class="r72 r">tree</span>, <span class="r74 r">author</span>, <span class="r74 r">author</span>, <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a>.<a href="@0@mscorlib/A.html#c6573f48ac6bd630" class="i property">Now</a>);
		}

		<b>public static</b> <a href="#bffc211799c30414" class="t t">Commit</a> <a id="cf87fea29814f064" href="R/cf87fea29814f064.html" target="n" data-glyph="72,1" class="i method">Create</a>(<b>string</b> <span id="r75 rd" class="r75 r">message</span>, <a href="#bffc211799c30414" class="t t">Commit</a> <span id="r76 rd" class="r76 r">parent</span>, <a href="Tree.cs.html#9d106130ffa6f832" class="t t">Tree</a> <span id="r77 rd" class="r77 r">tree</span>, <a href="Author.cs.html#a62af5f74cd98a14" class="t t">Author</a> <span id="r78 rd" class="r78 r">author</span>)
		{
			<b>return</b> <a href="#3652a3ce0dd3318a" class="i method">Create</a>(<span class="r75 r">message</span>, <span class="r76 r">parent</span>, <span class="r77 r">tree</span>, <span class="r78 r">author</span>, <span class="r78 r">author</span>, <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a>.<a href="@0@mscorlib/A.html#c6573f48ac6bd630" class="i property">Now</a>);
		}

		<b>public static</b> <a href="#bffc211799c30414" class="t t">Commit</a> <a id="3652a3ce0dd3318a" href="R/3652a3ce0dd3318a.html" target="n" data-glyph="72,1" class="i method">Create</a>(<b>string</b> <span id="r79 rd" class="r79 r">message</span>, <a href="#bffc211799c30414" class="t t">Commit</a> <span id="r80 rd" class="r80 r">parent</span>, <a href="Tree.cs.html#9d106130ffa6f832" class="t t">Tree</a> <span id="r81 rd" class="r81 r">tree</span>, <a href="Author.cs.html#a62af5f74cd98a14" class="t t">Author</a> <span id="r82 rd" class="r82 r">author</span>, <a href="Author.cs.html#a62af5f74cd98a14" class="t t">Author</a> <span id="r83 rd" class="r83 r">committer</span>, <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a> <span id="r84 rd" class="r84 r">time</span>)
		{
			<b>return</b> <a href="#299cfbecbc06e71c" class="i method">Create</a>(<span class="r79 r">message</span>, (<span class="r80 r">parent</span> == <b>null</b> ? <b>new</b> <a href="#bffc211799c30414" class="t t">Commit</a>[0] : <b>new</b>[] { <span class="r80 r">parent</span> }), <span class="r81 r">tree</span>, <span class="r82 r">author</span>, <span class="r83 r">committer</span>, <span class="r84 r">time</span>);
		}

		<b>public static</b> <a href="#bffc211799c30414" class="t t">Commit</a> <a id="299cfbecbc06e71c" href="R/299cfbecbc06e71c.html" target="n" data-glyph="72,1" class="i method">Create</a>(<b>string</b> <span id="r85 rd" class="r85 r">message</span>, <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="#bffc211799c30414" class="t t">Commit</a>&gt; <span id="r86 rd" class="r86 r">parents</span>, <a href="Tree.cs.html#9d106130ffa6f832" class="t t">Tree</a> <span id="r87 rd" class="r87 r">tree</span>, <a href="Author.cs.html#a62af5f74cd98a14" class="t t">Author</a> <span id="r88 rd" class="r88 r">author</span>, <a href="Author.cs.html#a62af5f74cd98a14" class="t t">Author</a> <span id="r89 rd" class="r89 r">committer</span>, <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a> <span id="r90 rd" class="r90 r">time</span>)
		{
			<b>if</b> (<b>string</b>.<a href="@0@mscorlib/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<span class="r85 r">message</span>))
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">&quot;message must not be null or empty&quot;</span>);
			<b>if</b> (<span class="r87 r">tree</span> == <b>null</b>)
				<b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">&quot;tree must not be null&quot;</span>);
			<a href="Repository.cs.html#88d32bb614749450" class="k">var</a> <span id="r91 rd" class="r91 r">repo</span> = <span class="r87 r">tree</span>.<a href="AbstractObject.cs.html#73e0952ef4aa28d3" class="i property">Repository</a>;
			<a href="/GitSharp.Core/A.html#6c448dd0f2a39a5d" class="k">var</a> <span id="r92 rd" class="r92 r">corecommit</span> = <b>new</b> <span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#14da8ea3a6972960" class="t constructor">Commit</a>(<span class="r91 r">repo</span>.<a href="Repository.cs.html#9f5ec8d7098d03b2" class="i field">_internal_repo</a>);
			<b>if</b> (<span class="r86 r">parents</span> != <b>null</b>)
				<span class="r92 r">corecommit</span>.<a href="/GitSharp.Core/A.html#05ed469ec0352a50" class="i property">ParentIds</a> = <span class="r86 r">parents</span>.<a href="@0@System.Core/A.html#5c652c53e80df013" class="i method">Select</a>(<span id="r93 rd" class="r93 r">parent</span> =&gt; <span class="r93 r">parent</span>.<a href="AbstractObject.cs.html#8e8765922f1fbec8" class="i field">_id</a>).<a href="@0@System.Core/A.html#783a052330e7d48d" class="i method">ToArray</a>();
			<span class="r92 r">corecommit</span>.<a href="/GitSharp.Core/A.html#34241d839085af6d" class="i property">Author</a> = <b>new</b> <span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#d0c5792010f8df1b" class="t constructor">PersonIdent</a>(<span class="r88 r">author</span>.<a href="Author.cs.html#8aeb12ff437a5b86" class="i property">Name</a>, <span class="r88 r">author</span>.<a href="Author.cs.html#addb3c41fff09b0c" class="i property">EmailAddress</a>, <span class="r90 r">time</span>.<a href="/GitSharp.Core/A.html#0ff6554c7dd21bc1" class="i method">ToMillisecondsSinceEpoch</a>(), (<b>int</b>)<span class="r90 r">time</span>.<a href="@0@mscorlib/A.html#1bc976bb59f3dd6e" class="i property">Offset</a>.<a href="@0@mscorlib/A.html#e5003a04d5193095" class="i property">TotalMinutes</a>);
			<span class="r92 r">corecommit</span>.<a href="/GitSharp.Core/A.html#ce367880e413101f" class="i property">Committer</a> = <b>new</b> <span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#d0c5792010f8df1b" class="t constructor">PersonIdent</a>(<span class="r89 r">committer</span>.<a href="Author.cs.html#8aeb12ff437a5b86" class="i property">Name</a>, <span class="r89 r">committer</span>.<a href="Author.cs.html#addb3c41fff09b0c" class="i property">EmailAddress</a>, <span class="r90 r">time</span>.<a href="/GitSharp.Core/A.html#0ff6554c7dd21bc1" class="i method">ToMillisecondsSinceEpoch</a>(), (<b>int</b>)<span class="r90 r">time</span>.<a href="@0@mscorlib/A.html#1bc976bb59f3dd6e" class="i property">Offset</a>.<a href="@0@mscorlib/A.html#e5003a04d5193095" class="i property">TotalMinutes</a>);
			<span class="r92 r">corecommit</span>.<a href="/GitSharp.Core/A.html#28567699584cce31" class="i property">Message</a> = <span class="r85 r">message</span>;
			<span class="r92 r">corecommit</span>.<a href="/GitSharp.Core/A.html#8616cbc2288925c1" class="i property">TreeEntry</a> = <span class="r87 r">tree</span>.<a href="Tree.cs.html#d0f9f8f266b866cf" class="i property">InternalTree</a>;
			<span class="r92 r">corecommit</span>.<a href="/GitSharp.Core/A.html#5037496c84af9ccd" class="i property">Encoding</a> = <a href="#615b855e40774629" class="i method">GetCommitEncoding</a>(<span class="r91 r">repo</span>);
			<span class="r92 r">corecommit</span>.<a href="/GitSharp.Core/A.html#58cfc86efb1e2ed0" class="i method">Save</a>();
			<b>return</b> <b>new</b> <a href="#8042e7d7fdc2f201" class="t constructor">Commit</a>(<span class="r91 r">repo</span>, <span class="r92 r">corecommit</span>);
		}

		<b>private static</b> <a href="@0@mscorlib/A.html#3b6090c501893c25" class="t t">Encoding</a> <a id="615b855e40774629" href="R/615b855e40774629.html" target="n" data-glyph="76,1" class="i method">GetCommitEncoding</a>(<a href="Repository.cs.html#88d32bb614749450" class="t t">Repository</a> <span id="r94 rd" class="r94 r">repository</span>)
		{
			<b>string</b> <span id="r95 rd" class="r95 r">encodingAlias</span> = <span class="r94 r">repository</span>.<a href="Repository.cs.html#89f19aa9409d3b2e" class="i property">Config</a><a href="Config.cs.html#315ad48e3e8b6b60">[</a><span class="s">&quot;i18n.commitencoding&quot;</span>];
			<b>if</b> (<span class="r95 r">encodingAlias</span> == <b>null</b>)
			{
				<span class="c">// No commitencoding has been specified in the config</span>
				<b>return null</b>;
			}
			<b>return</b> <a href="/GitSharp.Core/A.html#deb6aa96e25fd4d7" class="t t">Charset</a>.<a href="/GitSharp.Core/A.html#053612684daba28e" class="i method">forName</a>(<span class="r95 r">encodingAlias</span>);
		}


		<span class="k preprocess">#</span><span class="k preprocess">endregion</span>

		<b>public static implicit operator</b> <span class="i n">Core</span>.<a href="/GitSharp.Core/A.html#6c448dd0f2a39a5d" class="t t">Commit</a>(<a href="#bffc211799c30414" class="t t">Commit</a> <span id="r96 rd" class="r96 r">c</span>)
		{
			<b>return</b> <span class="r96 r">c</span>.<a href="#12904d57028ec5b6" class="i property">InternalCommit</a>;
		}

		<b>public override string</b> <a id="f37d16a6acedbdef" href="R/f37d16a6acedbdef.html" target="n" data-glyph="72,1" class="i method">ToString</a>()
		{
			<b>return</b> <span class="s">&quot;Commit[&quot;</span> + <a href="AbstractObject.cs.html#006aeaad20cafcc5" class="i property">ShortHash</a> + <span class="s">&quot;]&quot;</span>;
		}
	}
}
</pre></td></tr></table></div></body></html>
