<!DOCTYPE html>
<html><head><title>git-submodules.md</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="ix(51);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/osx-wiki/git-submodules.md" target="_top">/osx-wiki\git-submodules.md</a><br/></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
# GIT 
 
Hard reset for restore files (like in SVN):
```
git reset --hard HEAD 
git pull
``` 
 
### Working With Submodules
 
```
git submodule update --init --recursive
```
 
Mono references several external git submodules, for example a fork of Microsoft&#39;s reference source code that has been
 altered to be suitable for use with the Mono runtime.
 
This section describes how to use it.
 
An initial clone should be done recursively so all submodules will also be cloned in a single pass:
 
```
$ git clone --recursive git@github.com:mono/mono
Once cloned, submodules can be updated to pull down the latest changes. This can also be done after an initial non-recursive clone:
 
$ git submodule update --init --recursive
To pull external changes into a submodule:
 
$ cd <span class="xd">&lt;</span><span class="xn">submodule</span><span class="xd">&gt;</span>
$ git pull origin <span class="xd">&lt;</span><span class="xn">branch</span><span class="xd">&gt;</span>
$ cd <span class="xd">&lt;</span><span class="xn">top-level</span><span class="xd">&gt;</span>
$ git add <span class="xd">&lt;</span><span class="xn">submodule</span><span class="xd">&gt;</span>
$ git commit
By default, submodules are detached because they point to a specific commit. Use git checkout to move back to a branch before making changes:
 
$ cd <span class="xd">&lt;</span><span class="xn">submodule</span><span class="xd">&gt;</span>
$ git checkout <span class="xd">&lt;</span><span class="xn">branch</span><span class="xd">&gt;</span>
# work as normal; the submodule is a normal repo
$ git commit/push new changes to the repo (submodule)
 
$ cd <span class="xd">&lt;</span><span class="xn">top-level</span><span class="xd">&gt;</span>
$ git add <span class="xd">&lt;</span><span class="xn">submodule</span><span class="xd">&gt;</span> # this will record the new commits to the submodule
$ git commit
To switch the repo of a submodule (this should not be a common or normal thing to do at all), first edit .gitmodules to point to the new location, then:
 
$ git submodule sync -- <span class="xd">&lt;</span><span class="xn">path </span><span class="xan">of </span><span class="xan">the </span><span class="xan">submodule</span><span class="xd">&gt;</span>
$ git submodule update --recursive
$ git checkout <span class="xd">&lt;</span><span class="xn">desired </span><span class="xan">new </span><span class="xan">hash </span><span class="xan">or </span><span class="xan">branch</span><span class="xd">&gt;</span>
```
The desired output diff is a change in .gitmodules to reflect the change in the remote URL, 
and a change in / where you see the desired change in the commit hash.
</pre></td></tr></table></div></body></html>
