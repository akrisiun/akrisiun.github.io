<!DOCTYPE html>
<html><head><title>MainWindow.xaml.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(134);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#fcmdp/MainWindow.xaml.cs" target="_top">MainWindow.xaml.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#fcmdp" target="_top">fcmd\fcmdp.csproj</a> (fcmdp)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Globalization</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>.<span class="i n">Packaging</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Net</span>.<span class="i n">Mime</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Resources</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Markup</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Media</span>.<span class="i n">Imaging</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Navigation</span>; 
 
<span class="c">//#if !VS13</span>
<span class="c">//[assembly: NeutralResourcesLanguageAttribute(&quot;en&quot;, UltimateResourceFallbackLocation.MainAssembly)]</span>
<span class="c">//#endif</span>
 
<b>namespace</b> <span class="i n">fcmd</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Interaction logic for MainWindow.xaml</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public</b> <a href="P/6628552ccd0b005b.html" target="s" class="k">partial</a> <b>class</b> <a id="6628552ccd0b005b" href="R/6628552ccd0b005b.html" target="n" data-glyph="0,0" class="t t">MainWindow</a> : <a href="@0@PresentationFramework/A.html#e438dc91640a8d15" class="t t">Window</a>, <a href="@0@System.Xaml/A.html#80d9302436015d41" class="t t">IComponentConnector</a>
    {
        <b>public static bool</b> <a id="288fd9faada6a7a1" href="R/288fd9faada6a7a1.html" target="n" data-glyph="102,1" class="i property">AppLoading</a> { <b>get</b>; <b>set</b>; }
 
        <b>static</b> <a id="caa86b625626c497" href="R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">MainWindow</a>() { <a href="#288fd9faada6a7a1" class="i property">AppLoading</a> = <b>true</b>; <a href="#2932a4ea25206a61" class="i property">AllowShutdown</a> = <b>true</b>; }
 
        <b>public</b> <a id="d7dee9dee164f747" href="R/d7dee9dee164f747.html" target="n" data-glyph="72,1" class="i constructor">MainWindow</a>()
        {
            <a href="@0@mscorlib/A.html#eaded93a1686cd27" class="t t">ResourceManager</a> <span id="r0 rd" class="r0 r">rm</span> = <b>new</b> <a href="@0@mscorlib/A.html#2bad33ee962a67be" class="t constructor">ResourceManager</a>(<span class="s">&quot;Resources&quot;</span>, <b>typeof</b>(<a href="P/6628552ccd0b005b.html#6628552ccd0b005b" class="t t">MainWindow</a>).<a href="@0@mscorlib/A.html#e87d536bd07fab01" class="i property">Assembly</a>);
            <a href="@0@mscorlib/A.html#3980e012bae82e96" class="t t">Thread</a>.<a href="@0@mscorlib/A.html#89653a7faafd4d23" class="i property">CurrentThread</a>.<a href="@0@mscorlib/A.html#5bb268259118bb83" class="i property">CurrentUICulture</a> = <a href="@0@mscorlib/A.html#e319c6636909012f" class="t t">CultureInfo</a>.<a href="@0@mscorlib/A.html#26ef1c020f0dbb7a" class="i property">InvariantCulture</a>;
 
            <span class="i">InitializeComponent</span>();
 
            <a href="@0@PresentationFramework/A.html#5002b3a8c196a7d1" class="i property">Title</a> = <span class="s">&quot;FC loading .. &quot;</span> + <a href="@0@mscorlib/A.html#7d2f1469d916fc63" class="t t">Environment</a>.<a href="@0@mscorlib/A.html#b64586ead0df012b" class="i property">CurrentDirectory</a>;
            <b>try</b>
            {   <span class="c">// var compileCheck = GetType().Assembly.GetManifestResourceNames();</span>
                <span class="i n">System</span>.<span class="i n">IO</span>.<a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r1 rd" class="r1 r">iconStream</span> = <a href="@0@mscorlib/A.html#4d73eb225aef8a61" class="i method">GetType</a>().<a href="@0@mscorlib/A.html#e87d536bd07fab01" class="i property">Assembly</a>.<a href="@0@mscorlib/A.html#9c90fad516060e0d" class="i method">GetManifestResourceStream</a>(<span class="s">&quot;fcmd.FavIcon.ico&quot;</span>);
                <a href="@0@PresentationFramework/A.html#dc37dd0b84eb7b31" class="i property">Icon</a> = <a href="@0@PresentationCore/A.html#f24c58a885df09fe" class="t t">IconBitmapDecoder</a>.<a href="@0@PresentationCore/A.html#eb5462e4743b5590" class="i method">Create</a>(<span class="r1 r">iconStream</span>, <a href="@0@PresentationCore/A.html#f16ee6363903c31c" class="t t">BitmapCreateOptions</a>.<a href="@0@PresentationCore/A.html#2da53e15fa7de8f1" class="i field">None</a>, <a href="@0@PresentationCore/A.html#2892a7144be883ba" class="t t">BitmapCacheOption</a>.<a href="@0@PresentationCore/A.html#557dbcdc4959d599" class="i field">None</a>).<a href="@0@PresentationCore/A.html#ab0f1a0e8cde53f4" class="i property">Frames</a>[0];
            }
            <b>catch</b> { }
 
            <a href="App.xaml.cs.html#76450589a57e2db8" class="t t">App</a>.<a href="App.xaml.cs.html#d16324194bcf5e9e" class="i method">ConsoleWriteLine</a>(<span class="s">&quot;Xwt InitializeApp&quot;</span>);
            <span class="i n">Xwt</span>.<a href="/Xwt3/A.html#687215caac5b1b53" class="t t">Application</a>.<a href="/Xwt3/A.html#ab6f5bce7e500c7b" class="i method">Initialize</a>(<span class="i n">Xwt</span>.<a href="/Xwt3/A.html#152e9a705b3e61d0" class="t t">ToolkitType</a>.<a href="/Xwt3/A.html#dd7b2976aa7b82e8" class="i field">Wpf</a>);
            <span class="i n">Xwt</span>.<a href="/Xwt3/A.html#b9022100aba37d61" class="t t">Toolkit</a>.<a href="/Xwt3/A.html#37032314a1a02325" class="i method">Load</a>(<span class="i n">Xwt</span>.<a href="/Xwt3/A.html#152e9a705b3e61d0" class="t t">ToolkitType</a>.<a href="/Xwt3/A.html#dd7b2976aa7b82e8" class="i field">Wpf</a>)
                .<a href="/Xwt3/A.html#2cbe4cfcddae60b9" class="i method">Invoke</a>(() =&gt; <a href="#cf318b5626ee4201" class="i method">InitializeXwt</a>());
            <span class="c">// Initialize() being your own custom method.This is actually what the MixedGtkMacTest does.</span>
            <a href="App.xaml.cs.html#76450589a57e2db8" class="t t">App</a>.<a href="App.xaml.cs.html#d16324194bcf5e9e" class="i method">ConsoleWriteLine</a>(<span class="s">&quot;Xwt InitializeApp Stage#2&quot;</span>);
 
            <a href="App.xaml.cs.html#76450589a57e2db8" class="t t">App</a>.<a href="App.xaml.cs.html#d16324194bcf5e9e" class="i method">ConsoleWriteLine</a>(<span class="s">&quot;MainWindow Init&quot;</span>);
            <a href="P/6628552ccd0b005b.html#6628552ccd0b005b" class="k">this</a>.<a href="Model/MainDataContext.cs.html#74b67c69f15688bd" class="i method">Init</a>();    <span class="c">// View.WindowDataStatic.Init(this);</span>
 
            <a href="P/6628552ccd0b005b.html#6628552ccd0b005b" class="k">this</a>.<a href="@0@PresentationFramework/A.html#9fd79ba8127bdb15" class="i">Closed</a> += <a href="#d400d96aef78c625" class="i method">MainWindow_Closed</a>;
        }
 
        <b>public static bool</b> <a id="2932a4ea25206a61" href="R/2932a4ea25206a61.html" target="n" data-glyph="102,1" class="i property">AllowShutdown</a> { <b>get</b>; <b>set</b>; }    <span class="c">// for test unit or multiple MainWindow</span>
 
        <b>void</b> <a id="d400d96aef78c625" href="R/d400d96aef78c625.html" target="n" data-glyph="76,1" class="i method">MainWindow_Closed</a>(<b>object</b> <span id="r2 rd" class="r2 r">sender</span>, <a href="@0@mscorlib/A.html#9a1496aa60befd10" class="t t">EventArgs</a> <span id="r3 rd" class="r3 r">e</span>)
        {
            <b>if</b> (<a href="App.xaml.cs.html#76450589a57e2db8" class="t t">App</a>.<a href="App.xaml.cs.html#d1df58e8db816a79" class="i property">Instance</a> != <b>null</b> &amp;&amp; !<a href="#2932a4ea25206a61" class="i property">AllowShutdown</a>)
                <b>return</b>;
            <span class="i n">Platform</span>.<a href="Platform/Application.cs.html#bdcb5a95cfaad30f" class="t t">Application</a>.<a href="Platform/Application.cs.html#515ba428e143b6ee" class="i property">Current</a>.<a href="Platform/Application.cs.html#71f306c2cc58d293" class="i method">Shutdown</a>();
        }
 
<span class="k preprocess">#</span><span class="k preprocess">if</span> !<span class="i">VS</span> || <span class="i">__MonoCS__</span>
<span class="e">        // http://developer.xamarin.com/guides/android/under_the_hood/build_process/
        // System.Windows.Markup.IComponentConnector
 
        internal fcmd.View.Xaml.MenuPanelWpf Menu;
        internal fcmd.View.Xaml.PanelCmd FooterCmd;
        internal fcmd.View.Xaml.PanelWpf LeftPanel;
        internal fcmd.View.Xaml.PanelWpf RightPanel;
        internal System.Windows.Controls.GridSplitter panelSplitter;
 
        private bool _contentLoaded;
 
 
        public void InitializeComponent()
        {
            if (_contentLoaded)
            {
                return;
            }
            _contentLoaded = true;
 
            System.Uri resourceLocator = new System.Uri(&quot;/fcmdp;component/mainwindow.xaml&quot;, System.UriKind.Relative);
            System.Windows.Application.LoadComponent(this, resourceLocator);
 
         //   at System.Resources.ResourceManager.InternalGetResourceSet(CultureInfo culture, Boolean createIfNotExists, Boolean tryParents)
         //at System.Resources.ResourceManager.GetObject(String name, CultureInfo culture, Boolean wrapUnmanagedMemStream)
         //at MS.Internal.AppModel.ResourcePart.EnsureResourceLocationSet()
         //at MS.Internal.AppModel.ResourcePart.GetContentTypeCore()
         //at System.IO.Packaging.PackagePart.get_ContentType()
         //at System.Windows.Application.LoadComponent(Object component, Uri resourceLocator)
        }
 
        internal System.Delegate _CreateDelegate(System.Type delegateType, string handler)
        {
            return System.Delegate.CreateDelegate(delegateType, this, handler);
        }
 
        void IComponentConnector.Connect(int connectionId, object target)
        {
            switch (connectionId)
            {
                case 1:
                    this.Menu = ((fcmd.View.Xaml.MenuPanelWpf)(target));
                    return;
                case 2:
                    this.FooterCmd = ((fcmd.View.Xaml.PanelCmd)(target));
                    return;
                case 3:
                    this.LeftPanel = ((fcmd.View.Xaml.PanelWpf)(target));
                    return;
                case 4:
                    this.RightPanel = ((fcmd.View.Xaml.PanelWpf)(target));
                    return;
                case 5:
                    this.panelSplitter = ((System.Windows.Controls.GridSplitter)(target));
                    return;
            }
            this._contentLoaded = true;
        }
</span><span class="k preprocess">#</span><span class="k preprocess">endif</span>
 
        <b>void</b> <a id="cf318b5626ee4201" href="R/cf318b5626ee4201.html" target="n" data-glyph="76,1" class="i method">InitializeXwt</a>()
        {
            <span class="c">// Xwt init success</span>
            <a href="App.xaml.cs.html#76450589a57e2db8" class="t t">App</a>.<a href="App.xaml.cs.html#d16324194bcf5e9e" class="i method">ConsoleWriteLine</a>(<span class="s">&quot;InitializeXwt Stage#3&quot;</span>);
        }
    }
}
</pre></td></tr></table></div></body></html>
