<!DOCTYPE html>
<html><head><title>ListView2DataGrid.cs</title><link rel="stylesheet" href="../../../styles.css"><script src="../../../scripts.js"></script></head>
<body class="cB" onload="i(304);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#fcmdp/View.Xaml/ctrl/ListView2DataGrid.cs" target="_top">View.Xaml\ctrl\ListView2DataGrid.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#fcmdp" target="_top">fcmd\fcmdp.csproj</a> (fcmdp)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Controls</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Markup</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Controls</span>.<span class="i n">Primitives</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Media</span>;
<b>using</b> <span class="t">DrawingColor</span> = <span class="i n">System</span>.<span class="i n">Drawing</span>.<a href="@0@System.Drawing/A.html#9103fd761ca562ae" class="t t">Color</a>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;

<b>using</b> <span class="i n">pluginner</span>.<span class="i n">Widgets</span>;
<b>using</b> <span class="i n">fcmd</span>.<span class="i n">View</span>.<span class="i n">Xaml</span>;
<b>using</b> <span class="i n">fcmd</span>.<span class="i n">Controller</span>;
<b>using</b> <span class="i n">fcmd</span>.<span class="i n">Model</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Threading</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>.<span class="i n">Contracts</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">ComponentModel</span>;
 
<b>namespace</b> <span class="i n">fcmd</span>.<span class="i n">View</span>.<span class="i n">ctrl</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> File system visual data content, Xaml backend DataGrid control</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="09c99f4928324f7f" href="../../R/09c99f4928324f7f.html" target="n" data-glyph="0,0" class="t t">ListView2DataGrid</a> : <a href="@0@PresentationFramework/A.html#0a7919e43781659b" class="t t">DataGrid</a>, <a href="/pluginner/A.html#4c69dd1dca514a26" class="t t">IListingContainer</a>&lt;<a href="../ListPanel/ListItemXaml.cs.html#f370823f101f56f2" class="t t">ListItemXaml</a>&gt;, <a href="@0@PresentationCore/A.html#03573354299330dc" class="t t">IAddChild</a>, <a href="@0@PresentationFramework/A.html#0aae437edb845694" class="t t">IContainItemStorage</a>, <a href="/pluginner/A.html#cd726deca0938cea" class="t t">IControl</a>, <a href="/pluginner/A.html#43989336e2add87c" class="t t">IUIDispacher</a>
    {
        <span class="k preprocess">#</span><span class="k preprocess">region</span> ctor

        <span class="c">// Non visual data container</span>
        <b>public</b> <a href="../ListPanel/ListFiltered2Xaml.cs.html#60e2e4ae8a69c247" class="t t">ListFiltered2Xaml</a> <a id="788ce8299a6a3f09" href="../../R/788ce8299a6a3f09.html" target="n" data-glyph="102,1" class="i property">DataObj</a> {[<a href="@0@mscorlib/A.html#15085db4bf5c94f0" class="t constructor">DebuggerStepThrough</a>] <b>get</b>; <b>protected set</b>; }
        <b>public</b> <a href="../ListPanel/PanelWpf.xaml.cs.html#d33749159c63c8eb" class="t t">PanelWpf</a> <a id="908f45ebfc5fc450" href="../../R/908f45ebfc5fc450.html" target="n" data-glyph="102,1" class="i property">Panel</a> {[<a href="@0@mscorlib/A.html#15085db4bf5c94f0" class="t constructor">DebuggerStepThrough</a>] <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="../ListPanel/FileListPanelWpf.cs.html#f0412df50e284318" class="t t">FileListPanelWpf</a> <a id="efc5dbad8a6c7185" href="../../R/efc5dbad8a6c7185.html" target="n" data-glyph="102,1" class="i property">FileList</a> {[<a href="@0@mscorlib/A.html#15085db4bf5c94f0" class="t constructor">DebuggerStepThrough</a>] <b>get</b>; <b>set</b>; }

        <b>public</b> <a id="258fe3df3145b5c9" href="../../R/258fe3df3145b5c9.html" target="n" data-glyph="72,1" class="i constructor">ListView2DataGrid</a>()
        {
            <a href="#788ce8299a6a3f09" class="i property">DataObj</a> = <b>new</b> <a href="../ListPanel/ListFiltered2Xaml.cs.html#3af7b5147d84cf90" class="t constructor">ListFiltered2Xaml</a>(<a href="#09c99f4928324f7f" class="k">this</a>);
            <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="/pluginner/A.html#dd6225cf6b598cc3" class="i property">PointedItem</a> = <b>new</b> <a href="PointedItem.cs.html#2d8b1899824922f8" class="t constructor">PointedItem</a>() { <a href="PointedItem.cs.html#80776ee3dd511b60" class="i property">Index</a> = -1, <a href="PointedItem.cs.html#cb300538a32c3856" class="i property">Item</a> = <b>null</b> }; <span class="c">// &lt;ListView2Item&gt;();</span>
            <a href="@0@PresentationFramework/A.html#e4aaca7514916173" class="i property">DataContext</a> = <a href="#788ce8299a6a3f09" class="i property">DataObj</a>;
        }

        <b>public bool</b>? <a id="2d4ef45a71b4f1b1" href="../../R/2d4ef45a71b4f1b1.html" target="n" data-glyph="102,1" class="i property">Visible</a> { <b>get</b> { <b>return</b> <a href="@0@PresentationCore/A.html#69f262dd47fdf2be" class="i property">Visibility</a> == <a href="@0@PresentationCore/A.html#2668d640196eddd0" class="t t">Visibility</a>.<a href="@0@PresentationCore/A.html#02d18b751f37c2fd" class="i field">Visible</a>; } <b>set</b> { <a href="ButtonWidget.cs.html#0e6cc984fb25377a" class="t t">VisibleSet</a>.<a href="ButtonWidget.cs.html#1b809207bd2691c6" class="i method">Value</a>(<a href="#09c99f4928324f7f" class="k">this</a>, <b>value</b>); } }
        <b>object</b> <a href="/pluginner/A.html#43989336e2add87c" class="t t">IUIDispacher</a>.<a href="/pluginner/A.html#ef7c1c254fc61e05" class="i property">Dispacher</a> { <b>get</b> { <b>return</b> <a href="#09c99f4928324f7f" class="k">this</a>.<a href="@0@WindowsBase/A.html#bd03df1631104fbc" class="i property">Dispatcher</a> <b>as</b> <a href="@0@WindowsBase/A.html#078d6b27d9837a35" class="t t">Dispatcher</a>; } }
        <b>bool</b> <a href="/pluginner/A.html#43989336e2add87c" class="t t">IUIDispacher</a>.<a href="/pluginner/A.html#694cab7d40ce163d" class="i method">CheckAccess</a>() { <b>return</b> (<a href="#09c99f4928324f7f" class="k">this</a> <b>as</b> <a href="@0@WindowsBase/A.html#85082c8bba6e8038" class="t t">DispatcherObject</a>).<a href="@0@WindowsBase/A.html#757fc2dc09790852" class="i method">CheckAccess</a>(); }

        <span class="c">//public override void OnApplyTemplate()</span>
        <span class="c">//    base.OnApplyTemplate();</span>

        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>

        <span class="k preprocess">#</span><span class="k preprocess">region</span> Bind, Properties

        <b>bool</b> <a id="7bac394d56262ccf" href="../../R/7bac394d56262ccf.html" target="n" data-glyph="46,1" class="i field">bound</a> = <b>false</b>;
        <b>public virtual void</b> <a id="8e9de293522b0963" href="../../R/8e9de293522b0963.html" target="n" data-glyph="72,1" class="i method">Bind</a>()
        {
            <b>if</b> (<a href="#7bac394d56262ccf" class="i field">bound</a> &amp;&amp; <a href="#09c99f4928324f7f" class="k">this</a>.<a href="@0@PresentationFramework/A.html#3bb5cb5ee01ee8d2" class="i property">ItemsSource</a> == <b>null</b>)
            {
                <a href="@0@mscorlib/A.html#c575dbe300e57438" class="t t">Contract</a>.<a href="@0@mscorlib/A.html#e87e73b73368f052" class="i method">Assert</a>(<a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#9773e011d839535c" class="i property">DataSource</a> == <a href="#09c99f4928324f7f" class="k">this</a>);
                <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#df6b1c940378c653" class="i method">BindUpdate</a>(); <span class="c">// this.ItemsSource = DataObj.DataItems;</span>
            }

            <b>if</b> (<a href="#7bac394d56262ccf" class="i field">bound</a>) <b>return</b>;
 
            <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#b17055390ba07f37" class="i method">BindGrid</a>(<a href="#09c99f4928324f7f" class="k">this</a>);

            <span class="c">// DataGrid bind</span>
            <a href="#09c99f4928324f7f" class="k">this</a>.<a href="../GridEvents.cs.html#53fd4cd09e533207" class="i method">BindGridEvents</a>();
            <a href="#7bac394d56262ccf" class="i field">bound</a> = <b>true</b>;
        }

        <b>public virtual void</b> <a id="19491468e5067780" href="../../R/19491468e5067780.html" target="n" data-glyph="72,1" class="i method">UnBind</a>()
        {
            <b>if</b> (!<a href="#7bac394d56262ccf" class="i field">bound</a>) <b>return</b>;
            <a href="#7bac394d56262ccf" class="i field">bound</a> = <b>false</b>;

            <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#8a461cf51914af8f" class="i method">UnBindGrid</a>();
            <a href="#09c99f4928324f7f" class="k">this</a>.<a href="../GridEvents.cs.html#b1b2f90a83be7cb3" class="i method">UnBindGridEvents</a>();
        }

        <b>public virtual void</b> <a id="807d6a39eff2bca3" href="../../R/807d6a39eff2bca3.html" target="n" data-glyph="72,1" class="i method">CloneList</a>(<a href="#09c99f4928324f7f" class="t t">ListView2DataGrid</a> <span id="r0 rd" class="r0 r">source</span>)
        {
            <a href="@0@mscorlib/A.html#b19f71a84062554b" class="k">var</a> <span id="r1 rd" class="r1 r">target</span> = <a href="#09c99f4928324f7f" class="k">this</a>.<a href="#6c6a1e54401dd0c2" class="i property">DataItems</a>;
            <b>if</b> (<span class="r1 r">target</span>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a> &gt; 0)
                <span class="r1 r">target</span>.<a href="@0@mscorlib/A.html#6144bc2a22ce28c4" class="i method">Clear</a>();

            <a href="../ListPanel/ListFiltered2Xaml.cs.html#60e2e4ae8a69c247" class="k">var</a> <span id="r2 rd" class="r2 r">dataObj</span> = <a href="#788ce8299a6a3f09" class="i property">DataObj</a>;
            <span class="r2 r">dataObj</span>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#7b95e42456fb3b80" class="i method">Clone</a>(<span class="r0 r">source</span>.<a href="#788ce8299a6a3f09" class="i property">DataObj</a>);
            <span class="r2 r">dataObj</span>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#a7220dc02541e86e" class="i method">Finish</a>();
        }

        <span class="c">// Visual properties</span>
        <b>public object</b> <a id="ef51959ac87fcd82" href="../../R/ef51959ac87fcd82.html" target="n" data-glyph="102,1" class="i property">Content</a> { <b>get</b>; <b>set</b>; }
        <b>public bool</b> <a id="1e0d445d3f17ddbc" href="../../R/1e0d445d3f17ddbc.html" target="n" data-glyph="102,1" class="i property">CanGetFocus</a> { <b>get</b> { <b>return</b> <a href="@0@PresentationCore/A.html#166ae927a742c046" class="i property">IsEnabled</a>; } <b>set</b> { <a href="@0@PresentationCore/A.html#166ae927a742c046" class="i property">IsEnabled</a> = <b>value</b>; } }
        <b>public bool</b> <a id="3d1fac215325a8ae" href="../../R/3d1fac215325a8ae.html" target="n" data-glyph="102,1" class="i property">Sensitive</a> { <b>get</b> { <b>return</b> <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="/pluginner/A.html#2715ae11f25f5937" class="i property">Sensitive</a>; } <b>set</b> { <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="/pluginner/A.html#2715ae11f25f5937" class="i property">Sensitive</a> = <b>value</b>; } }

        <b>public</b> <a href="@0@System.Drawing/A.html#9103fd761ca562ae" class="t t">DrawingColor</a> <a id="4e7c5754e80ed8cd" href="../../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">BackgroundColor</a>
        {
            <b>get</b> { <b>return</b> (<a href="@0@PresentationFramework/A.html#4e6ce8c1fbfefae7" class="i property">Background</a> <b>as</b> <a href="@0@PresentationCore/A.html#2bdb4a721050df52" class="t t">SolidColorBrush</a>).<a href="@0@PresentationCore/A.html#eed7cf36d73cf29b" class="i property">Color</a>.<a href="PointedItem.cs.html#f81d28eaf141d4ad" class="i method">To</a>(); }
            <b>set</b> { <a href="@0@PresentationFramework/A.html#4e6ce8c1fbfefae7" class="i property">Background</a> = <b>value</b>.<a href="PointedItem.cs.html#74e85996d91dde3a" class="i method">From</a>(); }
        }

        <b>public int</b> <a id="cc42c0000a6b3da9" href="../../R/cc42c0000a6b3da9.html" target="n" data-glyph="102,1" class="i property">SelectedRow</a> { <b>get</b>; <b>set</b>; }

        <b>public</b> <a href="@0@mscorlib/A.html#b19f71a84062554b" class="t t">IList</a>&lt;<a href="../ListPanel/ListItemXaml.cs.html#f370823f101f56f2" class="t t">ListItemXaml</a>&gt; <a id="6c6a1e54401dd0c2" href="../../R/6c6a1e54401dd0c2.html" target="n" data-glyph="102,1" class="i property">DataItems</a> { <b>get</b> { <b>return</b> <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#28df472740c5fec5" class="i property">DataItems</a>; } }

        <span class="c">// Enumerable ItemsSource -&gt; ItemsControl</span>
        <b>public</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="../ListPanel/ListItemXaml.cs.html#f370823f101f56f2" class="t t">ListItemXaml</a>&gt; <a id="8fb63d4191a9772d" href="../../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">ChoosedRows</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/pluginner/A.html#dc4b16f5792f84d2" class="t t">IPointedItem</a>&lt;<a href="../ListPanel/ListItemXaml.cs.html#f370823f101f56f2" class="t t">ListItemXaml</a>&gt; <a id="fea2a367e9e51de3" href="../../R/fea2a367e9e51de3.html" target="n" data-glyph="102,1" class="i property">PointedItem</a> { <b>get</b>; <b>set</b>; }

        <b>public</b> <a href="../../Model/PanelSide.cs.html#de51780b17361ade" class="t t">PanelSide</a> <a id="d045b96f194d95e1" href="../../R/d045b96f194d95e1.html" target="n" data-glyph="102,1" class="i property">Side</a> { <b>get</b>; <b>set</b>; }
        <b>public string</b> <a id="b4f44787184f8b1c" href="../../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">urlFull</a> { <b>get</b> { <b>return</b> <a href="#efc5dbad8a6c7185" class="i property">FileList</a>.<a href="../../FileList/Panel/FileListPanel.cs.html#6fa526281a55b072" class="i property">FS</a>.<a href="/pluginner/A.html#53050e9ff0b5dd2d" class="i property">CurrentDirectory</a>; } }
        <b>public string</b> <a id="a1e7ce57bb611397" href="../../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">urlDir</a>
        {
            <b>get</b>
            {
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r3 rd" class="r3 r">dir</span> = <a href="#efc5dbad8a6c7185" class="i property">FileList</a>.<a href="../../FileList/Panel/FileListPanel.cs.html#6fa526281a55b072" class="i property">FS</a>.<a href="/pluginner/A.html#53050e9ff0b5dd2d" class="i property">CurrentDirectory</a>;
                <b>return</b> (<span class="r3 r">dir</span>.<a href="@0@mscorlib/A.html#23804789ea4c9c0e" class="i method">StartsWith</a>(<a href="#292013d9aeec989d" class="i property">fileProcol</a>)) ? <span class="r3 r">dir</span>.<a href="@0@mscorlib/A.html#882fa7998d6ca35a" class="i method">Substring</a>(<a href="#292013d9aeec989d" class="i property">fileProcol</a>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a>) : <b>null</b>;
            }
        }

        <span class="c">// public FS {get; set;}</span>
        <span class="c">// public TextBlock StatusBar { get; }</span>
        <b>public</b> <span class="i n">Xwt</span>.<span class="i n">Drawing</span>.<a href="/Xwt3/A.html#66915aad26bd67c5" class="t t">Font</a> <a id="fa7f9d1b078d9577" href="../../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">FontForFileNames</a> { <b>get</b>; <b>set</b>; }

        <b>public int</b> <a id="df6fed84d380914d" href="../../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Count</a> { <b>get</b> { <b>return</b> <a href="@0@PresentationFramework/A.html#54366ee76d2f1106" class="i property">Items</a> == <b>null</b> ? 0 : <a href="@0@PresentationFramework/A.html#54366ee76d2f1106" class="i property">Items</a>.<a href="@0@PresentationFramework/A.html#4808b70b6149b33d" class="i property">Count</a>; } }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Base methods, Focus
 
        <b>public void</b> <a id="b745983e838f0d52" href="../../R/b745983e838f0d52.html" target="n" data-glyph="72,1" class="i method">Clear</a>() { }

        <b>public void</b> <a id="173959864c7c38c7" href="../../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Dispose</a>()
        {
            <b>if</b> (<a href="#788ce8299a6a3f09" class="i property">DataObj</a> != <b>null</b>)
                <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="/pluginner/A.html#df694a7ce3065fab" class="i method">Clear</a>();
        }

        <b>public void</b> <a id="ebcec3d740328f2f" href="../../R/ebcec3d740328f2f.html" target="n" data-glyph="72,1" class="i method">SetFocus</a>()
        {
            <b>if</b> (!<a href="#1e0d445d3f17ddbc" class="i property">CanGetFocus</a>)
                <b>return</b>;

            <span class="c">// DataGrid got focus</span>
            <a href="@0@PresentationCore/A.html#0e11f7ae56f1c30f" class="i method">Focus</a>();
        }

        <span class="c">// change DataGridColumn.With from Auto to Actual</span>
        <b>public static void</b> <a id="4bdec0fde54d8ae7" href="../../R/4bdec0fde54d8ae7.html" target="n" data-glyph="72,1" class="i method">DataGridColumnWidths</a>(<a href="@0@PresentationFramework/A.html#0a7919e43781659b" class="t t">DataGrid</a> <span id="r4 rd" class="r4 r">dataGrid</span>)
        {
            <b>if</b> (<span class="r4 r">dataGrid</span>.<a href="@0@PresentationFramework/A.html#ceb85be29e62a9eb" class="i property">Columns</a>.<a href="@0@mscorlib/A.html#f2419069e9890f5d" class="i property">Count</a> &gt; 0)
            {
                <a href="@0@mscorlib/A.html#893e8cdebffde2da" class="k">var</a> <span id="r5 rd" class="r5 r">numerator</span> = <span class="r4 r">dataGrid</span>.<a href="@0@PresentationFramework/A.html#ceb85be29e62a9eb" class="i property">Columns</a>.<a href="@0@mscorlib/A.html#fb2967718be9a2cd" class="i method">GetEnumerator</a>();
                <b>while</b> (<span class="r5 r">numerator</span>.<a href="@0@mscorlib/A.html#116c28c0f6355e3f" class="i method">MoveNext</a>())
                {
                    <a href="@0@PresentationFramework/A.html#65202587fdfd6298" class="k">var</a> <span id="r6 rd" class="r6 r">item</span> = <span class="r5 r">numerator</span>.<a href="@0@mscorlib/A.html#d231e5618becae91" class="i property">Current</a>;
                    <span class="r6 r">item</span>.<a href="@0@PresentationFramework/A.html#c0742a035b60fe64" class="i property">Width</a> = <span class="r6 r">item</span>.<a href="@0@PresentationFramework/A.html#a66f0556a5c1f0c6" class="i property">ActualWidth</a>;
                }
            }
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>

        <b>string</b> <a id="292013d9aeec989d" href="../../R/292013d9aeec989d.html" target="n" data-glyph="106,1" class="i property">fileProcol</a> { [<a href="@0@mscorlib/A.html#15085db4bf5c94f0" class="t constructor">DebuggerStepThrough</a>] <b>get</b> { <b>return</b> <span class="i n">base_plugins</span>.<span class="i n">fs</span>.<a href="../../P/4f8a45c7e31df06c.html#4f8a45c7e31df06c" class="t t">localFileSystem</a>.<a href="../../base-plugins/fs/localFileSystem.cs.html#ea3f0b6595e77ce0" class="i field">FilePrefix</a>; } } <span class="c">// =&gt; &quot;file://&quot;</span>

        <b>public void</b> <a id="c91d1b43db0fd6cf" href="../../R/c91d1b43db0fd6cf.html" target="n" data-glyph="72,1" class="i method">LoadDir</a>(<b>string</b> <span id="r7 rd" class="r7 r">path</span>)
        {
            <a href="#19491468e5067780" class="i method">UnBind</a>();

            <a href="../WpfContent.cs.html#c1a11e86633e242b" class="t t">WpfContent</a>.<a href="../WpfContent.cs.html#19cb8cc3873b0371" class="i method">Load</a>(<a href="#09c99f4928324f7f" class="k">this</a>.<a href="#908f45ebfc5fc450" class="i property">Panel</a>, <span class="r7 r">path</span>, <a href="#09c99f4928324f7f" class="k">this</a>.<a href="#292013d9aeec989d" class="i property">fileProcol</a>);
        }

        <span class="k preprocess">#</span><span class="k preprocess">region</span> Select, LoadDir, Columns

        <b>public void</b> <a id="c5f52f21d2185ce4" href="../../R/c5f52f21d2185ce4.html" target="n" data-glyph="72,1" class="i method">Select</a>(<a href="../ListPanel/ListItemXaml.cs.html#f370823f101f56f2" class="t t">ListItemXaml</a> <span id="r8 rd" class="r8 r">item</span>)
        {
            <a href="#09c99f4928324f7f" class="k">this</a>.<a href="#cc42c0000a6b3da9" class="i property">SelectedRow</a> = <a href="#6c6a1e54401dd0c2" class="i property">DataItems</a>.<a href="@0@mscorlib/A.html#5fd4a456a7fab8b0" class="i method">IndexOf</a>(<span class="r8 r">item</span>);
        }

        <b>public void</b> <a id="6de75de3e422e5c3" href="../../R/6de75de3e422e5c3.html" target="n" data-glyph="72,1" class="i method">SelectLast</a>(<a href="../ListPanel/ListItemXaml.cs.html#f370823f101f56f2" class="t t">ListItemXaml</a> <span id="r9 rd" class="r9 r">item</span>)
        {
            <a href="#fea2a367e9e51de3" class="i property">PointedItem</a> = <b>new</b> <a href="PointedItem.cs.html#2d8b1899824922f8" class="t constructor">PointedItem</a>() { <a href="PointedItem.cs.html#cb300538a32c3856" class="i property">Item</a> = <span class="r9 r">item</span>, <a href="PointedItem.cs.html#80776ee3dd511b60" class="i property">Index</a> = <a href="#09c99f4928324f7f" class="k">this</a>.<a href="#cc42c0000a6b3da9" class="i property">SelectedRow</a> };
            <a href="../WindowData.cs.html#3d79153f00b768f8" class="k">var</a> <span id="r10 rd" class="r10 r">data</span> = <a href="#908f45ebfc5fc450" class="i property">Panel</a>.<a href="../ListPanel/PanelWpf.xaml.cs.html#01798073b00e0566" class="i property">WindowData</a> <b>as</b> <a href="../WindowData.cs.html#3d79153f00b768f8" class="t t">WindowDataWpf</a>;
            <b>if</b> (<span class="r10 r">data</span> != <b>null</b>)
                <span class="r10 r">data</span>.<a href="../WindowData.cs.html#702da529c184f876" class="i method">OnSelectedItem</a>(<a href="#fea2a367e9e51de3" class="i property">PointedItem</a>);
            <b>else</b>
                <a href="../../App.xaml.cs.html#76450589a57e2db8" class="t t">App</a>.<a href="../../App.xaml.cs.html#d16324194bcf5e9e" class="i method">ConsoleWriteLine</a>(<span class="s">&quot;found Panel.WindowData null&quot;</span>); <span class="c">// BUG!!!</span>
        }

        <b>public bool</b> <a id="4131f0f99ceb5767" href="../../R/4131f0f99ceb5767.html" target="n" data-glyph="72,1" class="i method">SelectEnter</a>(<a href="../ListPanel/ListItemXaml.cs.html#f370823f101f56f2" class="t t">ListItemXaml</a> <span id="r11 rd" class="r11 r">item</span>)
        {
            <b>if</b> (<span class="r11 r">item</span> == <b>null</b>)
                <b>return false</b>;

            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r12 rd" class="r12 r">fullpath</span> = <span class="r11 r">item</span>.<a href="../ListPanel/ListItemXaml.cs.html#9686cfdda2d86c26" class="i property">FullPath</a>.<a href="@0@mscorlib/A.html#23804789ea4c9c0e" class="i method">StartsWith</a>(<a href="#292013d9aeec989d" class="i property">fileProcol</a>)
                    ? <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#1274738792cce835" class="i method">GetFullPath</a>(<span class="r11 r">item</span>.<a href="../ListPanel/ListItemXaml.cs.html#9686cfdda2d86c26" class="i property">FullPath</a>.<a href="@0@mscorlib/A.html#882fa7998d6ca35a" class="i method">Substring</a>(<a href="#292013d9aeec989d" class="i property">fileProcol</a>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a>)) :
                      (<span class="r11 r">item</span>.<a href="../ListPanel/ListItemXaml.cs.html#1f82991f05a3d9ef" class="i property">RowIndex</a> == 0 ? <span class="r11 r">item</span>.<a href="../ListPanel/ListItemXaml.cs.html#9686cfdda2d86c26" class="i property">FullPath</a> : <b>null</b>);
            <b>if</b> (<span class="r12 r">fullpath</span> != <b>null</b> &amp;&amp; <a href="@0@mscorlib/A.html#b3ad5f0ba800bb28" class="t t">Directory</a>.<a href="@0@mscorlib/A.html#6a2a3bee6b62826f" class="i method">Exists</a>(<span class="r12 r">fullpath</span>))
            {
                <b>if</b> (!<span class="r12 r">fullpath</span>.<a href="@0@mscorlib/A.html#cb74053b3f2d03f4" class="i method">EndsWith</a>(<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#d1bb57592858d485" class="i field">DirectorySeparatorChar</a>.<a href="@0@mscorlib/A.html#8da116b4ffb677f2" class="i method">ToString</a>())) <span class="c">//  AltDirectorySeparatorChar))</span>
                    <span class="r12 r">fullpath</span> += <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#d1bb57592858d485" class="i field">DirectorySeparatorChar</a>.<a href="@0@mscorlib/A.html#8da116b4ffb677f2" class="i method">ToString</a>();

                <a href="#c91d1b43db0fd6cf" class="i method">LoadDir</a>(<span class="r12 r">fullpath</span>);
                <b>return true</b>;
            }
            <b>else if</b> (<span class="r11 r">item</span>.<a href="../ListPanel/ListItemXaml.cs.html#9686cfdda2d86c26" class="i property">FullPath</a>.<a href="@0@mscorlib/A.html#428c5c9954dea844" class="i method">Contains</a>(<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#d1bb57592858d485" class="i field">DirectorySeparatorChar</a>.<a href="@0@mscorlib/A.html#8da116b4ffb677f2" class="i method">ToString</a>())
                     &amp;&amp; <a href="@0@mscorlib/A.html#b3ad5f0ba800bb28" class="t t">Directory</a>.<a href="@0@mscorlib/A.html#6a2a3bee6b62826f" class="i method">Exists</a>(<span class="r11 r">item</span>.<a href="../ListPanel/ListItemXaml.cs.html#9686cfdda2d86c26" class="i property">FullPath</a>))
            {
                <a href="#c91d1b43db0fd6cf" class="i method">LoadDir</a>(<span class="r11 r">item</span>.<a href="../ListPanel/ListItemXaml.cs.html#9686cfdda2d86c26" class="i property">FullPath</a>);
                <b>return true</b>;
            }
            <b>return false</b>;
        }

        <b>public bool</b> <a id="731d01091f1df249" href="../../R/731d01091f1df249.html" target="n" data-glyph="102,1" class="i property">ColumnsSet</a> { <b>get</b>; <b>private set</b>; } <span class="c">//  return this.Columns.Count &gt; 1; } }</span>

        <b>public void</b> <a id="46b3567aff43a31f" href="../../R/46b3567aff43a31f.html" target="n" data-glyph="72,1" class="i method">SetupColumns</a>()
        {
            <b>if</b> (!<a href="#731d01091f1df249" class="i property">ColumnsSet</a>)
            {
                <a href="#731d01091f1df249" class="i property">ColumnsSet</a> = <b>true</b>;
                <a href="/pluginner/A.html#2532bf45b3fb63f5" class="t t">ListView2</a>.<a href="/pluginner/A.html#36c68faab71b3c38" class="t t">ColumnInfo</a>[] <span id="r13 rd" class="r13 r">definitions</span> = <a href="#bbde858b9d82ba74" class="i method">DefineColumns</a>(<b>null</b>);
 
                <a href="../ListPanel/ListFiltered2Xaml.cs.html#60e2e4ae8a69c247" class="k">var</a> <span id="r14 rd" class="r14 r">items</span> = <a href="#788ce8299a6a3f09" class="i property">DataObj</a>;
                <a href="#09c99f4928324f7f" class="k">this</a>.<a href="DataGridBackend.cs.html#4709f353038589d7" class="i method">ToDataSource</a>&lt;<b>object</b>&gt;(<span class="r14 r">items</span>, <span class="r13 r">definitions</span>);
 
                <a href="#09c99f4928324f7f" class="k">this</a>.<a href="#8e9de293522b0963" class="i method">Bind</a>();
            }
            <b>else</b>
                <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#df6b1c940378c653" class="i method">BindUpdate</a>();
 
            <a href="@0@mscorlib/A.html#c575dbe300e57438" class="t t">Contract</a>.<a href="@0@mscorlib/A.html#e87e73b73368f052" class="i method">Assert</a>(<a href="#09c99f4928324f7f" class="k">this</a>.<a href="@0@PresentationFramework/A.html#3bb5cb5ee01ee8d2" class="i property">ItemsSource</a> != <b>null</b>);
        }

        <b>public</b> <a href="/pluginner/A.html#2532bf45b3fb63f5" class="t t">ListView2</a>.<a href="/pluginner/A.html#36c68faab71b3c38" class="t t">ColumnInfo</a>[] <a id="bbde858b9d82ba74" href="../../R/bbde858b9d82ba74.html" target="n" data-glyph="72,1" class="i method">DefineColumns</a>(<a href="/pluginner/A.html#5340c3a9f51c4e76" class="t t">DataFieldNumbers</a> <span id="r15 rd" class="r15 r">df</span>)
        {
            <b>return</b> <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#fed90aeaa1a5e39f" class="i method">DefineColumns</a>(<span class="r15 r">df</span>);
        }

        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>

        <span class="k preprocess">#</span><span class="k preprocess">region</span> ICollection

        <b>public void</b> <a id="fcb5da6fa1819abe" href="../../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AddItem</a>(<a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<b>object</b>&gt; <span id="r16 rd" class="r16 r">Data</span>, <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<b>bool</b>&gt; <span id="r17 rd" class="r17 r">EditableFields</span>, <b>string</b> <span id="r18 rd" class="r18 r">ItemTag</span> = <b>null</b>)
        {
            <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#3386a34f7017c098" class="i method">AddItem</a>(<span class="r16 r">Data</span>, <span class="r17 r">EditableFields</span>, <span class="r18 r">ItemTag</span>);
        }

        <b>public void</b> <a id="2660928a520ee255" href="../../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Add</a>(<a href="../ListPanel/ListItemXaml.cs.html#f370823f101f56f2" class="t t">ListItemXaml</a> <span id="r19 rd" class="r19 r">item</span>)
        {
            <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#5c2580046343b54a" class="i method">Add</a>(<span class="r19 r">item</span>);
        }

        <b>public bool</b> <a id="82b2550436ef007d" href="../../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Contains</a>(<a href="../ListPanel/ListItemXaml.cs.html#f370823f101f56f2" class="t t">ListItemXaml</a> <span id="r20 rd" class="r20 r">item</span>)
        {
            <b>return</b> <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#645f2f0c13f399cb" class="i method">Contains</a>(<span class="r20 r">item</span>);
        }

        <b>public void</b> <a id="4a70b0d923a8d0a4" href="../../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CopyTo</a>(<a href="../ListPanel/ListItemXaml.cs.html#f370823f101f56f2" class="t t">ListItemXaml</a>[] <span id="r21 rd" class="r21 r">array</span>, <b>int</b> <span id="r22 rd" class="r22 r">arrayIndex</span>)
        {
            <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#34b14361a5a56363" class="i method">CopyTo</a>(<span class="r21 r">array</span>, <span class="r22 r">arrayIndex</span>);
        }

        <b>public bool</b> <a id="03317395659510e9" href="../../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Remove</a>(<a href="../ListPanel/ListItemXaml.cs.html#f370823f101f56f2" class="t t">ListItemXaml</a> <span id="r23 rd" class="r23 r">item</span>)
        {
            <b>return</b> <a href="#788ce8299a6a3f09" class="i property">DataObj</a>.<a href="../ListPanel/ListFiltered2Xaml.cs.html#10b5ca0b6f286b52" class="i method">Remove</a>(<span class="r23 r">item</span>);
        }

        <span class="c">//public IEnumerator&lt;ListView2ItemWpf&gt; GetEnumerator()</span>
        <span class="c">//{</span>
        <span class="c">//    return DataObj.GetEnumerator();</span>
        <span class="c">//}</span>
        <span class="c">// IEnumerator IEnumerable.GetEnumerator() { return GetEnumerator(); }</span>

        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>

        <span class="k preprocess">#</span><span class="k preprocess">region</span> Sort

        <span class="c">//public static readonly DependencyProperty CustomSorterProperty =</span>
        <span class="c">//      DependencyProperty.RegisterAttached(&quot;CustomSorter&quot;, typeof(ICustomSorter), typeof(DataGridColumn));</span>

        <b>protected override void</b> <a id="d28ea3e96c6ba078" href="../../R/d28ea3e96c6ba078.html" target="n" data-glyph="75,1" class="i method">OnSorting</a>(<a href="@0@PresentationFramework/A.html#194a0b06fb993252" class="t t">DataGridSortingEventArgs</a> <span id="r24 rd" class="r24 r">eventArgs</span>)
        {
            <span class="c">//this.ItemsSource = null;</span>
            <a href="@0@PresentationFramework/A.html#0a7919e43781659b" class="k">base</a>.<a href="@0@PresentationFramework/A.html#5121491127b5452b" class="i method">OnSorting</a>(<span class="r24 r">eventArgs</span>);
 
            <span class="c">//DataObj.BindItemsSource(this);</span>
        }

        <span class="c">// SetCollectionView</span>
        <b>protected override void</b> <a id="24ea72cfe36c2ea9" href="../../R/24ea72cfe36c2ea9.html" target="n" data-glyph="75,1" class="i method">OnItemsSourceChanged</a>(<a href="@0@mscorlib/A.html#9be451ac13d86a97" class="t t">IEnumerable</a> <span id="r25 rd" class="r25 r">oldValue</span>, <a href="@0@mscorlib/A.html#9be451ac13d86a97" class="t t">IEnumerable</a> <span id="r26 rd" class="r26 r">newValue</span>)
        {
            <b>try</b>
            {
                <a href="@0@PresentationFramework/A.html#0a7919e43781659b" class="k">base</a>.<a href="@0@PresentationFramework/A.html#974fc738e60bb43d" class="i method">OnItemsSourceChanged</a>(<span class="r25 r">oldValue</span>, <span class="r26 r">newValue</span>);
            }
            <b>catch</b> (<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r27 rd" class="r27 r">ex</span>) { <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#17999987f8ff4399" class="i method">WriteLine</a>(<span class="r27 r">ex</span>); }
        }

        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
    }

}
</pre></td></tr></table></div></body></html>
