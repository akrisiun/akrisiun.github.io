<!DOCTYPE html>
<html><head><title>VEd.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(564);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#fcmdp/FileList/VEd.cs" target="_top">FileList\VEd.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#fcmdp" target="_top">fcmd\fcmdp.csproj</a> (fcmdp)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">/* The File Commander - internal Viewer/Editor
 * The main window of the viewer/editor (VE)
 * (C) The File Commander Team - https://github.com/atauenis/fcmd
 * (C) 2013-14, Alexander Tauenis (atauenis@yandex.ru)
 * (C) 2014, Evgeny Akhtimirov (wilbit@me.com)
 * Contributors should place own signs here.
 */</span>
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>;
<b>using</b> <span class="i n">fcmd</span>.<span class="i n">base_plugins</span>.<span class="i n">ve</span>;
<b>using</b> <span class="i n">fcmd</span>.<span class="i n">Properties</span>;
<span class="c">// using mucss;</span>
<b>using</b> <span class="i n">pluginner</span>;
<b>using</b> <span class="i n">pluginner</span>.<span class="i n">Toolkit</span>;
<b>using</b> <span class="i n">Xwt</span>;
<b>using</b> <span class="t">KeyEventArgs</span> = <span class="i n">Xwt</span>.<a href="/Xwt3/A.html#2699ff808165cb8b" class="t t">KeyEventArgs</a>;
<b>using</b> <span class="t">Menu</span> = <span class="i n">Xwt</span>.<a href="/Xwt3/A.html#19a610eb0dfd2273" class="t t">Menu</a>;
<b>using</b> <span class="t">MenuItem</span> = <span class="i n">Xwt</span>.<a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a>;

<b>namespace</b> <span class="i n">fcmd</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Viewer-Editor</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>class</b> <a id="c6e9e9066499e793" href="../R/c6e9e9066499e793.html" target="n" data-glyph="2,0" class="t t">VEd</a>
    {
        <span class="c">// Stylist s = new Stylist(Settings.Default.UserTheme);</span>
        <b>bool</b> <a id="84b1720abb60fe01" href="../R/84b1720abb60fe01.html" target="n" data-glyph="46,1" class="i field">CanBeShowed</a> = <b>true</b>; <span class="c">//if any errors occur, this variable prevents broken VE window to show</span>
        <b>bool</b> <a id="7364ea07418789f6" href="../R/7364ea07418789f6.html" target="n" data-glyph="46,1" class="i field">IsEditor</a>;
        <b>private string</b> <a id="c944ae195bf8a9f8" href="../R/c944ae195bf8a9f8.html" target="n" data-glyph="46,1" class="i field">FileNameForTitle</a>;
 
        <b>protected</b> <a href="/pluginner/A.html#0638759f7bbd9d95" class="t t">IVEPlugin</a> <a id="5207ff505a28607e" href="../R/5207ff505a28607e.html" target="n" data-glyph="105,1" class="i property">Plugin</a> { <b>get</b>; <b>set</b>; }
        <b>protected</b> <a href="/pluginner/A.html#a05a46d8951816c2" class="t t">IFSPlugin</a> <a id="938159ef7c48547b" href="../R/../../0000000000.html" target="n" data-glyph="105,1" class="i property">FSPlugin</a> { <b>get</b>; <b>set</b>; }
        <b>protected</b> <a href="#7fa129288d25625c" class="t t">VEdWindow</a> <a id="90e0f34cd75e8916" href="../R/90e0f34cd75e8916.html" target="n" data-glyph="105,1" class="i property">Visual</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">// Visual backed with XWT</span>
        <b>public class</b> <a id="7fa129288d25625c" href="../R/7fa129288d25625c.html" target="n" data-glyph="0,1" class="t t"><span id="af42ccca0e2e29f4">VEdWindow</span></a> : <a href="/Xwt3/A.html#b287d06c49bfafbc" class="t t">Window</a>
        {
 
            <span class="c">//Xwt.Menu MainMenu = new Xwt.Menu();</span>
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="ecfaa83ebf299688" href="../R/ecfaa83ebf299688.html" target="n" data-glyph="42,2" class="i field">mnuFile</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuFile&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="ec937672761211ac" href="../R/ec937672761211ac.html" target="n" data-glyph="42,2" class="i field">mnuFileNew</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuFileNew&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="3cf53d737a48bb1e" href="../R/3cf53d737a48bb1e.html" target="n" data-glyph="42,2" class="i field">mnuFileOpen</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuFileOpen&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="04a0153e1378b121" href="../R/04a0153e1378b121.html" target="n" data-glyph="42,2" class="i field">mnuFileReload</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuFileReload&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="837bade50844f755" href="../R/837bade50844f755.html" target="n" data-glyph="42,2" class="i field">mnuFileSave</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuFileSave&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="62dfeacd720de649" href="../R/62dfeacd720de649.html" target="n" data-glyph="42,2" class="i field">mnuFilePrint</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuFilePrint&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="e481b7877e4674e7" href="../R/e481b7877e4674e7.html" target="n" data-glyph="42,2" class="i field">mnuFilePrintSettings</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuFilePrintSettings&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="b0e696ef248beaba" href="../R/b0e696ef248beaba.html" target="n" data-glyph="42,2" class="i field">mnuFilePrintPreview</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuFilePrintPreview&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="36a87bd2b70b818d" href="../R/36a87bd2b70b818d.html" target="n" data-glyph="42,2" class="i field">mnuFileClose</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuFileClose&quot;</span> };
 
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="1e13526f8da52e39" href="../R/1e13526f8da52e39.html" target="n" data-glyph="42,2" class="i field">mnuEdit</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuEdit&quot;</span>, <a href="/Xwt3/A.html#c181f8b58c592fbc" class="i property">UseMnemonic</a> = <b>true</b> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="1017e492f0bb9288" href="../R/1017e492f0bb9288.html" target="n" data-glyph="42,2" class="i field">mnuEditCut</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuEditCut&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="029619a4f1886cc6" href="../R/029619a4f1886cc6.html" target="n" data-glyph="42,2" class="i field">mnuEditCopy</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuEditCopy&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="1e2fc0735738121d" href="../R/1e2fc0735738121d.html" target="n" data-glyph="42,2" class="i field">mnuEditPaste</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuEditPaste&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="98b2dc889bf05c9b" href="../R/98b2dc889bf05c9b.html" target="n" data-glyph="42,2" class="i field">mnuEditSelectAll</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuEditSelAll&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="2405717bc7f95d89" href="../R/2405717bc7f95d89.html" target="n" data-glyph="42,2" class="i field">mnuEditFindReplace</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuEditSearch&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="d2cd86687fa7ae5a" href="../R/d2cd86687fa7ae5a.html" target="n" data-glyph="42,2" class="i field">mnuEditFindNext</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuEditSearchNext&quot;</span> };
 
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="7718090a7524fb40" href="../R/7718090a7524fb40.html" target="n" data-glyph="42,2" class="i field">mnuView</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a>();
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="0b4e8f002bd76143" href="../R/0b4e8f002bd76143.html" target="n" data-glyph="42,2" class="i field">mnuViewSettings</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuViewSettings&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="3978bc2ca8efa158" href="../R/3978bc2ca8efa158.html" target="n" data-glyph="42,2" class="i field">mnuFormat</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a>();
 
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="8564a29e02bfc9d6" href="../R/8564a29e02bfc9d6.html" target="n" data-glyph="42,2" class="i field">mnuHelp</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a>();
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="d2206594bdba69a3" href="../R/d2206594bdba69a3.html" target="n" data-glyph="42,2" class="i field">mnuHelpHelpme</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuHelpHelpme&quot;</span> };
            <b>public</b> <a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <a id="2eb12d2bddc1ffc6" href="../R/2eb12d2bddc1ffc6.html" target="n" data-glyph="42,2" class="i field">mnuHelpAbout</a> = <b>new</b> <a href="/Xwt3/A.html#a484a40fe2133cd7" class="t constructor">MenuItem</a> { <a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="s">&quot;mnuHelpAbout&quot;</span> };
 
            <b>public</b> <a href="/Xwt3/A.html#aa7e003364a05769" class="t t">VBox</a> <a id="eea99f74202dee10" href="../R/eea99f74202dee10.html" target="n" data-glyph="42,2" class="i field">Layout</a> = <b>new</b> <a href="/Xwt3/A.html#da80f4696885ff46" class="t constructor">VBox</a>();
            <b>public</b> <a href="/Xwt3/A.html#66cf9eb320966cca" class="t t">Widget</a> <a id="4d767b2fe1dd26dd" href="../R/4d767b2fe1dd26dd.html" target="n" data-glyph="42,2" class="i field">PluginBody</a>;
 
            <b>public</b> <a href="/Xwt3/A.html#1c860f41463c9ce9" class="t t">TextEntry</a> <a id="6b97d18ef28a9e14" href="../R/6b97d18ef28a9e14.html" target="n" data-glyph="42,2" class="i field">CommandBox</a> = <b>new</b> <a href="/Xwt3/A.html#959063db6617876a" class="t constructor">TextEntry</a>();
            <b>public</b> <a href="/Xwt3/A.html#ceed0679a74aaab8" class="t t">HBox</a> <a id="9da7e3325fed5b41" href="../R/9da7e3325fed5b41.html" target="n" data-glyph="42,2" class="i field">KeyBoardHelp</a> = <b>new</b> <a href="/Xwt3/A.html#c3ccdb0faa4ac5c0" class="t constructor">HBox</a>();
            <b>public</b> <a href="Actions/KeyboardHelpButton.cs.html#921c61c5c38a2704" class="t t">KeyboardHelpButton</a>[] <a id="40e7e48d64cfc2d4" href="../R/40e7e48d64cfc2d4.html" target="n" data-glyph="42,2" class="i field">KeybHelpButtons</a> = <b>new</b> <a href="Actions/KeyboardHelpButton.cs.html#921c61c5c38a2704" class="t t">KeyboardHelpButton</a>[11]; <span class="c">//одна лишняя, которая [0]</span>
 
            <b>public void</b> <a id="5aff081ae7d792b7" href="../R/5aff081ae7d792b7.html" target="n" data-glyph="72,2" class="i method">Init</a>(<a href="@0@mscorlib/A.html#3b79d2b06c15f250" class="t t">EventHandler</a> <span id="r0 rd" class="r0 r">KeyboardButtonClicked</span>)
            {
 
                <b>for</b> (<b>int</b> <span id="r1 rd" class="r1 r">i</span> = 1; <span class="r1 r">i</span> &lt; 11; <span class="r1 r">i</span>++)
                {
                    <a href="#40e7e48d64cfc2d4" class="i field">KeybHelpButtons</a>[<span class="r1 r">i</span>] = <b>new</b> <a href="Actions/KeyboardHelpButton.cs.html#10430bb2dc79c2f4" class="t constructor">KeyboardHelpButton</a>();
                    <a href="#40e7e48d64cfc2d4" class="i field">KeybHelpButtons</a>[<span class="r1 r">i</span>].<a href="Actions/KeyboardHelpButton.cs.html#8a82d8d63f695510" class="i property">FKey</a> = <span class="s">&quot;F&quot;</span> + <span class="r1 r">i</span>;
                    <a href="#40e7e48d64cfc2d4" class="i field">KeybHelpButtons</a>[<span class="r1 r">i</span>].<a href="Actions/KeyboardHelpButton.cs.html#22173b42c91f9a27" class="i property">Text</a> = <a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVE_F&quot;</span> + <span class="r1 r">i</span>);
                    <a href="#40e7e48d64cfc2d4" class="i field">KeybHelpButtons</a>[<span class="r1 r">i</span>].<a href="/Xwt3/A.html#e9c9d0704b1f1d4e" class="i property">CanGetFocus</a> = <b>false</b>;
                    <a href="#40e7e48d64cfc2d4" class="i field">KeybHelpButtons</a>[<span class="r1 r">i</span>].<a href="Actions/KeyboardHelpButton.cs.html#2fc71b3fa47a48ef" class="i">Clicked</a> += <span class="r0 r">KeyboardButtonClicked</span>; <span class="c">// KeyboardHelpButton_Clicked;</span>
                    <a href="#40e7e48d64cfc2d4" class="i field">KeybHelpButtons</a>[<span class="r1 r">i</span>].<a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a> = <span class="r1 r">i</span>;
                    <a href="#9da7e3325fed5b41" class="i field">KeyBoardHelp</a>.<a href="/Xwt3/A.html#0aca849f4c2a1fbe" class="i method">PackStart</a>(<a href="#40e7e48d64cfc2d4" class="i field">KeybHelpButtons</a>[<span class="r1 r">i</span>], <b>true</b>, <a href="/Xwt3/A.html#3462b059836b89d8" class="t t">WidgetPlacement</a>.<a href="/Xwt3/A.html#38a10756f2e381ac" class="i field">Fill</a>, <a href="/Xwt3/A.html#3462b059836b89d8" class="t t">WidgetPlacement</a>.<a href="/Xwt3/A.html#38a10756f2e381ac" class="i field">Fill</a>, 0, 1, 0, 1);
                }
 
                <a href="/Xwt3/A.html#18aa1f1845dd5271" class="i property">Title</a> = <span class="s">&quot;File Commander VE&quot;</span>;
                <a href="/Xwt3/A.html#477a01a30ab10f5c" class="i property">Content</a> = <a href="#eea99f74202dee10" class="i field">Layout</a>;
 
                <a href="#ecfaa83ebf299688" class="i field">mnuFile</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a> = <b>new</b> <span class="i n">Xwt</span>.<a href="/Xwt3/A.html#73e9b13e2912e1d9" class="t constructor">Menu</a>();
                <a href="#ecfaa83ebf299688" class="i field">mnuFile</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#ec937672761211ac" class="i field">mnuFileNew</a>);
                <a href="#ecfaa83ebf299688" class="i field">mnuFile</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#3cf53d737a48bb1e" class="i field">mnuFileOpen</a>);
                <a href="#ecfaa83ebf299688" class="i field">mnuFile</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#04a0153e1378b121" class="i field">mnuFileReload</a>);
                <a href="#ecfaa83ebf299688" class="i field">mnuFile</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#837bade50844f755" class="i field">mnuFileSave</a>);
                <a href="#ecfaa83ebf299688" class="i field">mnuFile</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<b>new</b> <a href="/Xwt3/A.html#fb15addf64ec6939" class="t constructor">SeparatorMenuItem</a>());
                <a href="#ecfaa83ebf299688" class="i field">mnuFile</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#62dfeacd720de649" class="i field">mnuFilePrint</a>);
                <a href="#ecfaa83ebf299688" class="i field">mnuFile</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#b0e696ef248beaba" class="i field">mnuFilePrintPreview</a>);
                <a href="#ecfaa83ebf299688" class="i field">mnuFile</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#e481b7877e4674e7" class="i field">mnuFilePrintSettings</a>);
                <a href="#ecfaa83ebf299688" class="i field">mnuFile</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<b>new</b> <a href="/Xwt3/A.html#fb15addf64ec6939" class="t constructor">SeparatorMenuItem</a>());
                <a href="#ecfaa83ebf299688" class="i field">mnuFile</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#36a87bd2b70b818d" class="i field">mnuFileClose</a>);
 
                <a href="#1e13526f8da52e39" class="i field">mnuEdit</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a> = <b>new</b> <span class="i n">Xwt</span>.<a href="/Xwt3/A.html#73e9b13e2912e1d9" class="t constructor">Menu</a>();
                <a href="#1e13526f8da52e39" class="i field">mnuEdit</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#1017e492f0bb9288" class="i field">mnuEditCut</a>);
                <a href="#1e13526f8da52e39" class="i field">mnuEdit</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#029619a4f1886cc6" class="i field">mnuEditCopy</a>);
                <a href="#1e13526f8da52e39" class="i field">mnuEdit</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#1e2fc0735738121d" class="i field">mnuEditPaste</a>);
                <a href="#1e13526f8da52e39" class="i field">mnuEdit</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<b>new</b> <a href="/Xwt3/A.html#fb15addf64ec6939" class="t constructor">SeparatorMenuItem</a>());
                <a href="#1e13526f8da52e39" class="i field">mnuEdit</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#98b2dc889bf05c9b" class="i field">mnuEditSelectAll</a>);
                <a href="#1e13526f8da52e39" class="i field">mnuEdit</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<b>new</b> <a href="/Xwt3/A.html#fb15addf64ec6939" class="t constructor">SeparatorMenuItem</a>());
                <a href="#1e13526f8da52e39" class="i field">mnuEdit</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#2405717bc7f95d89" class="i field">mnuEditFindReplace</a>);
                <a href="#1e13526f8da52e39" class="i field">mnuEdit</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#d2cd86687fa7ae5a" class="i field">mnuEditFindNext</a>);
 
                <a href="#0b4e8f002bd76143" class="i field">mnuViewSettings</a>.<a href="/Xwt3/A.html#bea30fddfe6bb1c3" class="i">Clicked</a> += (<span id="r2 rd" class="r2 r">o</span>, <span id="r3 rd" class="r3 r">ea</span>) =&gt;
                {
                    <b>new</b> <a href="VEsettings.cs.html#a504b04fcb76652b" class="t constructor">VEsettings</a>().<a href="/Xwt3/A.html#2020131941ae77ff" class="i method">Run</a>();
                    <span class="c">// Plugin.ShowToolbar = Settings.Default.VE_ShowToolbar;</span>
                    <a href="#9da7e3325fed5b41" class="i field">KeyBoardHelp</a>.<a href="/Xwt3/A.html#1d3201127367a2ad" class="i property">Visible</a> = <a href="../P/4e3439e35507a3dd.html#4e3439e35507a3dd" class="t t">Settings</a>.<a href="../Properties/Settings.Designer.cs.html#627bac430d77dfaf" class="i property">Default</a>.<a href="../Properties/Settings.Designer.cs.html#23ef24ae48e77193" class="i property">ShowKeybrdHelp</a>;
                    <a href="#6b97d18ef28a9e14" class="i field">CommandBox</a>.<a href="/Xwt3/A.html#1d3201127367a2ad" class="i property">Visible</a> = <a href="../P/4e3439e35507a3dd.html#4e3439e35507a3dd" class="t t">Settings</a>.<a href="../Properties/Settings.Designer.cs.html#627bac430d77dfaf" class="i property">Default</a>.<a href="../Properties/Settings.Designer.cs.html#895dc4bb4e6795e6" class="i property">VE_ShowCmdBar</a>;
                };
                <a href="#7718090a7524fb40" class="i field">mnuView</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a> = <b>new</b> <span class="i n">Xwt</span>.<a href="/Xwt3/A.html#73e9b13e2912e1d9" class="t constructor">Menu</a>();
                <a href="#7718090a7524fb40" class="i field">mnuView</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#0b4e8f002bd76143" class="i field">mnuViewSettings</a>);
 
                <a href="#8564a29e02bfc9d6" class="i field">mnuHelp</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a> = <b>new</b> <span class="i n">Xwt</span>.<a href="/Xwt3/A.html#73e9b13e2912e1d9" class="t constructor">Menu</a>();
                <a href="#8564a29e02bfc9d6" class="i field">mnuHelp</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#d2206594bdba69a3" class="i field">mnuHelpHelpme</a>);
                <a href="#8564a29e02bfc9d6" class="i field">mnuHelp</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#2eb12d2bddc1ffc6" class="i field">mnuHelpAbout</a>);
 
                <a href="/Xwt3/A.html#6c7a0a352aeb521e" class="i property">MainMenu</a> = <b>new</b> <span class="i n">Xwt</span>.<a href="/Xwt3/A.html#73e9b13e2912e1d9" class="t constructor">Menu</a>();
                <a href="/Xwt3/A.html#6c7a0a352aeb521e" class="i property">MainMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#ecfaa83ebf299688" class="i field">mnuFile</a>);
                <a href="/Xwt3/A.html#6c7a0a352aeb521e" class="i property">MainMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#1e13526f8da52e39" class="i field">mnuEdit</a>);
                <a href="/Xwt3/A.html#6c7a0a352aeb521e" class="i property">MainMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#7718090a7524fb40" class="i field">mnuView</a>);
                <a href="/Xwt3/A.html#6c7a0a352aeb521e" class="i property">MainMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#3978bc2ca8efa158" class="i field">mnuFormat</a>);
                <a href="/Xwt3/A.html#6c7a0a352aeb521e" class="i property">MainMenu</a>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#8564a29e02bfc9d6" class="i field">mnuHelp</a>);
 
                <a href="#4d767b2fe1dd26dd" class="i field">PluginBody</a> = <b>new</b> <a href="/Xwt3/A.html#b506232e8c452140" class="t constructor">Spinner</a> { <a href="/Xwt3/A.html#51c8e6e9b7a6dc93" class="i property">Animate</a> = <b>true</b> };
            }
 
        }
 
        <b>public</b> <a id="40ba556c8098f8ae" href="../R/40ba556c8098f8ae.html" target="n" data-glyph="72,1" class="i constructor">VEd</a>()
        {
            <a href="#90e0f34cd75e8916" class="i property">Visual</a> = <b>new</b> <a href="#7fa129288d25625c" class="t constructor">VEdWindow</a>();
 
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#5aff081ae7d792b7" class="i method">Init</a>(<a href="#c6e9e9066499e793" class="k">this</a>.<a href="#4889595e87cdf140" class="i method">KeyboardHelpButton_Clicked</a>);
            <a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#bb9c4c99ce936c02" class="i">LocalizationChanged</a> +=
                (<span id="r4 rd" class="r4 r">o</span>, <span id="r5 rd" class="r5 r">ea</span>) =&gt; <a href="#59baedf4da2be847" class="i method">Localize</a>();
 
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#6b97d18ef28a9e14" class="i field">CommandBox</a>.<a href="/Xwt3/A.html#8a946163eaf9c5ad" class="i">KeyReleased</a> += <a href="#d2df69f29bdddbba" class="i method">CommandBox_KeyReleased</a>;
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#eea99f74202dee10" class="i field">Layout</a>.<a href="/Xwt3/A.html#8a946163eaf9c5ad" class="i">KeyReleased</a> += <a href="#45c9e0c3d827733f" class="i method">Layout_KeyReleased</a>;
 
            <span class="c">// Events defined here</span>
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#3cf53d737a48bb1e" class="i field">mnuFileOpen</a>.<a href="/Xwt3/A.html#bea30fddfe6bb1c3" class="i">Clicked</a> += (<span id="r6 rd" class="r6 r">o</span>, <span id="r7 rd" class="r7 r">ea</span>) =&gt; <a href="#66d610a32b46d481" class="i method">OpenFile</a>();
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#62dfeacd720de649" class="i field">mnuFilePrint</a>.<a href="/Xwt3/A.html#bea30fddfe6bb1c3" class="i">Clicked</a> += (<span id="r8 rd" class="r8 r">o</span>, <span id="r9 rd" class="r9 r">ea</span>) =&gt; <a href="#65aee2ac5b022e13" class="i method">SendCommand</a>(<span class="s">&quot;print&quot;</span>);
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#e481b7877e4674e7" class="i field">mnuFilePrintSettings</a>.<a href="/Xwt3/A.html#bea30fddfe6bb1c3" class="i">Clicked</a> += (<span id="r10 rd" class="r10 r">o</span>, <span id="r11 rd" class="r11 r">ea</span>) =&gt; <a href="#65aee2ac5b022e13" class="i method">SendCommand</a>(<span class="s">&quot;pagesetup&quot;</span>);
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#b0e696ef248beaba" class="i field">mnuFilePrintPreview</a>.<a href="/Xwt3/A.html#bea30fddfe6bb1c3" class="i">Clicked</a> += (<span id="r12 rd" class="r12 r">o</span>, <span id="r13 rd" class="r13 r">ea</span>) =&gt; <a href="#65aee2ac5b022e13" class="i method">SendCommand</a>(<span class="s">&quot;print preview&quot;</span>);
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#36a87bd2b70b818d" class="i field">mnuFileClose</a>.<a href="/Xwt3/A.html#bea30fddfe6bb1c3" class="i">Clicked</a> += (<span id="r14 rd" class="r14 r">o</span>, <span id="r15 rd" class="r15 r">ea</span>) =&gt; <a href="#b55348b0d3a1d73c" class="i method">Exit</a>();
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#1017e492f0bb9288" class="i field">mnuEditCut</a>.<a href="/Xwt3/A.html#bea30fddfe6bb1c3" class="i">Clicked</a> += (<span id="r16 rd" class="r16 r">o</span>, <span id="r17 rd" class="r17 r">ea</span>) =&gt; <a href="#65aee2ac5b022e13" class="i method">SendCommand</a>(<span class="s">&quot;cut selected&quot;</span>);
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#029619a4f1886cc6" class="i field">mnuEditCopy</a>.<a href="/Xwt3/A.html#bea30fddfe6bb1c3" class="i">Clicked</a> += (<span id="r18 rd" class="r18 r">o</span>, <span id="r19 rd" class="r19 r">ea</span>) =&gt; <a href="#65aee2ac5b022e13" class="i method">SendCommand</a>(<span class="s">&quot;copy selected&quot;</span>);
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#1e2fc0735738121d" class="i field">mnuEditPaste</a>.<a href="/Xwt3/A.html#bea30fddfe6bb1c3" class="i">Clicked</a> += (<span id="r20 rd" class="r20 r">o</span>, <span id="r21 rd" class="r21 r">ea</span>) =&gt; <a href="#65aee2ac5b022e13" class="i method">SendCommand</a>(<span class="s">&quot;paste clipboard&quot;</span>);
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#98b2dc889bf05c9b" class="i field">mnuEditSelectAll</a>.<a href="/Xwt3/A.html#bea30fddfe6bb1c3" class="i">Clicked</a> += (<span id="r22 rd" class="r22 r">o</span>, <span id="r23 rd" class="r23 r">ea</span>) =&gt; <a href="#65aee2ac5b022e13" class="i method">SendCommand</a>(<span class="s">&quot;select *&quot;</span>);
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#2405717bc7f95d89" class="i field">mnuEditFindReplace</a>.<a href="/Xwt3/A.html#bea30fddfe6bb1c3" class="i">Clicked</a> += (<span id="r24 rd" class="r24 r">o</span>, <span id="r25 rd" class="r25 r">ea</span>) =&gt; <a href="#65aee2ac5b022e13" class="i method">SendCommand</a>(<span class="s">&quot;findreplace&quot;</span>);
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#d2cd86687fa7ae5a" class="i field">mnuEditFindNext</a>.<a href="/Xwt3/A.html#bea30fddfe6bb1c3" class="i">Clicked</a> += (<span id="r26 rd" class="r26 r">o</span>, <span id="r27 rd" class="r27 r">ea</span>) =&gt; <a href="#65aee2ac5b022e13" class="i method">SendCommand</a>(<span class="s">&quot;findreplace last&quot;</span>);
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#2eb12d2bddc1ffc6" class="i field">mnuHelpAbout</a>.<a href="/Xwt3/A.html#bea30fddfe6bb1c3" class="i">Clicked</a> += <a href="#c99036fa9020491d" class="i method">mnuHelpAbout_Clicked</a>;
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#4fdc9f725e27f3f9" class="i">CloseRequested</a> += <a href="#b59a91176f283382" class="i method">VEd_CloseRequested</a>;
 
            <a href="#4cbc4cbeef4c960a" class="i method">BuildLayout</a>();
            <a href="#59baedf4da2be847" class="i method">Localize</a>();
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Methods
 
        <b>void</b> <a id="45c9e0c3d827733f" href="../R/45c9e0c3d827733f.html" target="n" data-glyph="76,1" class="i method">Layout_KeyReleased</a>(<b>object</b> <span id="r28 rd" class="r28 r">sender</span>, <a href="/Xwt3/A.html#2699ff808165cb8b" class="t t">KeyEventArgs</a> <span id="r29 rd" class="r29 r">e</span>)
        {
            <b>switch</b> (<span class="r29 r">e</span>.<a href="/Xwt3/A.html#95db2ef747d6b24e" class="i property">Key</a>)
            {
                <b>case</b> <a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#0f52dd3c309f87ac" class="i field">Escape</a>:
                    <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#6b97d18ef28a9e14" class="i field">CommandBox</a>.<a href="/Xwt3/A.html#cd1145841cbceafb" class="i method">SetFocus</a>();
                    <b>return</b>;
                <b>case</b> <a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#a5b1766be83613af" class="i field">F10</a>:
                <b>case</b> <a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#8e35dac2da938a3f" class="i field">q</a>:
                    <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#aa12d88486b33875" class="i method">Close</a>();
                    <b>return</b>;
            }
        }
 
        <b>protected void</b> <a id="4889595e87cdf140" href="../R/4889595e87cdf140.html" target="n" data-glyph="75,1" class="i method">KeyboardHelpButton_Clicked</a>(<b>object</b> <span id="r30 rd" class="r30 r">sender</span>, <a href="@0@mscorlib/A.html#9a1496aa60befd10" class="t t">EventArgs</a> <span id="r31 rd" class="r31 r">e</span>)
        {
            <b>switch</b> (<a href="@0@mscorlib/A.html#fc990bd1275d43d6" class="t t">Convert</a>.<a href="@0@mscorlib/A.html#3a271a647f117003" class="i method">ToInt32</a>(((<a href="Actions/KeyboardHelpButton.cs.html#921c61c5c38a2704" class="t t">KeyboardHelpButton</a>)<span class="r30 r">sender</span>).<a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a>))
            {
                <b>case</b> 1:
                    <a href="#45c9e0c3d827733f" class="i method">Layout_KeyReleased</a>(<span class="r30 r">sender</span>, <b>new</b> <a href="/Xwt3/A.html#89d223d302816f89" class="t constructor">KeyEventArgs</a>(<a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#cee5ddf22802a417" class="i field">F1</a>, <a href="/Xwt3/A.html#657efde51b52078f" class="t t">ModifierKeys</a>.<a href="/Xwt3/A.html#1942d41fd83a1aeb" class="i field">None</a>, <b>false</b>, 0));
                    <b>break</b>;
                <b>case</b> 2:
                    <a href="#45c9e0c3d827733f" class="i method">Layout_KeyReleased</a>(<span class="r30 r">sender</span>, <b>new</b> <a href="/Xwt3/A.html#89d223d302816f89" class="t constructor">KeyEventArgs</a>(<a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#3fcfde8b1d2362bd" class="i field">F2</a>, <a href="/Xwt3/A.html#657efde51b52078f" class="t t">ModifierKeys</a>.<a href="/Xwt3/A.html#1942d41fd83a1aeb" class="i field">None</a>, <b>false</b>, 0));
                    <b>break</b>;
                <b>case</b> 3:
                    <a href="#45c9e0c3d827733f" class="i method">Layout_KeyReleased</a>(<span class="r30 r">sender</span>, <b>new</b> <a href="/Xwt3/A.html#89d223d302816f89" class="t constructor">KeyEventArgs</a>(<a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#8b634c1b33d2747f" class="i field">F3</a>, <a href="/Xwt3/A.html#657efde51b52078f" class="t t">ModifierKeys</a>.<a href="/Xwt3/A.html#1942d41fd83a1aeb" class="i field">None</a>, <b>false</b>, 0));
                    <b>break</b>;
                <b>case</b> 4:
                    <a href="#45c9e0c3d827733f" class="i method">Layout_KeyReleased</a>(<span class="r30 r">sender</span>, <b>new</b> <a href="/Xwt3/A.html#89d223d302816f89" class="t constructor">KeyEventArgs</a>(<a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#0ba43b129d3eb474" class="i field">F4</a>, <a href="/Xwt3/A.html#657efde51b52078f" class="t t">ModifierKeys</a>.<a href="/Xwt3/A.html#1942d41fd83a1aeb" class="i field">None</a>, <b>false</b>, 0));
                    <b>break</b>;
                <b>case</b> 5:
                    <a href="#45c9e0c3d827733f" class="i method">Layout_KeyReleased</a>(<span class="r30 r">sender</span>, <b>new</b> <a href="/Xwt3/A.html#89d223d302816f89" class="t constructor">KeyEventArgs</a>(<a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#a32c5caadf4a3a5a" class="i field">F5</a>, <a href="/Xwt3/A.html#657efde51b52078f" class="t t">ModifierKeys</a>.<a href="/Xwt3/A.html#1942d41fd83a1aeb" class="i field">None</a>, <b>false</b>, 0));
                    <b>break</b>;
                <b>case</b> 6:
                    <a href="#45c9e0c3d827733f" class="i method">Layout_KeyReleased</a>(<span class="r30 r">sender</span>, <b>new</b> <a href="/Xwt3/A.html#89d223d302816f89" class="t constructor">KeyEventArgs</a>(<a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#15e29211f00c6ace" class="i field">F6</a>, <a href="/Xwt3/A.html#657efde51b52078f" class="t t">ModifierKeys</a>.<a href="/Xwt3/A.html#1942d41fd83a1aeb" class="i field">None</a>, <b>false</b>, 0));
                    <b>break</b>;
                <b>case</b> 7:
                    <a href="#45c9e0c3d827733f" class="i method">Layout_KeyReleased</a>(<span class="r30 r">sender</span>, <b>new</b> <a href="/Xwt3/A.html#89d223d302816f89" class="t constructor">KeyEventArgs</a>(<a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#ed3d44fc203920d4" class="i field">F7</a>, <a href="/Xwt3/A.html#657efde51b52078f" class="t t">ModifierKeys</a>.<a href="/Xwt3/A.html#1942d41fd83a1aeb" class="i field">None</a>, <b>false</b>, 0));
                    <b>break</b>;
                <b>case</b> 8:
                    <a href="#45c9e0c3d827733f" class="i method">Layout_KeyReleased</a>(<span class="r30 r">sender</span>, <b>new</b> <a href="/Xwt3/A.html#89d223d302816f89" class="t constructor">KeyEventArgs</a>(<a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#cf803d695b19904a" class="i field">F8</a>, <a href="/Xwt3/A.html#657efde51b52078f" class="t t">ModifierKeys</a>.<a href="/Xwt3/A.html#1942d41fd83a1aeb" class="i field">None</a>, <b>false</b>, 0));
                    <b>break</b>;
                <b>case</b> 9:
                    <a href="#45c9e0c3d827733f" class="i method">Layout_KeyReleased</a>(<span class="r30 r">sender</span>, <b>new</b> <a href="/Xwt3/A.html#89d223d302816f89" class="t constructor">KeyEventArgs</a>(<a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#3daac534485365df" class="i field">F9</a>, <a href="/Xwt3/A.html#657efde51b52078f" class="t t">ModifierKeys</a>.<a href="/Xwt3/A.html#1942d41fd83a1aeb" class="i field">None</a>, <b>false</b>, 0));
                    <b>break</b>;
                <b>case</b> 10:
                    <a href="#45c9e0c3d827733f" class="i method">Layout_KeyReleased</a>(<span class="r30 r">sender</span>, <b>new</b> <a href="/Xwt3/A.html#89d223d302816f89" class="t constructor">KeyEventArgs</a>(<a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#a5b1766be83613af" class="i field">F10</a>, <a href="/Xwt3/A.html#657efde51b52078f" class="t t">ModifierKeys</a>.<a href="/Xwt3/A.html#1942d41fd83a1aeb" class="i field">None</a>, <b>false</b>, 0));
                    <b>break</b>;
 
            }
        }
 
        <b>void</b> <a id="b59a91176f283382" href="../R/b59a91176f283382.html" target="n" data-glyph="76,1" class="i method">VEd_CloseRequested</a>(<b>object</b> <span id="r32 rd" class="r32 r">sender</span>, <a href="/Xwt3/A.html#91ca685b0d478458" class="t t">CloseRequestedEventArgs</a> <span id="r33 rd" class="r33 r">args</span>)
        {
            <a href="../P/4e3439e35507a3dd.html#4e3439e35507a3dd" class="t t">Settings</a>.<a href="../Properties/Settings.Designer.cs.html#627bac430d77dfaf" class="i property">Default</a>.<a href="../Properties/Settings.Designer.cs.html#e25b770d287017a6" class="i property">VEWinHeight</a> = <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#2fc45f5fb1671ce6" class="i property">Height</a>;
            <a href="../P/4e3439e35507a3dd.html#4e3439e35507a3dd" class="t t">Settings</a>.<a href="../Properties/Settings.Designer.cs.html#627bac430d77dfaf" class="i property">Default</a>.<a href="../Properties/Settings.Designer.cs.html#cf97b0b3dbaacce6" class="i property">VEWinWidth</a> = <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#710b2ea5bcbd184f" class="i property">Width</a>;
 
            <b>try</b>
            {
                <a href="#65aee2ac5b022e13" class="i method">SendCommand</a>(<span class="s">&quot;unload&quot;</span>);
            }
            <b>catch</b> (<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r34 rd" class="r34 r">e</span>) { <a href="/Xwt3/A.html#1e0854feacd0db6d" class="t t">MessageDialog</a>.<a href="/Xwt3/A.html#fb07c548b94f2629" class="i method">ShowError</a>(<span class="r34 r">e</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>, <span class="r34 r">e</span>.<a href="@0@mscorlib/A.html#950d763693dd32d3" class="i property">StackTrace</a> + <span class="s">&quot;\n   on &quot;</span> + <a href="#5207ff505a28607e" class="i property">Plugin</a>.<a href="/pluginner/A.html#b26581688159b650" class="i property">Name</a> + <span class="s">&quot; (&quot;</span> + <a href="#5207ff505a28607e" class="i property">Plugin</a>.<a href="@0@mscorlib/A.html#4d73eb225aef8a61" class="i method">GetType</a>() + <span class="s">&quot;)&quot;</span>); }
        }
 
        <b>public void</b> <a id="175c52434bf7ea83" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Show</a>()
        {
            <b>if</b> (<a href="#84b1720abb60fe01" class="i field">CanBeShowed</a>)
                <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#14cc650ccd55476a" class="i method">Show</a>();
        }
 
        <b>protected void</b> <a id="c99036fa9020491d" href="../R/c99036fa9020491d.html" target="n" data-glyph="75,1" class="i method">mnuHelpAbout_Clicked</a>(<b>object</b> <span id="r35 rd" class="r35 r">sender</span>, <a href="@0@mscorlib/A.html#9a1496aa60befd10" class="t t">EventArgs</a> <span id="r36 rd" class="r36 r">e</span>)
        {
            <b>string</b> <span id="r37 rd" class="r37 r">AboutString1</span> = <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="t t">String</a>.<a href="@0@mscorlib/A.html#9d5604d4425b216f" class="i method">Format</a>(<a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVEVer1&quot;</span>),
                                                <span class="i n">System</span>.<span class="i n">Reflection</span>.<a href="@0@mscorlib/A.html#73b5be5e9c2474b2" class="t t">Assembly</a>.<a href="@0@mscorlib/A.html#bd671af9926207e9" class="i method">GetExecutingAssembly</a>().<a href="@0@mscorlib/A.html#1fd23b897ffa9a75" class="i method">GetName</a>().<a href="@0@mscorlib/A.html#c36677aa25838c8c" class="i property">Version</a>.<a href="@0@mscorlib/A.html#3b32a91c30a49c52" class="i method">ToString</a>());
            <b>string</b> <span id="r38 rd" class="r38 r">AboutString2</span> = <b>string</b>.<a href="@0@mscorlib/A.html#ad9f5b0b214ae8f3" class="i method">Format</a>(<a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVEVer2&quot;</span>), <a href="#5207ff505a28607e" class="i property">Plugin</a>.<a href="/pluginner/A.html#b26581688159b650" class="i property">Name</a>, <a href="#5207ff505a28607e" class="i property">Plugin</a>.<a href="/pluginner/A.html#f95c6ad216fbd859" class="i property">Version</a>, <span class="s">&quot;\n&quot;</span>, <a href="#5207ff505a28607e" class="i property">Plugin</a>.<a href="/pluginner/A.html#bea11096f9ba12e6" class="i property">Author</a>);
            <a href="/Xwt3/A.html#1e0854feacd0db6d" class="t t">MessageDialog</a>.<a href="/Xwt3/A.html#34b8719ea85315b8" class="i method">ShowMessage</a>(<span class="r37 r">AboutString1</span>, <span class="r38 r">AboutString2</span>);
        }
 
        <b>protected void</b> <a id="d2df69f29bdddbba" href="../R/d2df69f29bdddbba.html" target="n" data-glyph="75,1" class="i method">CommandBox_KeyReleased</a>(<b>object</b> <span id="r39 rd" class="r39 r">sender</span>, <a href="/Xwt3/A.html#2699ff808165cb8b" class="t t">KeyEventArgs</a> <span id="r40 rd" class="r40 r">e</span>)
        {
            <b>if</b> (<span class="r40 r">e</span>.<a href="/Xwt3/A.html#95db2ef747d6b24e" class="i property">Key</a> == <a href="/Xwt3/A.html#90dd477465961572" class="t t">Key</a>.<a href="/Xwt3/A.html#9e769850a42f6aa8" class="i field">Return</a>)
            {
                <b>if</b> (<a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#6b97d18ef28a9e14" class="i field">CommandBox</a>.<a href="/Xwt3/A.html#3653408afc9d6ca7" class="i property">Text</a> == <span class="s">&quot;q&quot;</span>)
                {
                    <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#aa12d88486b33875" class="i method">Close</a>();
                    <b>return</b>;
                }
                <b>if</b> (<a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#6b97d18ef28a9e14" class="i field">CommandBox</a>.<a href="/Xwt3/A.html#3653408afc9d6ca7" class="i property">Text</a> == <span class="s">&quot;q!&quot;</span>)
                {
                    <a href="#5207ff505a28607e" class="i property">Plugin</a>.<a href="/pluginner/A.html#d122f4daaf9c79c5" class="i method">SaveFile</a>();
                    <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#aa12d88486b33875" class="i method">Close</a>(); <b>return</b>;
                }
                <a href="#65aee2ac5b022e13" class="i method">SendCommand</a>(<a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#6b97d18ef28a9e14" class="i field">CommandBox</a>.<a href="/Xwt3/A.html#3653408afc9d6ca7" class="i property">Text</a>);
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Sends a command to the plugin</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r41 r">Cmd</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">the command in DOS/*NIX-style: NAME ARG1 ARG2 ARG3</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>protected void</b> <a id="65aee2ac5b022e13" href="../R/65aee2ac5b022e13.html" target="n" data-glyph="75,1" class="i method">SendCommand</a>(<b>string</b> <span id="r41 rd" class="r41 r">Cmd</span>)
        {
            <a href="#5207ff505a28607e" class="i property">Plugin</a>.<a href="/pluginner/A.html#d1e50730307114a4" class="i method">APICallPlugin</a>(<span class="r41 r">Cmd</span>.<a href="@0@mscorlib/A.html#1c4a9dc78ba38999" class="i method">Split</a>(<span class="s">&quot; &quot;</span>.<a href="@0@mscorlib/A.html#81c2d980f5d0ee35" class="i method">ToCharArray</a>())[0], <span class="r41 r">Cmd</span>.<a href="@0@mscorlib/A.html#1ff97959e1d46a53" class="i method">Split</a>(<span class="s">&quot; &quot;</span>.<a href="@0@mscorlib/A.html#81c2d980f5d0ee35" class="i method">ToCharArray</a>(), <a href="@0@mscorlib/A.html#a948431c3f385783" class="t t">StringSplitOptions</a>.<a href="@0@mscorlib/A.html#249c323b50d44651" class="i field">RemoveEmptyEntries</a>));
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#6b97d18ef28a9e14" class="i field">CommandBox</a>.<a href="/Xwt3/A.html#3653408afc9d6ca7" class="i property">Text</a> = <span class="s">&quot;&quot;</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Sets VE mode (view or edit)</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r42 r">AllowEdit</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Set to true if edit controls should be showed</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>protected void</b> <a id="2b5c725a310fb59a" href="../R/2b5c725a310fb59a.html" target="n" data-glyph="75,1" class="i method">SetVEMode</a>(<b>bool</b> <span id="r42 rd" class="r42 r">AllowEdit</span>)
        {
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#837bade50844f755" class="i field">mnuFileSave</a>.<a href="/Xwt3/A.html#cdc2d8f2763c60b4" class="i property">Visible</a> = <span class="r42 r">AllowEdit</span>;
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#ec937672761211ac" class="i field">mnuFileNew</a>.<a href="/Xwt3/A.html#cdc2d8f2763c60b4" class="i property">Visible</a> = <span class="r42 r">AllowEdit</span>;
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#1017e492f0bb9288" class="i field">mnuEditCut</a>.<a href="/Xwt3/A.html#cdc2d8f2763c60b4" class="i property">Visible</a> = <span class="r42 r">AllowEdit</span>;
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#1e2fc0735738121d" class="i field">mnuEditPaste</a>.<a href="/Xwt3/A.html#cdc2d8f2763c60b4" class="i property">Visible</a> = <span class="r42 r">AllowEdit</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Load the file in the VE (with plugin autodetection)</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r43 r">URL</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The file&#39;s URL</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r44 r">FS</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The file&#39;s filesystem</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r45 r">AllowEdit</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Mode of VE: true=editor, false=viewer</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>public void</b> <a id="d7ee91b06ef2ff6a" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">LoadFile</a>(<b>string</b> <span id="r43 rd" class="r43 r">URL</span>, <a href="/pluginner/A.html#a05a46d8951816c2" class="t t">IFSPlugin</a> <span id="r44 rd" class="r44 r">FS</span>, <b>bool</b> <span id="r45 rd" class="r45 r">AllowEdit</span>)
        {
            <b>try</b>
            {
                <b>byte</b>[] <span id="r46 rd" class="r46 r">ContentBytes</span> = <span class="r44 r">FS</span>.<a href="/pluginner/A.html#005bd742afc776d5" class="i method">GetFileContent</a>(<span class="r43 r">URL</span>);
                <b>string</b> <span id="r47 rd" class="r47 r">content</span> = (<span class="r46 r">ContentBytes</span> != <b>null</b> &amp;&amp; <span class="r46 r">ContentBytes</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> &gt; 0) ? <a href="@0@mscorlib/A.html#3b6090c501893c25" class="t t">Encoding</a>.<a href="@0@mscorlib/A.html#a10eb90a3d884500" class="i property">UTF8</a>.<a href="@0@mscorlib/A.html#7310c9cccfaecd17" class="i method">GetString</a>(<span class="r46 r">ContentBytes</span>) : <span class="s">&quot;&quot;</span>;
                <a href="../pluginfinder.cs.html#8f3b36a4b73ed102" class="t t">pluginfinder</a> <span id="r48 rd" class="r48 r">pf</span> = <b>new</b> <a href="../pluginfinder.cs.html#7304b80fa4460893" class="t constructor">pluginfinder</a>();
 
                <b>string</b> <span id="r49 rd" class="r49 r">GottenHeaders</span>;
                <b>if</b> (<span class="r47 r">content</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> &gt;= 20) <span class="r49 r">GottenHeaders</span> = <span class="r47 r">content</span>.<a href="@0@mscorlib/A.html#8124961f027d9ac9" class="i method">Substring</a>(0, 20);
                <b>else</b> <span class="r49 r">GottenHeaders</span> = <span class="r47 r">content</span>;
                <a href="#7343187e6ff50316" class="i method">LoadFile</a>(<span class="r43 r">URL</span>, <span class="r44 r">FS</span>, <span class="r48 r">pf</span>.<a href="../pluginfinder.cs.html#0623faec64d96e94" class="i method">GetFCVEplugin</a>(<span class="s">&quot;NAME=&quot;</span> + <span class="r43 r">URL</span> + <span class="s">&quot;HEADERS=&quot;</span> + <span class="r49 r">GottenHeaders</span>), <span class="r45 r">AllowEdit</span>);
            }
            <b>catch</b> (<a href="../pluginfinder.cs.html#8f3b36a4b73ed102" class="t t">pluginfinder</a>.<a href="../pluginfinder.cs.html#e5811e510a5b56df" class="t t">PluginNotFoundException</a> <span id="r50 rd" class="r50 r">ex</span>)
            {
                <span class="c">// ReSharper disable LocalizableElement</span>
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">&quot;ERROR: VE plugin is not loaded: &quot;</span> + <span class="r50 r">ex</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a> + <span class="s">&quot;\n&quot;</span> + <span class="r50 r">ex</span>.<a href="@0@mscorlib/A.html#950d763693dd32d3" class="i property">StackTrace</a>);
 
                <a href="/Xwt3/A.html#1e0854feacd0db6d" class="t t">MessageDialog</a>.<a href="/Xwt3/A.html#ba9a70d0bbf9c51f" class="i method">ShowError</a>(<a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVE_PluginNotFound&quot;</span>));
                <a href="#7343187e6ff50316" class="i method">LoadFile</a>(<span class="r43 r">URL</span>, <span class="r44 r">FS</span>, <b>new</b> <a href="../base-plugins/ve/PlainText.cs.html#504e5b66bde0ed06" class="t constructor">PlainText</a>(), <span class="r45 r">AllowEdit</span>);
            }
            <b>catch</b> (<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r51 rd" class="r51 r">ex</span>)
            {
                <a href="/Xwt3/A.html#1e0854feacd0db6d" class="t t">MessageDialog</a>.<a href="/Xwt3/A.html#ba9a70d0bbf9c51f" class="i method">ShowError</a>(<b>string</b>.<a href="@0@mscorlib/A.html#9d5604d4425b216f" class="i method">Format</a>(<a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVE_LoadError&quot;</span>), <span class="r51 r">ex</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>));
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">&quot;ERROR: VE can&#39;t load file: &quot;</span> + <span class="r51 r">ex</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a> + <span class="s">&quot;\n&quot;</span> + <span class="r51 r">ex</span>.<a href="@0@mscorlib/A.html#950d763693dd32d3" class="i property">StackTrace</a>);
                <span class="c">// ReSharper restore LocalizableElement</span>
            }
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Load
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Load the file in the VE</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r52 r">URL</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The URL of the file</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r53 r">FS</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The filesystem of the file</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r54 r">plugin</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The VE plugin, which will be used to load this file</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r55 r">AllowEdit</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Allow editing the file</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>public void</b> <a id="7343187e6ff50316" href="../R/7343187e6ff50316.html" target="n" data-glyph="72,1" class="i method">LoadFile</a>(<b>string</b> <span id="r52 rd" class="r52 r">URL</span>, <a href="/pluginner/A.html#a05a46d8951816c2" class="t t">IFSPlugin</a> <span id="r53 rd" class="r53 r">FS</span>, <a href="/pluginner/A.html#0638759f7bbd9d95" class="t t">IVEPlugin</a> <span id="r54 rd" class="r54 r">plugin</span>, <b>bool</b> <span id="r55 rd" class="r55 r">AllowEdit</span>)
        {
            <span class="c">// check for external editor</span>
            <b>if</b> (<a href="#f816a8a987335ada" class="i method">UseExternal</a>(<span class="r52 r">URL</span>, <span class="r55 r">AllowEdit</span>))
                <b>return</b>;
 
            <a href="#c944ae195bf8a9f8" class="i field">FileNameForTitle</a> = <span class="r52 r">URL</span>.<a href="@0@mscorlib/A.html#882fa7998d6ca35a" class="i method">Substring</a>(<span class="r52 r">URL</span>.<a href="@0@mscorlib/A.html#31af6d0e11b2dbd3" class="i method">LastIndexOf</a>(<span class="r53 r">FS</span>.<a href="/pluginner/A.html#e10c6e92e153d997" class="i property">DirSeparator</a>, <a href="@0@mscorlib/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@0@mscorlib/A.html#87891a6d28c64c9b" class="i field">Ordinal</a>) + 1);
            <a href="#7364ea07418789f6" class="i field">IsEditor</a> = <span class="r55 r">AllowEdit</span>;
 
            <b>if</b> (<span class="r55 r">AllowEdit</span>)
                <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#18aa1f1845dd5271" class="i property">Title</a> = <b>string</b>.<a href="@0@mscorlib/A.html#9d5604d4425b216f" class="i method">Format</a>(<a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCETitle&quot;</span>), <a href="#c944ae195bf8a9f8" class="i field">FileNameForTitle</a>);
            <b>else</b>
                <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#18aa1f1845dd5271" class="i property">Title</a> = <b>string</b>.<a href="@0@mscorlib/A.html#9d5604d4425b216f" class="i method">Format</a>(<a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVTitle&quot;</span>), <a href="#c944ae195bf8a9f8" class="i field">FileNameForTitle</a>);
 
            <a href="#3a7d7f2c597ea855" class="i field">ProgressDialog</a> = <b>new</b> <a href="Actions/FileProcessDialog.cs.html#577789350c1b1ca0" class="t constructor">FileProcessDialog</a>();
            <b>string</b> <span id="r56 rd" class="r56 r">ProgressInitialText</span> = <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="t t">String</a>.<a href="@0@mscorlib/A.html#9d5604d4425b216f" class="i method">Format</a>(<a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVELoadingMsg&quot;</span>), <span class="r52 r">URL</span>);
            <a href="#3a7d7f2c597ea855" class="i field">ProgressDialog</a>.<a href="Actions/FileProcessDialog.cs.html#cfb7deed496b39ab" class="i field">lblStatus</a>.<a href="/Xwt3/A.html#e1385dbb967268cb" class="i property">Text</a> = <span class="r56 r">ProgressInitialText</span>;
            <span class="r53 r">FS</span>.<a href="/pluginner/A.html#053e370793307454" class="i">ProgressChanged</a> +=
                <span id="r57 rd" class="r57 r">d</span> =&gt;
                {
                    <a href="#3a7d7f2c597ea855" class="i field">ProgressDialog</a>.<a href="Actions/FileProcessDialog.cs.html#f18d67846a89e7cb" class="i field">pbrProgress</a>.<a href="/Xwt3/A.html#0d960e41da7beded" class="i property">Fraction</a>
                    = (<span class="r57 r">d</span> &gt;= 0 &amp;&amp; <span class="r57 r">d</span> &lt;= 1) ? <span class="r57 r">d</span> : <a href="#3a7d7f2c597ea855" class="i field">ProgressDialog</a>.<a href="Actions/FileProcessDialog.cs.html#f18d67846a89e7cb" class="i field">pbrProgress</a>.<a href="/Xwt3/A.html#0d960e41da7beded" class="i property">Fraction</a>;
                    <span class="i n">Xwt</span>.<a href="/Xwt3/A.html#687215caac5b1b53" class="t t">Application</a>.<a href="/Xwt3/A.html#90e66e6f971c8db5" class="i property">MainLoop</a>.<a href="/Xwt3/A.html#590eaa3d920e5f18" class="i method">DispatchPendingEvents</a>();
                };
            <span class="r53 r">FS</span>.<a href="/pluginner/A.html#fa3d6dc45d916f82" class="i">StatusChanged</a> +=
                <span id="r58 rd" class="r58 r">d</span> =&gt;
                {
                    <a href="#3a7d7f2c597ea855" class="i field">ProgressDialog</a>.<a href="Actions/FileProcessDialog.cs.html#cfb7deed496b39ab" class="i field">lblStatus</a>.<a href="/Xwt3/A.html#e1385dbb967268cb" class="i property">Text</a> = <span class="r56 r">ProgressInitialText</span> + <span class="s">&quot;\n&quot;</span> + <span class="r58 r">d</span>;
                    <span class="i n">Xwt</span>.<a href="/Xwt3/A.html#687215caac5b1b53" class="t t">Application</a>.<a href="/Xwt3/A.html#90e66e6f971c8db5" class="i property">MainLoop</a>.<a href="/Xwt3/A.html#590eaa3d920e5f18" class="i method">DispatchPendingEvents</a>();
                };
 
            <a href="#3a7d7f2c597ea855" class="i field">ProgressDialog</a>.<a href="Actions/FileProcessDialog.cs.html#17467063a26b2575" class="i field">cmdCancel</a>.<a href="/Xwt3/A.html#5683a347395de938" class="i">Clicked</a> += (<span id="r59 rd" class="r59 r">o</span>, <span id="r60 rd" class="r60 r">ea</span>) =&gt; { <a href="#84b1720abb60fe01" class="i field">CanBeShowed</a> = <b>false</b>; <a href="#3a7d7f2c597ea855" class="i field">ProgressDialog</a>.<a href="/Xwt3/A.html#aa12d88486b33875" class="i method">Close</a>(); };
            <a href="#3a7d7f2c597ea855" class="i field">ProgressDialog</a>.<a href="/Xwt3/A.html#14cc650ccd55476a" class="i method">Show</a>();
            <span class="i n">Xwt</span>.<a href="/Xwt3/A.html#687215caac5b1b53" class="t t">Application</a>.<a href="/Xwt3/A.html#90e66e6f971c8db5" class="i property">MainLoop</a>.<a href="/Xwt3/A.html#590eaa3d920e5f18" class="i method">DispatchPendingEvents</a>();
 
            <b>if</b> (!<a href="#84b1720abb60fe01" class="i field">CanBeShowed</a>) <b>return</b>;
 
            <a href="#b465fb4e67681a56" class="i method">PluginMode</a>(<span class="r52 r">URL</span>, <span class="r53 r">FS</span>, <span class="r54 r">plugin</span>, <span class="r55 r">AllowEdit</span>);
            <a href="#4cbc4cbeef4c960a" class="i method">BuildLayout</a>();
 
            <a href="#3a7d7f2c597ea855" class="i field">ProgressDialog</a>.<a href="/Xwt3/A.html#aa12d88486b33875" class="i method">Close</a>();
            <a href="#3a7d7f2c597ea855" class="i field">ProgressDialog</a> = <b>null</b>;
        }
 
        <b>protected</b> <a href="Actions/FileProcessDialog.cs.html#f06aec4beb537c6e" class="t t">FileProcessDialog</a> <a id="3a7d7f2c597ea855" href="../R/3a7d7f2c597ea855.html" target="n" data-glyph="45,1" class="i field">ProgressDialog</a>;
 
        <b>bool</b> <a id="f816a8a987335ada" href="../R/f816a8a987335ada.html" target="n" data-glyph="76,1" class="i method">UseExternal</a>(<b>string</b> <span id="r61 rd" class="r61 r">URL</span>, <b>bool</b> <span id="r62 rd" class="r62 r">AllowEdit</span>)
        {
            <b>try</b>
            {
                <b>if</b> (<a href="../P/4e3439e35507a3dd.html#4e3439e35507a3dd" class="t t">Settings</a>.<a href="../Properties/Settings.Designer.cs.html#627bac430d77dfaf" class="i property">Default</a>.<a href="../Properties/Settings.Designer.cs.html#a1d029588ad00678" class="i property">UseExternalEditor</a> &amp;&amp; <span class="r62 r">AllowEdit</span> || <a href="../P/4e3439e35507a3dd.html#4e3439e35507a3dd" class="t t">Settings</a>.<a href="../Properties/Settings.Designer.cs.html#627bac430d77dfaf" class="i property">Default</a>.<a href="../Properties/Settings.Designer.cs.html#c05ead8c22408c8c" class="i property">UseExternalViewer</a> &amp;&amp; !<span class="r62 r">AllowEdit</span> &amp;&amp; <span class="r61 r">URL</span>.<a href="@0@mscorlib/A.html#23804789ea4c9c0e" class="i method">StartsWith</a>(<span class="s">&quot;file:&quot;</span>))
                {
                    <a href="#84b1720abb60fe01" class="i field">CanBeShowed</a> = <b>false</b>;
                    <b>if</b> (<span class="r62 r">AllowEdit</span>)
                    {
                        <a href="#8a8c75c8036861e3" class="i method">ExecuteProgram</a>(<a href="../P/4e3439e35507a3dd.html#4e3439e35507a3dd" class="t t">Settings</a>.<a href="../Properties/Settings.Designer.cs.html#627bac430d77dfaf" class="i property">Default</a>.<a href="../Properties/Settings.Designer.cs.html#2318edcc1976fce7" class="i property">ExternalEditor</a>.<a href="@0@mscorlib/A.html#69fc1d0aa6df8a90" class="i method">Replace</a>(<span class="s">&quot;$&quot;</span>, <span class="s">&quot;\&quot;&quot;</span> + <span class="r61 r">URL</span>));
                    }
                    <b>else</b>
                    {
                        <a href="#8a8c75c8036861e3" class="i method">ExecuteProgram</a>(<a href="../P/4e3439e35507a3dd.html#4e3439e35507a3dd" class="t t">Settings</a>.<a href="../Properties/Settings.Designer.cs.html#627bac430d77dfaf" class="i property">Default</a>.<a href="../Properties/Settings.Designer.cs.html#c687fc8417f4a980" class="i property">ExternalViewer</a>.<a href="@0@mscorlib/A.html#69fc1d0aa6df8a90" class="i method">Replace</a>(<span class="s">&quot;$&quot;</span>, <span class="s">&quot;\&quot;&quot;</span> + <span class="r61 r">URL</span>));
                    }
                    <b>return true</b>;
                }
            }
            <b>catch</b> (<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r63 rd" class="r63 r">ex</span>)
            {
                <a href="/Xwt3/A.html#1e0854feacd0db6d" class="t t">MessageDialog</a>.<a href="/Xwt3/A.html#fb07c548b94f2629" class="i method">ShowError</a>(<a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;CantRunEXE&quot;</span>), <span class="r63 r">ex</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>);
                <a href="#84b1720abb60fe01" class="i field">CanBeShowed</a> = <b>false</b>;
                <b>return true</b>;
            }
 
            <b>return false</b>;
        }
 
        <b>protected void</b> <a id="b465fb4e67681a56" href="../R/b465fb4e67681a56.html" target="n" data-glyph="75,1" class="i method">PluginMode</a>(<b>string</b> <span id="r64 rd" class="r64 r">URL</span>, <a href="/pluginner/A.html#a05a46d8951816c2" class="t t">IFSPlugin</a> <span id="r65 rd" class="r65 r">FS</span>, <a href="/pluginner/A.html#0638759f7bbd9d95" class="t t">IVEPlugin</a> <span id="r66 rd" class="r66 r">plugin</span>, <b>bool</b> <span id="r67 rd" class="r67 r">AllowEdit</span>)
        {
            <b>try</b>
            {
                <a href="#5207ff505a28607e" class="i property">Plugin</a> = <span class="r66 r">plugin</span>;
                <a href="#5207ff505a28607e" class="i property">Plugin</a>.<a href="/pluginner/A.html#19489ec62701e2b0" class="i property">ReadOnly</a> = !<span class="r67 r">AllowEdit</span>;
                <a href="#5207ff505a28607e" class="i property">Plugin</a>.<a href="/pluginner/A.html#e1535e2ec04fb765" class="i method">OpenFile</a>(<span class="r64 r">URL</span>, <span class="r65 r">FS</span>);
                <a href="#5207ff505a28607e" class="i property">Plugin</a>.<a href="/pluginner/A.html#8de70596d3b0d2df" class="i property">ShowToolbar</a> = <a href="../P/4e3439e35507a3dd.html#4e3439e35507a3dd" class="t t">Settings</a>.<a href="../Properties/Settings.Designer.cs.html#627bac430d77dfaf" class="i property">Default</a>.<a href="../Properties/Settings.Designer.cs.html#ea2079cc62470454" class="i property">VE_ShowToolbar</a>;
 
                <b>bool</b> <span id="r68 rd" class="r68 r">Mode</span> = <span class="r67 r">AllowEdit</span>;
 
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">XWT</span>
<span class="e">                //Plugin.Stylist = s;
                Visual.mnuFormat.SubMenu = Plugin.FormatMenu as Xwt.Menu;
 
                if (!Plugin.CanEdit &amp;&amp; AllowEdit)
                {
                    MessageDialog.ShowWarning(String.Format(Localizator.GetString(&quot;FCVEpluginro1&quot;),
                        Plugin.Name + &quot; &quot; + Plugin.Version), Localizator.GetString(&quot;FCVEpluginro2&quot;)
                        );
                    Mode = false;
                }
 
                FSPlugin = FS;
                Visual.PluginBody = Plugin.Body as Xwt.Widget;
</span><span class="k preprocess">#</span><span class="k preprocess">endif</span>
 
                <a href="#2b5c725a310fb59a" class="i method">SetVEMode</a>(<span class="r68 r">Mode</span>);
            }
            <b>catch</b> (<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r69 rd" class="r69 r">ex</span>)
            {
                <a href="/Xwt3/A.html#1e0854feacd0db6d" class="t t">MessageDialog</a>.<a href="/Xwt3/A.html#f9765707d4c04b4a" class="i method">ShowWarning</a>(<span class="r69 r">ex</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>);
                <b>if</b> (<a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#4d767b2fe1dd26dd" class="i field">PluginBody</a>.<a href="@0@mscorlib/A.html#4d73eb225aef8a61" class="i method">GetType</a>() == <b>typeof</b>(<a href="/Xwt3/A.html#7a8bf6509730cf2e" class="t t">Spinner</a>))
                {
                    <a href="#3a7d7f2c597ea855" class="i field">ProgressDialog</a>.<a href="/Xwt3/A.html#aa12d88486b33875" class="i method">Close</a>();
                    <a href="#84b1720abb60fe01" class="i field">CanBeShowed</a> = <b>false</b>;
                    <b>return</b>;
                }
            }
        }
 
        <b>protected void</b> <a id="66d610a32b46d481" href="../R/66d610a32b46d481.html" target="n" data-glyph="75,1" class="i method">OpenFile</a>()
        {
            <span class="c">/*FileChooser OpenFileDialog = new FileChooser(FSPlugin);
			if (OpenFileDialog.ShowDialog() == System.Windows.Forms.DialogResult.Cancel || OpenFileDialog.SelectedFile == null) return;
			SendCommand(&quot;unload&quot;);
			LoadFile(OpenFileDialog.SelectedFile, OpenFileDialog.listPanel1.FSProvider, IsEditor);*/</span>
            <span class="c">//UNDONE: Файл-&gt;Открыть</span>
        }
 
<span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">(Re)builds the &quot;Layout&quot; vbox</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public void</b> <a id="4cbc4cbeef4c960a" href="../R/4cbc4cbeef4c960a.html" target="n" data-glyph="72,1" class="i method">BuildLayout</a>()
        {
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#43e31054c988ed1f" class="i property">Padding</a> = 0;
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#eea99f74202dee10" class="i field">Layout</a>.<a href="/Xwt3/A.html#ec377d58e3798666" class="i method">Clear</a>();
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#eea99f74202dee10" class="i field">Layout</a>.<a href="/Xwt3/A.html#0aca849f4c2a1fbe" class="i method">PackStart</a>(<a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#4d767b2fe1dd26dd" class="i field">PluginBody</a>, <b>true</b>, <a href="/Xwt3/A.html#3462b059836b89d8" class="t t">WidgetPlacement</a>.<a href="/Xwt3/A.html#38a10756f2e381ac" class="i field">Fill</a>, <a href="/Xwt3/A.html#3462b059836b89d8" class="t t">WidgetPlacement</a>.<a href="/Xwt3/A.html#38a10756f2e381ac" class="i field">Fill</a>, 0, 0, 0, 0);
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#eea99f74202dee10" class="i field">Layout</a>.<a href="/Xwt3/A.html#0aca849f4c2a1fbe" class="i method">PackStart</a>(<a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#6b97d18ef28a9e14" class="i field">CommandBox</a>, <b>false</b>, <a href="/Xwt3/A.html#3462b059836b89d8" class="t t">WidgetPlacement</a>.<a href="/Xwt3/A.html#38a10756f2e381ac" class="i field">Fill</a>, <a href="/Xwt3/A.html#3462b059836b89d8" class="t t">WidgetPlacement</a>.<a href="/Xwt3/A.html#38a10756f2e381ac" class="i field">Fill</a>, 0, 0, 0, -6);
            <b>if</b> (<a href="../P/4e3439e35507a3dd.html#4e3439e35507a3dd" class="t t">Settings</a>.<a href="../Properties/Settings.Designer.cs.html#627bac430d77dfaf" class="i property">Default</a>.<a href="../Properties/Settings.Designer.cs.html#23ef24ae48e77193" class="i property">ShowKeybrdHelp</a>)
                <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#eea99f74202dee10" class="i field">Layout</a>.<a href="/Xwt3/A.html#0aca849f4c2a1fbe" class="i method">PackStart</a>(<a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#9da7e3325fed5b41" class="i field">KeyBoardHelp</a>, <b>false</b>, <a href="/Xwt3/A.html#3462b059836b89d8" class="t t">WidgetPlacement</a>.<a href="/Xwt3/A.html#38a10756f2e381ac" class="i field">Fill</a>, <a href="/Xwt3/A.html#3462b059836b89d8" class="t t">WidgetPlacement</a>.<a href="/Xwt3/A.html#38a10756f2e381ac" class="i field">Fill</a>, 1, 3, 1, 2);
 
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#dc71c36ac1bd8acc" class="i property">Resizable</a> = <b>true</b>; <span class="c">//fix for some stupid xwt toolkits.</span>
 
            <span class="c">//Selector sel = s.CSS[&quot;VE&quot;];</span>
            <span class="c">//try</span>
            <span class="c">//{</span>
            <span class="c">//    Height = (sel.Declarations[&quot;height&quot;].Value == &quot;auto&quot; ? Settings.Default.VEWinHeight : Convert.ToDouble(sel.Declarations[&quot;height&quot;].Value));</span>
            <span class="c">//    Width = (sel.Declarations[&quot;width&quot;].Value == &quot;auto&quot; ? Settings.Default.VEWinWidth : Convert.ToDouble(sel.Declarations[&quot;width&quot;].Value));</span>
            <span class="c">//}</span>
            <span class="c">//catch { } //a dirty workaround for a Xwt.WPF bug (&quot;&quot;-1&quot; не является допустимым значением для свойства &quot;Width&quot;.&quot; (System.ArgumentException))</span>
            <span class="c">//if (sel.Declarations[&quot;background-color&quot;].Value != &quot;inherit&quot;)</span>
            <span class="c">//{</span>
            <span class="c">//    Layout.BackgroundColor =</span>
            <span class="c">//    Utilities.GetXwtColor(</span>
            <span class="c">//        sel.Declarations[&quot;background-color&quot;].Value</span>
            <span class="c">//    );</span>
            <span class="c">//}</span>
        }
 
<span class="k preprocess">#</span><span class="k preprocess">region</span> Localize 
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Write UI labels dependencing on the current UI language</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>protected void</b> <a id="59baedf4da2be847" href="../R/59baedf4da2be847.html" target="n" data-glyph="75,1" class="i method">Localize</a>()
        {
            <b>if</b> (<a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#40e7e48d64cfc2d4" class="i field">KeybHelpButtons</a>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> == 11)
                <b>for</b> (<b>int</b> <span id="r70 rd" class="r70 r">i</span> = 1; <span class="r70 r">i</span> &lt; 11; <span class="r70 r">i</span>++)
                {
                    <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#40e7e48d64cfc2d4" class="i field">KeybHelpButtons</a>[<span class="r70 r">i</span>].<a href="Actions/KeyboardHelpButton.cs.html#8a82d8d63f695510" class="i property">FKey</a> = <span class="s">&quot;F&quot;</span> + <span class="r70 r">i</span>;
                    <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#40e7e48d64cfc2d4" class="i field">KeybHelpButtons</a>[<span class="r70 r">i</span>].<a href="Actions/KeyboardHelpButton.cs.html#22173b42c91f9a27" class="i property">Text</a> = <a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVE_F&quot;</span> + <span class="r70 r">i</span>);
                }
 
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#ecfaa83ebf299688" class="i field">mnuFile</a>.<a href="/Xwt3/A.html#93c18e62f924fbe1" class="i property">Label</a> = <a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVE_mnuFile&quot;</span>);
            <a href="#1d1423f9291b4116" class="i method">TranslateMenu</a>(<a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#ecfaa83ebf299688" class="i field">mnuFile</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>);
 
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#1e13526f8da52e39" class="i field">mnuEdit</a>.<a href="/Xwt3/A.html#93c18e62f924fbe1" class="i property">Label</a> = <a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVE_mnuEdit&quot;</span>);
            <a href="#1d1423f9291b4116" class="i method">TranslateMenu</a>(<a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#1e13526f8da52e39" class="i field">mnuEdit</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>);
 
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#7718090a7524fb40" class="i field">mnuView</a>.<a href="/Xwt3/A.html#93c18e62f924fbe1" class="i property">Label</a> = <a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVE_mnuView&quot;</span>);
            <a href="#1d1423f9291b4116" class="i method">TranslateMenu</a>(<a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#7718090a7524fb40" class="i field">mnuView</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>);
 
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#3978bc2ca8efa158" class="i field">mnuFormat</a>.<a href="/Xwt3/A.html#93c18e62f924fbe1" class="i property">Label</a> = <a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVE_mnuFormat&quot;</span>);
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#8564a29e02bfc9d6" class="i field">mnuHelp</a>.<a href="/Xwt3/A.html#93c18e62f924fbe1" class="i property">Label</a> = <a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVE_mnuHelp&quot;</span>);
            <a href="#1d1423f9291b4116" class="i method">TranslateMenu</a>(<a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#8564a29e02bfc9d6" class="i field">mnuHelp</a>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>);
 
            <b>if</b> (<a href="#7364ea07418789f6" class="i field">IsEditor</a>)
                <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#18aa1f1845dd5271" class="i property">Title</a> = <b>string</b>.<a href="@0@mscorlib/A.html#9d5604d4425b216f" class="i method">Format</a>(<a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCETitle&quot;</span>), <a href="#c944ae195bf8a9f8" class="i field">FileNameForTitle</a>);
            <b>else</b>
                <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#18aa1f1845dd5271" class="i property">Title</a> = <b>string</b>.<a href="@0@mscorlib/A.html#9d5604d4425b216f" class="i method">Format</a>(<a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVTitle&quot;</span>), <a href="#c944ae195bf8a9f8" class="i field">FileNameForTitle</a>);
        }
 
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Translates the </span><span class="c">&lt;</span><span class="c">paramref</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r71 r">mnu</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> into the current UI language</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>protected void</b> <a id="1d1423f9291b4116" href="../R/1d1423f9291b4116.html" target="n" data-glyph="75,1" class="i method">TranslateMenu</a>(<span class="i n">Xwt</span>.<a href="/Xwt3/A.html#19a610eb0dfd2273" class="t t">Menu</a> <span id="r71 rd" class="r71 r">mnu</span>)
        {
            <b>if</b> (<span class="r71 r">mnu</span> == <b>null</b>) <b>return</b>;
            <b>foreach</b> (<a href="/Xwt3/A.html#60cd30035f288f32" class="t t">MenuItem</a> <span id="r72 rd" class="r72 r">currentMenuItem</span> <b>in</b> <span class="r71 r">mnu</span>.<a href="/Xwt3/A.html#f515510160c31aae" class="i property">Items</a>)
            {
                <b>if</b> (<span class="r72 r">currentMenuItem</span>.<a href="@0@mscorlib/A.html#4d73eb225aef8a61" class="i method">GetType</a>() != <b>typeof</b>(<a href="/Xwt3/A.html#7750db72febff053" class="t t">SeparatorMenuItem</a>))
                { <span class="c">//skip separators</span>
                    <span class="r72 r">currentMenuItem</span>.<a href="/Xwt3/A.html#93c18e62f924fbe1" class="i property">Label</a> = <a href="Localizator.cs.html#0b0c6268a53237f4" class="t t">Localizator</a>.<a href="Localizator.cs.html#546af5a79d2e88a9" class="i method">GetString</a>(<span class="s">&quot;FCVE_&quot;</span> + <span class="r72 r">currentMenuItem</span>.<a href="/Xwt3/A.html#754d474e11d35162" class="i property">Tag</a>);
                    <a href="#1d1423f9291b4116" class="i method">TranslateMenu</a>(<span class="r72 r">currentMenuItem</span>.<a href="/Xwt3/A.html#6b1abeaa367fd6b3" class="i property">SubMenu</a>);
                }
            }
 
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#9da7e3325fed5b41" class="i field">KeyBoardHelp</a>.<a href="/Xwt3/A.html#1d3201127367a2ad" class="i property">Visible</a> = <a href="../P/4e3439e35507a3dd.html#4e3439e35507a3dd" class="t t">Settings</a>.<a href="../Properties/Settings.Designer.cs.html#627bac430d77dfaf" class="i property">Default</a>.<a href="../Properties/Settings.Designer.cs.html#23ef24ae48e77193" class="i property">ShowKeybrdHelp</a>;
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="#6b97d18ef28a9e14" class="i field">CommandBox</a>.<a href="/Xwt3/A.html#1d3201127367a2ad" class="i property">Visible</a> = <a href="../P/4e3439e35507a3dd.html#4e3439e35507a3dd" class="t t">Settings</a>.<a href="../Properties/Settings.Designer.cs.html#627bac430d77dfaf" class="i property">Default</a>.<a href="../Properties/Settings.Designer.cs.html#895dc4bb4e6795e6" class="i property">VE_ShowCmdBar</a>;
        }
 
<span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <b>protected void</b> <a id="b55348b0d3a1d73c" href="../R/b55348b0d3a1d73c.html" target="n" data-glyph="75,1" class="i method">Exit</a>()
        {
            <a href="#65aee2ac5b022e13" class="i method">SendCommand</a>(<span class="s">&quot;unload&quot;</span>);
            <a href="#90e0f34cd75e8916" class="i property">Visual</a>.<a href="/Xwt3/A.html#aa12d88486b33875" class="i method">Close</a>();
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Run an command line like cmd/bash works</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r73 r">CmdLine</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>protected void</b> <a id="8a8c75c8036861e3" href="../R/8a8c75c8036861e3.html" target="n" data-glyph="75,1" class="i method">ExecuteProgram</a>(<b>string</b> <span id="r73 rd" class="r73 r">CmdLine</span>)
        {
            <span class="c">//warning:this program works ugly, the file url shuld start with &quot;file://&quot;.</span>
            <span class="c">//todo: replace this shit-like parameter detection code with more goodly (taking into account the quotes)</span>
            <span class="c">//	  QUICKER!!!</span>
            <b>string</b> <span id="r74 rd" class="r74 r">OrigCmdLine</span> = <span class="r73 r">CmdLine</span>;
            <b>int</b> <span id="r75 rd" class="r75 r">RazdelPo</span> = <span class="r74 r">OrigCmdLine</span>.<a href="@0@mscorlib/A.html#7d6aed52d875ec59" class="i method">IndexOf</a>(<span class="s">&quot; &quot;</span>, <a href="@0@mscorlib/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@0@mscorlib/A.html#87891a6d28c64c9b" class="i field">Ordinal</a>);
            <b>string</b> <span id="r76 rd" class="r76 r">ExeArgs</span> = <span class="r74 r">OrigCmdLine</span>.<a href="@0@mscorlib/A.html#882fa7998d6ca35a" class="i method">Substring</a>(<span class="r75 r">RazdelPo</span> + 1).<a href="@0@mscorlib/A.html#882fa7998d6ca35a" class="i method">Substring</a>(8); <span class="c">//cut exe filename, &quot;file://&quot; prefix</span>
            <b>string</b> <span id="r77 rd" class="r77 r">ExeName</span> = <span class="r74 r">OrigCmdLine</span>.<a href="@0@mscorlib/A.html#8124961f027d9ac9" class="i method">Substring</a>(0, <span class="r75 r">RazdelPo</span>); <span class="c">//cut arguments </span>
 
            <span class="i n">System</span>.<span class="i n">Diagnostics</span>.<a href="@0@System/A.html#f8b2e604d6f1fe04" class="t t">Process</a> <span id="r78 rd" class="r78 r">proc</span> = <b>new</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>.<a href="@0@System/A.html#47660cba985bdf77" class="t constructor">Process</a>
            {
                <a href="@0@System/A.html#b0417e5300dc5565" class="i property">StartInfo</a> = { <a href="@0@System/A.html#b5b64f6ecc2f77fd" class="i property">FileName</a> = <span class="r77 r">ExeName</span>, <a href="@0@System/A.html#a0c4508e0c3df23b" class="i property">Arguments</a> = <span class="r76 r">ExeArgs</span>, <a href="@0@System/A.html#c914fa43f8558238" class="i property">ErrorDialog</a> = <b>true</b> }
            };
            <span class="r78 r">proc</span>.<a href="@0@System/A.html#e9edeff01b1851af" class="i method">Start</a>();
        }
 
    }
}
</pre></td></tr></table></div></body></html>
