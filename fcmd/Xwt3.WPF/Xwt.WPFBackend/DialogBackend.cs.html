<!DOCTYPE html>
<html><head><title>DialogBackend.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(206);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Xwt3.WPF/Xwt.WPFBackend/DialogBackend.cs" target="_top">Xwt.WPFBackend\DialogBackend.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xwt3.WPF" target="_top">xwt\Xwt.WPF\Xwt3.WPF.csproj</a> (Xwt3.WPF)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">//</span>
<span class="c">// DialogBackend.cs</span>
<span class="c">//</span>
<span class="c">// Author:</span>
<span class="c">//       Eric Maupin &lt;ermau@xamarin.com&gt;</span>
<span class="c">//</span>
<span class="c">// Copyright (c) 2012 Xamarin, Inc.</span>
<span class="c">//</span>
<span class="c">// Permission is hereby granted, free of charge, to any person obtaining a copy</span>
<span class="c">// of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
<span class="c">// in the Software without restriction, including without limitation the rights</span>
<span class="c">// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span class="c">// copies of the Software, and to permit persons to whom the Software is</span>
<span class="c">// furnished to do so, subject to the following conditions:</span>
<span class="c">//</span>
<span class="c">// The above copyright notice and this permission notice shall be included in</span>
<span class="c">// all copies or substantial portions of the Software.</span>
<span class="c">//</span>
<span class="c">// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="c">// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="c">// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="c">// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="c">// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
<span class="c">// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</span>
<span class="c">// THE SOFTWARE.</span>

<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">ObjectModel</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Controls</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Controls</span>.<span class="i n">Primitives</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Data</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Input</span>;
<b>using</b> <span class="i n">Xwt</span>.<span class="i n">Backends</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;

<b>using</b> <span class="i">SWC</span> = <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Controls</span>;

<b>namespace</b> <span class="i n">Xwt</span>.<span class="i n">WPFBackend</span>
{
	<b>public class</b> <a id="28ab4064c03bbe54" href="../R/28ab4064c03bbe54.html" target="n" data-glyph="0,0" class="t t">DialogBackend</a>
		: <a href="WindowBackend.cs.html#382ed8df61f7696e" class="t t">WindowBackend</a>, <a href="/Xwt3/A.html#f76a22846a0fc6ac" class="t t">IDialogBackend</a>
	{
		<b>static</b> <a id="51db466818252247" href="../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">DialogBackend</a>()
		{
			<a href="@0@PresentationFramework/A.html#dcee1d06e39f1148" class="k">var</a> <span id="r0 rd" class="r0 r">panelFactory</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#be3f2ab5cb633568" class="t constructor">FrameworkElementFactory</a> (<b>typeof</b> (<a href="@0@PresentationFramework/A.html#74647d237fc89a63" class="t t">StackPanel</a>));
			<span class="r0 r">panelFactory</span>.<a href="@0@PresentationFramework/A.html#a60ac317f2b9a244" class="i method">SetValue</a> (<a href="@0@PresentationFramework/A.html#74647d237fc89a63" class="t t">StackPanel</a>.<a href="@0@PresentationFramework/A.html#173161a801ee6c6d" class="i field">OrientationProperty</a>, <span class="i n">SWC</span>.<a href="@0@PresentationFramework/A.html#b6bff92693930c47" class="t t">Orientation</a>.<a href="@0@PresentationFramework/A.html#eb60498b6a8ff15f" class="i field">Horizontal</a>);
			<span class="r0 r">panelFactory</span>.<a href="@0@PresentationFramework/A.html#a60ac317f2b9a244" class="i method">SetValue</a> (<a href="@0@PresentationFramework/A.html#74647d237fc89a63" class="t t">StackPanel</a>.<a href="@0@PresentationFramework/A.html#e7644a8219c25033" class="i field">MarginProperty</a>, <b>new</b> <a href="@0@PresentationFramework/A.html#7d5226ec44f0e6f6" class="t constructor">Thickness</a> (0, 7, 7, 7));

			<a href="#be2dfa35d29c185b" class="i field">PanelTemplate</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#ddb54210edbc3382" class="t constructor">ItemsPanelTemplate</a> (<span class="r0 r">panelFactory</span>);

			<a href="#0860cedf0f632091" class="i field">ButtonStyle</a>.<a href="@0@PresentationFramework/A.html#b184603284693a4f" class="i property">Setters</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a> (<b>new</b> <a href="@0@PresentationFramework/A.html#c48706a61a5d8f59" class="t constructor">Setter</a> (<a href="@0@PresentationFramework/A.html#d2d98a3022fbac2f" class="t t">FrameworkElement</a>.<a href="@0@PresentationFramework/A.html#e7644a8219c25033" class="i field">MarginProperty</a>, <b>new</b> <a href="@0@PresentationFramework/A.html#7d5226ec44f0e6f6" class="t constructor">Thickness</a> (7, 0, 0, 0)));
			<a href="#0860cedf0f632091" class="i field">ButtonStyle</a>.<a href="@0@PresentationFramework/A.html#b184603284693a4f" class="i property">Setters</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a> (<b>new</b> <a href="@0@PresentationFramework/A.html#c48706a61a5d8f59" class="t constructor">Setter</a> (<a href="@0@PresentationFramework/A.html#d2d98a3022fbac2f" class="t t">FrameworkElement</a>.<a href="@0@PresentationFramework/A.html#ba006e991fd0e8fd" class="i field">MinWidthProperty</a>, 80d));
		}

		<b>private</b> <a href="DelegatedCommand.cs.html#2a5e0a320510d7ca" class="t t">DelegatedCommand</a> <a id="9342ac84653ae2cd" href="../R/9342ac84653ae2cd.html" target="n" data-glyph="46,1" class="i field">cmd</a>;

		<b>public</b> <a id="90d403ebc92a05cb" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i constructor">DialogBackend</a>()
		{
			<a href="#9342ac84653ae2cd" class="i field">cmd</a> = <b>new</b> <a href="DelegatedCommand.cs.html#ea61e100dff61f43" class="t constructor">DelegatedCommand</a>&lt;<a href="/Xwt3/A.html#07d4cc23e5e82108" class="t t">DialogButton</a>&gt; (<a href="#42f1d5286aef1377" class="i method">OnButtonClicked</a>);

			<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#0d4d602d1a9560d7" class="i field">buttonContainer</a>.<a href="@0@PresentationFramework/A.html#61d5ff0f685c486c" class="i property">ItemsPanel</a> = <a href="#be2dfa35d29c185b" class="i field">PanelTemplate</a>;
			<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#0d4d602d1a9560d7" class="i field">buttonContainer</a>.<a href="@0@PresentationFramework/A.html#5c3c178cd78bb0e3" class="i property">ItemTemplateSelector</a> =  <b>new</b> <a href="#7e70d566c426d5c4" class="t constructor">DialogButtonTemplateSelector</a> (<a href="#0860cedf0f632091" class="i field">ButtonStyle</a>, <a href="#9342ac84653ae2cd" class="i field">cmd</a>);
			<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#0d4d602d1a9560d7" class="i field">buttonContainer</a>.<a href="@0@PresentationFramework/A.html#3bb5cb5ee01ee8d2" class="i property">ItemsSource</a> = <a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#ab8ec41063106fcc" class="i field">buttons</a>;
			<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#0d4d602d1a9560d7" class="i field">buttonContainer</a>.<a href="@0@PresentationFramework/A.html#af1a9620ef03c2dd" class="i property">HorizontalAlignment</a> = <a href="@0@PresentationFramework/A.html#4adb839fdbe93e93" class="t t">HorizontalAlignment</a>.<a href="@0@PresentationFramework/A.html#2294716af8f325d5" class="i field">Right</a>;

			<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="WindowBackend.cs.html#f2b5d02b012add11" class="i field">rootPanel</a>.<a href="@0@PresentationFramework/A.html#e6e16a8002a4d90f" class="i property">RowDefinitions</a>.<a href="@0@PresentationFramework/A.html#c48d379cbac6b258" class="i method">Add</a> (<b>new</b> <a href="@0@PresentationFramework/A.html#546bff66ff767474" class="t constructor">RowDefinition</a> { <a href="@0@PresentationFramework/A.html#032580915971adf8" class="i property">Height</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#29cb12d2dd927c25" class="t constructor">GridLength</a> (0, <a href="@0@PresentationFramework/A.html#9f3a8f5ddb555d71" class="t t">GridUnitType</a>.<a href="@0@PresentationFramework/A.html#454fc6cf110572b8" class="i field">Auto</a>) });
			<a href="#831f69a9d55bcddc" class="i field">separator</a> = <b>new</b> <span class="i n">SWC</span>.<a href="@0@PresentationFramework/A.html#9c69be9934fa8f24" class="t constructor">Separator</a> ();
			<a href="#831f69a9d55bcddc" class="i field">separator</a>.<a href="@0@PresentationCore/A.html#69f262dd47fdf2be" class="i property">Visibility</a> = <a href="@0@PresentationCore/A.html#2668d640196eddd0" class="t t">Visibility</a>.<a href="@0@PresentationCore/A.html#b5dcd78ae53c5916" class="i field">Collapsed</a>;
			<a href="@0@PresentationFramework/A.html#f9ce1d6be154348a" class="t t">Grid</a>.<a href="@0@PresentationFramework/A.html#6dc4dd41a364705d" class="i method">SetRow</a> (<a href="#831f69a9d55bcddc" class="i field">separator</a>, 2);
			<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="WindowBackend.cs.html#f2b5d02b012add11" class="i field">rootPanel</a>.<a href="@0@PresentationFramework/A.html#fb9060d71a3afc83" class="i property">Children</a>.<a href="@0@PresentationFramework/A.html#8886057feae649bc" class="i method">Add</a> (<a href="#831f69a9d55bcddc" class="i field">separator</a>);

			<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="WindowBackend.cs.html#f2b5d02b012add11" class="i field">rootPanel</a>.<a href="@0@PresentationFramework/A.html#e6e16a8002a4d90f" class="i property">RowDefinitions</a>.<a href="@0@PresentationFramework/A.html#c48d379cbac6b258" class="i method">Add</a> (<b>new</b> <a href="@0@PresentationFramework/A.html#546bff66ff767474" class="t constructor">RowDefinition</a> { <a href="@0@PresentationFramework/A.html#032580915971adf8" class="i property">Height</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#29cb12d2dd927c25" class="t constructor">GridLength</a> (0, <a href="@0@PresentationFramework/A.html#9f3a8f5ddb555d71" class="t t">GridUnitType</a>.<a href="@0@PresentationFramework/A.html#454fc6cf110572b8" class="i field">Auto</a>) });
			<a href="@0@PresentationFramework/A.html#f9ce1d6be154348a" class="t t">Grid</a>.<a href="@0@PresentationFramework/A.html#6dc4dd41a364705d" class="i method">SetRow</a> (<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#0d4d602d1a9560d7" class="i field">buttonContainer</a>, 3);
			<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="WindowBackend.cs.html#f2b5d02b012add11" class="i field">rootPanel</a>.<a href="@0@PresentationFramework/A.html#fb9060d71a3afc83" class="i property">Children</a>.<a href="@0@PresentationFramework/A.html#8886057feae649bc" class="i method">Add</a> (<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#0d4d602d1a9560d7" class="i field">buttonContainer</a>);
			<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#0d4d602d1a9560d7" class="i field">buttonContainer</a>.<a href="@0@PresentationCore/A.html#69f262dd47fdf2be" class="i property">Visibility</a> = <a href="@0@PresentationCore/A.html#2668d640196eddd0" class="t t">Visibility</a>.<a href="@0@PresentationCore/A.html#b5dcd78ae53c5916" class="i field">Collapsed</a>;
		}

		<b>public override void</b> <a id="6dd6286c1f02fa88" href="../R/6dd6286c1f02fa88.html" target="n" data-glyph="72,1" class="i method">SetMinSize</a> (<a href="/Xwt3/A.html#eac7fbe727da55f3" class="t t">Size</a> <span id="r1 rd" class="r1 r">s</span>)
		{
			<span class="c">// Take into account the size of the button bar and the separator</span>

			<a href="#0d4d602d1a9560d7" class="i field">buttonContainer</a>.<a href="@0@PresentationCore/A.html#45a2b3d7f602e83f" class="i method">InvalidateMeasure</a> ();
			<a href="#0d4d602d1a9560d7" class="i field">buttonContainer</a>.<a href="@0@PresentationCore/A.html#0e6c09a4266b5db0" class="i method">Measure</a> (<b>new</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<a href="@0@WindowsBase/A.html#a9e92f9d82abccc2" class="t constructor">Size</a> (<b>double</b>.<a href="@0@mscorlib/A.html#704210f8dd6afaed" class="i field">PositiveInfinity</a>, <b>double</b>.<a href="@0@mscorlib/A.html#704210f8dd6afaed" class="i field">PositiveInfinity</a>));
			<a href="#831f69a9d55bcddc" class="i field">separator</a>.<a href="@0@PresentationCore/A.html#45a2b3d7f602e83f" class="i method">InvalidateMeasure</a> ();
			<a href="#831f69a9d55bcddc" class="i field">separator</a>.<a href="@0@PresentationCore/A.html#0e6c09a4266b5db0" class="i method">Measure</a> (<b>new</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<a href="@0@WindowsBase/A.html#a9e92f9d82abccc2" class="t constructor">Size</a> (<b>double</b>.<a href="@0@mscorlib/A.html#704210f8dd6afaed" class="i field">PositiveInfinity</a>, <b>double</b>.<a href="@0@mscorlib/A.html#704210f8dd6afaed" class="i field">PositiveInfinity</a>));
			<span class="r1 r">s</span>.<a href="/Xwt3/A.html#c6e7d92f05c1315b" class="i property">Height</a> += <a href="#0d4d602d1a9560d7" class="i field">buttonContainer</a>.<a href="@0@PresentationCore/A.html#32042c7c3b8912f8" class="i property">DesiredSize</a>.<a href="@0@WindowsBase/A.html#5c5d17caa72f2875" class="i property">Height</a> + <a href="#831f69a9d55bcddc" class="i field">separator</a>.<a href="@0@PresentationCore/A.html#32042c7c3b8912f8" class="i property">DesiredSize</a>.<a href="@0@WindowsBase/A.html#5c5d17caa72f2875" class="i property">Height</a>;
			<span class="r1 r">s</span>.<a href="/Xwt3/A.html#cc006e4112f202b8" class="i property">Width</a> = <span class="i n">System</span>.<a href="@0@mscorlib/A.html#a4407e67b9a5afad" class="t t">Math</a>.<a href="@0@mscorlib/A.html#e66bf1275e54a4bc" class="i method">Max</a>(<a href="#0d4d602d1a9560d7" class="i field">buttonContainer</a>.<a href="@0@PresentationCore/A.html#32042c7c3b8912f8" class="i property">DesiredSize</a>.<a href="@0@WindowsBase/A.html#6889b81bbde81637" class="i property">Width</a>, <a href="#831f69a9d55bcddc" class="i field">separator</a>.<a href="@0@PresentationCore/A.html#32042c7c3b8912f8" class="i property">DesiredSize</a>.<a href="@0@WindowsBase/A.html#6889b81bbde81637" class="i property">Width</a>);
			<a href="WindowBackend.cs.html#382ed8df61f7696e" class="k">base</a>.<a href="WindowBackend.cs.html#78b2b73582bc95b8" class="i method">SetMinSize</a> (<span class="r1 r">s</span>);
		}

		<b>public void</b> <a id="9bf2b8a834bb35bc" href="../R/9bf2b8a834bb35bc.html" target="n" data-glyph="72,1" class="i method">SetButtons</a> (<a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="/Xwt3/A.html#07d4cc23e5e82108" class="t t">DialogButton</a>&gt; <span id="r2 rd" class="r2 r">newButtons</span>)
		{
			<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#ab8ec41063106fcc" class="i field">buttons</a>.<a href="@0@mscorlib/A.html#1c7184c9f3526d9d" class="i method">Clear</a>();
			<b>foreach</b> (<a href="/Xwt3/A.html#07d4cc23e5e82108" class="k">var</a> <span id="r3 rd" class="r3 r">button</span> <b>in</b> <span class="r2 r">newButtons</span>) {
				<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#ab8ec41063106fcc" class="i field">buttons</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a> (<span class="r3 r">button</span>);
			}
			<a href="#18db9dd39ac4a078" class="i method">UpdateSeparatorVisibility</a> ();
		}

		<b>public void</b> <a id="282d565ef95df9eb" href="../R/282d565ef95df9eb.html" target="n" data-glyph="72,1" class="i method">UpdateButton</a> (<a href="/Xwt3/A.html#07d4cc23e5e82108" class="t t">DialogButton</a> <span id="r4 rd" class="r4 r">updatedButton</span>)
		{
			<b>for</b> (<b>int</b> <span id="r5 rd" class="r5 r">i</span> = 0; <span class="r5 r">i</span> &lt; <a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#ab8ec41063106fcc" class="i field">buttons</a>.<a href="@0@mscorlib/A.html#f2419069e9890f5d" class="i property">Count</a>; ++<span class="r5 r">i</span>) {
				<a href="/Xwt3/A.html#07d4cc23e5e82108" class="k">var</a> <span id="r6 rd" class="r6 r">button</span> = <a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#ab8ec41063106fcc" class="i field">buttons</a> [<span class="r5 r">i</span>];
				<b>if</b> (<span class="r6 r">button</span> == <span class="r4 r">updatedButton</span>) {
					<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#ab8ec41063106fcc" class="i field">buttons</a>.<a href="@0@mscorlib/A.html#f854d078ff701b74" class="i method">RemoveAt</a> (<span class="r5 r">i</span>);
					<a href="#28ab4064c03bbe54" class="k">this</a>.<a href="#ab8ec41063106fcc" class="i field">buttons</a>.<a href="@0@mscorlib/A.html#7b364e9b63700c41" class="i method">Insert</a> (<span class="r5 r">i</span>, <span class="r4 r">updatedButton</span>);
					<b>break</b>;
				}
			}
			<a href="#18db9dd39ac4a078" class="i method">UpdateSeparatorVisibility</a> ();
		}

		<b>void</b> <a id="18db9dd39ac4a078" href="../R/18db9dd39ac4a078.html" target="n" data-glyph="76,1" class="i method">UpdateSeparatorVisibility</a> ()
		{
			<a href="#0d4d602d1a9560d7" class="i field">buttonContainer</a>.<a href="@0@PresentationCore/A.html#69f262dd47fdf2be" class="i property">Visibility</a> = <a href="#831f69a9d55bcddc" class="i field">separator</a>.<a href="@0@PresentationCore/A.html#69f262dd47fdf2be" class="i property">Visibility</a> = <a href="#ab8ec41063106fcc" class="i field">buttons</a>.<a href="@0@System.Core/A.html#6a1af7c3d17845e3" class="i method">Any</a> (<span id="r7 rd" class="r7 r">b</span> =&gt; <span class="r7 r">b</span>.<a href="/Xwt3/A.html#4fd3bcb56d4b5674" class="i property">Visible</a>) ? <a href="@0@PresentationCore/A.html#2668d640196eddd0" class="t t">Visibility</a>.<a href="@0@PresentationCore/A.html#02d18b751f37c2fd" class="i field">Visible</a> : <a href="@0@PresentationCore/A.html#2668d640196eddd0" class="t t">Visibility</a>.<a href="@0@PresentationCore/A.html#b5dcd78ae53c5916" class="i field">Collapsed</a>;
		}

		<b>public void</b> <a id="edaa41daa7bb0a6e" href="../R/edaa41daa7bb0a6e.html" target="n" data-glyph="72,1" class="i method">RunLoop</a> (<a href="/Xwt3/A.html#0d0d1a7be9349648" class="t t">IWindowFrameBackend</a> <span id="r8 rd" class="r8 r">parent</span>)
		{
			<b>if</b> (<span class="r8 r">parent</span> != <b>null</b>)
				<a href="WindowFrameBackend.cs.html#53b6343a111c2b2d" class="i property">Window</a>.<a href="@0@PresentationFramework/A.html#d93ba8f45d327825" class="i property">Owner</a> = ((<a href="WindowFrameBackend.cs.html#72030f320188ba1f" class="t t">WindowFrameBackend</a>) <span class="r8 r">parent</span>).<a href="WindowFrameBackend.cs.html#53b6343a111c2b2d" class="i property">Window</a>;
			<a href="WindowFrameBackend.cs.html#53b6343a111c2b2d" class="i property">Window</a>.<a href="@0@PresentationFramework/A.html#0039cef54a9603c2" class="i property">WindowStartupLocation</a> = <a href="@0@PresentationFramework/A.html#92b2009ec2fb44e6" class="t t">WindowStartupLocation</a>.<a href="@0@PresentationFramework/A.html#2b49e0b47e2aafbb" class="i field">CenterOwner</a>;
			<a href="WindowFrameBackend.cs.html#53b6343a111c2b2d" class="i property">Window</a>.<a href="@0@PresentationFramework/A.html#61d39b218b53dbbe" class="i method">ShowDialog</a> ();
		}

		<b>public void</b> <a id="4104e82110a0e434" href="../R/4104e82110a0e434.html" target="n" data-glyph="72,1" class="i method">EndLoop</a> ()
		{
			<a href="WindowFrameBackend.cs.html#4286618376932cf9" class="i property">InhibitCloseRequested</a> = <b>true</b>;
			<a href="WindowFrameBackend.cs.html#53b6343a111c2b2d" class="i property">Window</a>.<a href="@0@PresentationFramework/A.html#9eff3c5633604c43" class="i method">Close</a>();
			<a href="WindowFrameBackend.cs.html#4286618376932cf9" class="i property">InhibitCloseRequested</a> = <b>false</b>;
		}

		<b>private readonly</b> <a href="@0@PresentationFramework/A.html#dee33c98c4dcf3f2" class="t t">ItemsControl</a> <a id="0d4d602d1a9560d7" href="../R/0d4d602d1a9560d7.html" target="n" data-glyph="46,1" class="i field">buttonContainer</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#24cda214fb955aa7" class="t constructor">ItemsControl</a>();
		<b>private readonly</b> <a href="@0@System/A.html#f63ea2601f5edbbb" class="t t">ObservableCollection</a>&lt;<a href="/Xwt3/A.html#07d4cc23e5e82108" class="t t">DialogButton</a>&gt; <a id="ab8ec41063106fcc" href="../R/ab8ec41063106fcc.html" target="n" data-glyph="46,1" class="i field">buttons</a> = <b>new</b> <a href="@0@System/A.html#a0b7a0640c9feb02" class="t constructor">ObservableCollection</a>&lt;<a href="/Xwt3/A.html#07d4cc23e5e82108" class="t t">DialogButton</a>&gt; ();
		<b>readonly</b> <span class="i n">SWC</span>.<a href="@0@PresentationFramework/A.html#e4f7bb78d8bf8015" class="t t">Separator</a> <a id="831f69a9d55bcddc" href="../R/831f69a9d55bcddc.html" target="n" data-glyph="46,1" class="i field">separator</a>;

		<b>protected</b> <a href="/Xwt3/A.html#170160307e30227a" class="t t">IDialogEventSink</a> <a id="4b794e7c86b5f2aa" href="../R/4b794e7c86b5f2aa.html" target="n" data-glyph="105,1" class="i property">DialogEventSink</a> {
			<b>get</b> { <b>return</b> (<a href="/Xwt3/A.html#170160307e30227a" class="t t">IDialogEventSink</a>) <a href="WindowFrameBackend.cs.html#c95d62a44c4dc41c" class="i property">EventSink</a>; }
		}

		<b>private void</b> <a id="42f1d5286aef1377" href="../R/42f1d5286aef1377.html" target="n" data-glyph="76,1" class="i method">OnButtonClicked</a> (<a href="/Xwt3/A.html#07d4cc23e5e82108" class="t t">DialogButton</a> <span id="r9 rd" class="r9 r">button</span>)
		{
			<a href="WindowFrameBackend.cs.html#77c449c0379f1fad" class="i property">Context</a>.<a href="/Xwt3/A.html#5db8b61c4608e0e0" class="i method">InvokeUserCode</a> (() =&gt; <a href="#4b794e7c86b5f2aa" class="i property">DialogEventSink</a>.<a href="/Xwt3/A.html#727719fba2e1ffc5" class="i method">OnDialogButtonClicked</a> (<span class="r9 r">button</span>));
		}

		<b>private static readonly</b> <a href="@0@PresentationFramework/A.html#1b451994fd2cc6c9" class="t t">ItemsPanelTemplate</a> <a id="be2dfa35d29c185b" href="../R/be2dfa35d29c185b.html" target="n" data-glyph="46,1" class="i field">PanelTemplate</a>;
		<b>private static readonly</b> <a href="@0@PresentationFramework/A.html#dd312833d0723042" class="t t">Style</a> <a id="0860cedf0f632091" href="../R/0860cedf0f632091.html" target="n" data-glyph="46,1" class="i field">ButtonStyle</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#77e1492c499487f0" class="t constructor">Style</a> (<b>typeof</b> (<span class="i n">SWC</span>.<a href="@0@PresentationFramework/A.html#bfc2d93e5b6e9a96" class="t t">Button</a>));

		<b>private class</b> <a id="3b7c52d821bf28f2" href="../R/3b7c52d821bf28f2.html" target="n" data-glyph="4,1" class="t t">DialogButtonTemplateSelector</a>
			: <a href="@0@PresentationFramework/A.html#e862134ec7b5432d" class="t t">DataTemplateSelector</a>
		{
			<b>static void</b> <a id="e36d30d17bbfcfba" href="../R/e36d30d17bbfcfba.html" target="n" data-glyph="76,2" class="i method">SetupButtonFactory</a> (<a href="@0@PresentationFramework/A.html#dcee1d06e39f1148" class="t t">FrameworkElementFactory</a> <span id="r10 rd" class="r10 r">factory</span>, <a href="@0@PresentationFramework/A.html#dd312833d0723042" class="t t">Style</a> <span id="r11 rd" class="r11 r">style</span>, <a href="@0@System/A.html#f0e0f4acfe262659" class="t t">ICommand</a> <span id="r12 rd" class="r12 r">command</span>)
			{
				<span class="r10 r">factory</span>.<a href="@0@PresentationFramework/A.html#452381e73050a44a" class="i method">SetBinding</a> (<a href="@0@PresentationCore/A.html#7911653ccb506216" class="t t">UIElement</a>.<a href="@0@PresentationCore/A.html#99400a39f1740209" class="i field">IsEnabledProperty</a>, <b>new</b> <a href="@0@PresentationFramework/A.html#94f69147a4e4e69b" class="t constructor">Binding</a> (<span class="s">&quot;Sensitive&quot;</span>));
				<span class="r10 r">factory</span>.<a href="@0@PresentationFramework/A.html#452381e73050a44a" class="i method">SetBinding</a> (<a href="@0@PresentationCore/A.html#7911653ccb506216" class="t t">UIElement</a>.<a href="@0@PresentationCore/A.html#01d4c3d0cf25d8f6" class="i field">VisibilityProperty</a>, <b>new</b> <a href="@0@PresentationFramework/A.html#94f69147a4e4e69b" class="t constructor">Binding</a> (<span class="s">&quot;Visible&quot;</span>) { <a href="@0@PresentationFramework/A.html#8ec0eeebd514597f" class="i property">Converter</a> = <a href="#cc5f688572c0a542" class="i field">VisibilityConverter</a> });
				<span class="r10 r">factory</span>.<a href="@0@PresentationFramework/A.html#a60ac317f2b9a244" class="i method">SetValue</a> (<a href="@0@PresentationFramework/A.html#d2d98a3022fbac2f" class="t t">FrameworkElement</a>.<a href="@0@PresentationFramework/A.html#bad73be985bb1fd6" class="i field">StyleProperty</a>, <span class="r11 r">style</span>);
				<span class="r10 r">factory</span>.<a href="@0@PresentationFramework/A.html#a60ac317f2b9a244" class="i method">SetValue</a> (<a href="@0@PresentationFramework/A.html#1001a15c43ab91f9" class="t t">ButtonBase</a>.<a href="@0@PresentationFramework/A.html#89e5274d8fba79e3" class="i field">CommandProperty</a>, <span class="r12 r">command</span>);
				<span class="r10 r">factory</span>.<a href="@0@PresentationFramework/A.html#452381e73050a44a" class="i method">SetBinding</a> (<a href="@0@PresentationFramework/A.html#1001a15c43ab91f9" class="t t">ButtonBase</a>.<a href="@0@PresentationFramework/A.html#d4d3e9fa20f41b8d" class="i field">CommandParameterProperty</a>, <b>new</b> <a href="@0@PresentationFramework/A.html#2f6293d3ae26068b" class="t constructor">Binding</a> ());
			}

			<b>public</b> <a id="7e70d566c426d5c4" href="../R/7e70d566c426d5c4.html" target="n" data-glyph="72,2" class="i constructor">DialogButtonTemplateSelector</a> (<a href="@0@PresentationFramework/A.html#dd312833d0723042" class="t t">Style</a> <span id="r13 rd" class="r13 r">style</span>, <a href="@0@System/A.html#f0e0f4acfe262659" class="t t">ICommand</a> <span id="r14 rd" class="r14 r">command</span>)
			{
				<a href="@0@PresentationFramework/A.html#dcee1d06e39f1148" class="k">var</a> <span id="r15 rd" class="r15 r">buttonFactory</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#be3f2ab5cb633568" class="t constructor">FrameworkElementFactory</a> (<b>typeof</b> (<span class="i n">SWC</span>.<a href="@0@PresentationFramework/A.html#bfc2d93e5b6e9a96" class="t t">Button</a>));
				<a href="#e36d30d17bbfcfba" class="i method">SetupButtonFactory</a> (<span class="r15 r">buttonFactory</span>, <span class="r13 r">style</span>, <span class="r14 r">command</span>);
				<span class="r15 r">buttonFactory</span>.<a href="@0@PresentationFramework/A.html#452381e73050a44a" class="i method">SetBinding</a> (<a href="@0@PresentationFramework/A.html#f8ee23c685054e71" class="t t">ContentControl</a>.<a href="@0@PresentationFramework/A.html#5c96d1f22ff7d391" class="i field">ContentProperty</a>, <b>new</b> <a href="@0@PresentationFramework/A.html#94f69147a4e4e69b" class="t constructor">Binding</a> (<span class="s">&quot;Label&quot;</span>));

				<a href="#3b7c52d821bf28f2" class="k">this</a>.<a href="#e34ec0c4a0ed55a6" class="i field">normalTemplate</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#7d59ff37e43d139d" class="t constructor">DataTemplate</a> { <a href="@0@PresentationFramework/A.html#0ed53b508f4c0433" class="i property">VisualTree</a> = <span class="r15 r">buttonFactory</span> };

				<span class="r15 r">buttonFactory</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#be3f2ab5cb633568" class="t constructor">FrameworkElementFactory</a> (<b>typeof</b> (<span class="i n">SWC</span>.<a href="@0@PresentationFramework/A.html#bfc2d93e5b6e9a96" class="t t">Button</a>));
				<a href="#e36d30d17bbfcfba" class="i method">SetupButtonFactory</a> (<span class="r15 r">buttonFactory</span>, <span class="r13 r">style</span>, <span class="r14 r">command</span>);

				<a href="@0@PresentationFramework/A.html#dcee1d06e39f1148" class="k">var</a> <span id="r16 rd" class="r16 r">contentFactory</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#be3f2ab5cb633568" class="t constructor">FrameworkElementFactory</a> (<b>typeof</b> (<a href="@0@PresentationFramework/A.html#5f9a593483943440" class="t t">DockPanel</a>));

				<a href="@0@PresentationFramework/A.html#dcee1d06e39f1148" class="k">var</a> <span id="r17 rd" class="r17 r">imageFactory</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#be3f2ab5cb633568" class="t constructor">FrameworkElementFactory</a> (<b>typeof</b> (<a href="@0@PresentationFramework/A.html#ea65ed9300b0595d" class="t t">Image</a>));
				<span class="r17 r">imageFactory</span>.<a href="@0@PresentationFramework/A.html#452381e73050a44a" class="i method">SetBinding</a> (<a href="@0@PresentationFramework/A.html#ea65ed9300b0595d" class="t t">Image</a>.<a href="@0@PresentationFramework/A.html#f1b7f93e27aa8015" class="i field">SourceProperty</a>, <b>new</b> <a href="@0@PresentationFramework/A.html#94f69147a4e4e69b" class="t constructor">Binding</a> (<span class="s">&quot;Image.NativeWidget&quot;</span>));
				<span class="r17 r">imageFactory</span>.<a href="@0@PresentationFramework/A.html#a60ac317f2b9a244" class="i method">SetValue</a> (<a href="@0@PresentationFramework/A.html#5f9a593483943440" class="t t">DockPanel</a>.<a href="@0@PresentationFramework/A.html#c087cde136eddd51" class="i field">DockProperty</a>, <a href="@0@PresentationFramework/A.html#247b2a9cc539228a" class="t t">Dock</a>.<a href="@0@PresentationFramework/A.html#ccf1b2e3c1ae6495" class="i field">Left</a>);

				<span class="r16 r">contentFactory</span>.<a href="@0@PresentationFramework/A.html#aa86771013f3f7a3" class="i method">AppendChild</a> (<span class="r17 r">imageFactory</span>);

				<a href="@0@PresentationFramework/A.html#dcee1d06e39f1148" class="k">var</a> <span id="r18 rd" class="r18 r">textFactory</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#be3f2ab5cb633568" class="t constructor">FrameworkElementFactory</a> (<b>typeof</b> (<a href="@0@PresentationFramework/A.html#f469b4aeb3697bb8" class="t t">TextBlock</a>));
				<span class="r18 r">textFactory</span>.<a href="@0@PresentationFramework/A.html#452381e73050a44a" class="i method">SetBinding</a> (<a href="@0@PresentationFramework/A.html#f469b4aeb3697bb8" class="t t">TextBlock</a>.<a href="@0@PresentationFramework/A.html#05b78a7b564afbdd" class="i field">TextProperty</a>, <b>new</b> <a href="@0@PresentationFramework/A.html#94f69147a4e4e69b" class="t constructor">Binding</a> (<span class="s">&quot;Label&quot;</span>));
				<span class="r18 r">textFactory</span>.<a href="@0@PresentationFramework/A.html#a60ac317f2b9a244" class="i method">SetValue</a> (<a href="@0@PresentationFramework/A.html#5f9a593483943440" class="t t">DockPanel</a>.<a href="@0@PresentationFramework/A.html#c087cde136eddd51" class="i field">DockProperty</a>, <a href="@0@PresentationFramework/A.html#247b2a9cc539228a" class="t t">Dock</a>.<a href="@0@PresentationFramework/A.html#f1f8f6afc1b836d6" class="i field">Right</a>);

				<span class="r16 r">contentFactory</span>.<a href="@0@PresentationFramework/A.html#aa86771013f3f7a3" class="i method">AppendChild</a> (<span class="r18 r">textFactory</span>);

				<span class="r15 r">buttonFactory</span>.<a href="@0@PresentationFramework/A.html#aa86771013f3f7a3" class="i method">AppendChild</a> (<span class="r16 r">contentFactory</span>);

				<a href="#3b7c52d821bf28f2" class="k">this</a>.<a href="#68aeec9e56f7e056" class="i field">imageTemplate</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#7d59ff37e43d139d" class="t constructor">DataTemplate</a> { <a href="@0@PresentationFramework/A.html#0ed53b508f4c0433" class="i property">VisualTree</a> = <span class="r15 r">buttonFactory</span> };
			}

			<b>public override</b> <a href="@0@PresentationFramework/A.html#623bc07124c7ba7a" class="t t">DataTemplate</a> <a id="01a09d83a40e2330" href="../R/01a09d83a40e2330.html" target="n" data-glyph="72,2" class="i method">SelectTemplate</a> (<b>object</b> <span id="r19 rd" class="r19 r">item</span>, <a href="@0@WindowsBase/A.html#3ce192f6633decc8" class="t t">DependencyObject</a> <span id="r20 rd" class="r20 r">container</span>)
			{
				<a href="/Xwt3/A.html#07d4cc23e5e82108" class="k">var</a> <span id="r21 rd" class="r21 r">button</span> = <span class="r19 r">item</span> <b>as</b> <a href="/Xwt3/A.html#07d4cc23e5e82108" class="t t">DialogButton</a>;
				<b>if</b> (<span class="r21 r">button</span> == <b>null</b>)
					<b>return</b> <a href="@0@PresentationFramework/A.html#e862134ec7b5432d" class="k">base</a>.<a href="@0@PresentationFramework/A.html#91ec59aebc5a717d" class="i method">SelectTemplate</a> (<span class="r19 r">item</span>, <span class="r20 r">container</span>);

				<b>return</b> (<span class="r21 r">button</span>.<a href="/Xwt3/A.html#3a7448ef79846018" class="i property">Image</a> == <b>null</b>) ? <a href="#3b7c52d821bf28f2" class="k">this</a>.<a href="#e34ec0c4a0ed55a6" class="i field">normalTemplate</a> : <a href="#3b7c52d821bf28f2" class="k">this</a>.<a href="#68aeec9e56f7e056" class="i field">imageTemplate</a>;
			}

			<b>private static readonly</b> <a href="@0@PresentationFramework/A.html#220e750b66c04350" class="t t">BooleanToVisibilityConverter</a> <a id="cc5f688572c0a542" href="../R/cc5f688572c0a542.html" target="n" data-glyph="46,2" class="i field">VisibilityConverter</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#e101b9840516480b" class="t constructor">BooleanToVisibilityConverter</a> ();
			<b>private readonly</b> <a href="@0@PresentationFramework/A.html#623bc07124c7ba7a" class="t t">DataTemplate</a> <a id="68aeec9e56f7e056" href="../R/68aeec9e56f7e056.html" target="n" data-glyph="46,2" class="i field">imageTemplate</a>;
			<b>private readonly</b> <a href="@0@PresentationFramework/A.html#623bc07124c7ba7a" class="t t">DataTemplate</a> <a id="e34ec0c4a0ed55a6" href="../R/e34ec0c4a0ed55a6.html" target="n" data-glyph="46,2" class="i field">normalTemplate</a>;
		}
	}
}</pre></td></tr></table></div></body></html>
