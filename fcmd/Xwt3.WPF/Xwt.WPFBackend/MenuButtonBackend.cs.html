<!DOCTYPE html>
<html><head><title>MenuButtonBackend.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(72);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Xwt3.WPF/Xwt.WPFBackend/MenuButtonBackend.cs" target="_top">Xwt.WPFBackend\MenuButtonBackend.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Xwt3.WPF" target="_top">xwt\Xwt.WPF\Xwt3.WPF.csproj</a> (Xwt3.WPF)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">//</span>
<span class="c">// MenuButtonBackend.cs</span>
<span class="c">//</span>
<span class="c">// Author:</span>
<span class="c">//       Eric Maupin &lt;ermau@xamarin.com&gt;</span>
<span class="c">//</span>
<span class="c">// Copyright (c) 2012 Xamarin, Inc.</span>
<span class="c">//</span>
<span class="c">// Permission is hereby granted, free of charge, to any person obtaining a copy</span>
<span class="c">// of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
<span class="c">// in the Software without restriction, including without limitation the rights</span>
<span class="c">// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span class="c">// copies of the Software, and to permit persons to whom the Software is</span>
<span class="c">// furnished to do so, subject to the following conditions:</span>
<span class="c">//</span>
<span class="c">// The above copyright notice and this permission notice shall be included in</span>
<span class="c">// all copies or substantial portions of the Software.</span>
<span class="c">//</span>
<span class="c">// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="c">// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="c">// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="c">// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="c">// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
<span class="c">// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN</span>
<span class="c">// THE SOFTWARE.</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>;
<b>using</b> <span class="i n">Xwt</span>.<span class="i n">Backends</span>;


<b>namespace</b> <span class="i n">Xwt</span>.<span class="i n">WPFBackend</span>
{
	<b>public class</b> <a id="e33f48294fc286d6" href="../R/e33f48294fc286d6.html" target="n" data-glyph="0,0" class="t t">MenuButtonBackend</a>
		: <a href="ButtonBackend.cs.html#16176367cff47ded" class="t t">ButtonBackend</a>, <a href="/Xwt3/A.html#b762babc96ad2d9c" class="t t">IMenuButtonBackend</a>
	{
		<b>public</b> <a id="fa5caba8307d2dfc" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i constructor">MenuButtonBackend</a>()
			: <a href="ButtonBackend.cs.html#2fcafd9d0e90b0c7" class="k">base</a> (<b>new</b> <a href="DropDownButton.cs.html#2db484ad696e978b" class="t constructor">DropDownButton</a>())
		{
			<a href="#e853e43bb73acc31" class="i property">DropDownButton</a>.<a href="DropDownButton.cs.html#84466c7b4142911e" class="i">MenuOpening</a> += <a href="#8f6125c959c0b0e8" class="i method">OnMenuOpening</a>;
		}

		<b>protected</b> <a href="DropDownButton.cs.html#463d6c96dcc5e408" class="t t">DropDownButton</a> <a id="e853e43bb73acc31" href="../R/e853e43bb73acc31.html" target="n" data-glyph="105,1" class="i property">DropDownButton</a> {
			<b>get</b> { <b>return</b> (<a href="DropDownButton.cs.html#463d6c96dcc5e408" class="t t">DropDownButton</a>) <a href="ButtonBackend.cs.html#7f3575943789bf62" class="i property">Button</a>; }
		}

		<b>protected</b> <a href="/Xwt3/A.html#fcd41392c4c769d9" class="t t">IMenuButtonEventSink</a> <a id="4a4baa761353dac6" href="../R/4a4baa761353dac6.html" target="n" data-glyph="105,1" class="i property">MenuButtonEventSink</a> {
			<b>get</b> { <b>return</b> (<a href="/Xwt3/A.html#fcd41392c4c769d9" class="t t">IMenuButtonEventSink</a>) <a href="ButtonBackend.cs.html#a9c7ace5cc9df189" class="i property">EventSink</a>; }
		}

		<b>public override void</b> <a id="0b412adbae8841d5" href="../R/0b412adbae8841d5.html" target="n" data-glyph="72,1" class="i method">SetButtonType</a> (<a href="/Xwt3/A.html#843063b213c3c68e" class="t t">ButtonType</a> <span id="r0 rd" class="r0 r">type</span>)
		{
			<b>switch</b> (<span class="r0 r">type</span>) {
			<b>case</b> <a href="/Xwt3/A.html#843063b213c3c68e" class="t t">ButtonType</a>.<a href="/Xwt3/A.html#ddab067aa1a7a4c3" class="i field">Normal</a>:
				<a href="#e853e43bb73acc31" class="i property">DropDownButton</a>.<a href="@0@PresentationFramework/A.html#9e86dfc6412c0fe7" class="i property">Style</a> = <b>null</b>;
				<b>break</b>;

			<b>case</b> <a href="/Xwt3/A.html#843063b213c3c68e" class="t t">ButtonType</a>.<a href="/Xwt3/A.html#eb7a29eb41b917c8" class="i field">DropDown</a>:
				<a href="#e853e43bb73acc31" class="i property">DropDownButton</a>.<a href="@0@PresentationFramework/A.html#9e86dfc6412c0fe7" class="i property">Style</a> = (<a href="@0@PresentationFramework/A.html#dd312833d0723042" class="t t">Style</a>) <a href="ButtonBackend.cs.html#efe3c583fa609156" class="i property">ButtonResources</a><a href="@0@PresentationFramework/A.html#fe23e03a125d22aa">[</a><span class="s">&quot;MenuDropDown&quot;</span>];
				<b>break</b>;
			}

			<a href="#e853e43bb73acc31" class="i property">DropDownButton</a>.<a href="@0@PresentationCore/A.html#45a2b3d7f602e83f" class="i method">InvalidateMeasure</a>();
		}

		<b>private void</b> <a id="8f6125c959c0b0e8" href="../R/8f6125c959c0b0e8.html" target="n" data-glyph="76,1" class="i method">OnMenuOpening</a> (<b>object</b> <span id="r1 rd" class="r1 r">sender</span>, <a href="DropDownButton.cs.html#463d6c96dcc5e408" class="t t">DropDownButton</a>.<a href="DropDownButton.cs.html#d97236515312e1e8" class="t t">MenuOpeningEventArgs</a> <span id="r2 rd" class="r2 r">e</span>)
		{
			<a href="Backend.cs.html#a1d66241a0d4621f" class="i property">Context</a>.<a href="/Xwt3/A.html#5db8b61c4608e0e0" class="i method">InvokeUserCode</a> (() =&gt;
				<span class="r2 r">e</span>.<a href="DropDownButton.cs.html#c24c42076f7a39a9" class="i property">ContextMenu</a> = ((<a href="MenuBackend.cs.html#1cb2aac368695626" class="t t">MenuBackend</a>) <a href="#4a4baa761353dac6" class="i property">MenuButtonEventSink</a>.<a href="/Xwt3/A.html#dc3fd05c2bee8915" class="i method">OnCreateMenu</a> ()).<a href="MenuBackend.cs.html#36b93c3301ee7fab" class="i method">CreateContextMenu</a> ());
		}
	}
}</pre></td></tr></table></div></body></html>
