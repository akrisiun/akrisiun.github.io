<!DOCTYPE html>
<html><head><title>VLVDataSource.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(119);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#pluginner/Toolkit/VLVDataSource.cs" target="_top">Toolkit\VLVDataSource.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#pluginner" target="_top">fcmd\pluginner\pluginner.csproj</a> (pluginner)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">/* The File Commander - plugin API - VirtualListView
 * VLV data source
 * (C) The File Commander Team - https://github.com/atauenis/fcmd
 * (C) 2015, Alexander Tauenis (atauenis@yandex.ru)
* Contributors should place own signs here.
 */</span>
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">pluginner</span>.<span class="i n">Widgets</span>;
<b>using</b> <span class="i n">Xwt</span>;
<span class="c">// using Xwt.Drawing;</span>

<b>namespace</b> <span class="i n">pluginner</span>.<span class="i n">Toolkit</span>
{
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
	<span class="c">///</span><span class="c"> VirtualListView data source</span>
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
	<b>public class</b> <a id="18958f3fe6589540" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="24289ceed215e06b">VLVDataSource</span></a> <span class="c">//UNDONE</span>
	{
		<b>private</b> <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Xwt3/A.html#66cf9eb320966cca" class="t t">Widget</a>&gt; <a id="1866744701b4071e" href="../R/1866744701b4071e.html" target="n" data-glyph="46,1" class="i field">db</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Xwt3/A.html#66cf9eb320966cca" class="t t">Widget</a>&gt;();

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Provides &quot;tangible&quot; &quot;items&quot; for Virtual List View (the &quot;items&quot; are stored in the internal database)</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">from</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The first item that should be returned</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">to</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The last item that should be returned</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">Enumeration of Xwt widgets that should be displayed in the VLV</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="/Xwt3/A.html#66cf9eb320966cca" class="t t">Widget</a>&gt; <a id="94fa517092805ce2" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Flange</a>(<b>int</b> <span id="r0 rd" class="r0 r">from</span>, <b>int</b> <span id="r1 rd" class="r1 r">to</span>)
		{
			<a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Xwt3/A.html#66cf9eb320966cca" class="t t">Widget</a>&gt; <span id="r2 rd" class="r2 r">output</span> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Xwt3/A.html#66cf9eb320966cca" class="t t">Widget</a>&gt;();
			<b>for</b> (<b>int</b> <span id="r3 rd" class="r3 r">i</span> = <span class="r0 r">from</span>; <span class="r3 r">i</span> &lt; <span class="r1 r">to</span>; <span class="r3 r">i</span>++)
			{
				<span class="r2 r">output</span>.<a href="@0@mscorlib/A.html#9cc11588bffd57c1" class="i method">Add</a>(<a href="#1866744701b4071e" class="i field">db</a><a href="@0@mscorlib/A.html#0c65bec4d3fac21e">[</a><span class="r3 r">i</span>]);
			}
			<b>return</b> <span class="r2 r">output</span>;
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Add a new item</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r4 r">Data</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The item&#39;s content</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r5 r">EditableFields</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">List of editable fields</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">ItemTag</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The tag for the new item (optional)</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<b>public void</b> <a id="d5a83c1715253e0d" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AddItem</a>(<a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="t t">Object</a>&gt; <span id="r4 rd" class="r4 r">Data</span>, <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="@0@mscorlib/A.html#f1b135ff6c380b37" class="t t">Boolean</a>&gt; <span id="r5 rd" class="r5 r">EditableFields</span>, <b>string</b> <span id="r6 rd" class="r6 r">ItemTag</span> = <b>null</b>)
		{
			<span class="c">/*ListView2Item lvi = new ListView2Item(
				LastRow,
				LastCol,
				ItemTag,
				_columns.ToArray(),
				Data,
				FontForFileNames)
			{
				Font = Font.SystemSansSerifFont.WithWeight(FontWeight.Heavy),
				PointerBgColor = PointedBgColor,
				PointerFgColor = PointedFgColor,
				SelectionBgColor = SelectedBgColor,
				SelectionFgColor = SelectedFgColor,
				State = ListView2.ItemStates.Default
			};
			AddItem(lvi);*/</span>
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Add a new ListView2Item into this ListView2</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span><span class="c"> </span><span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r7 r">Item</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The new ListView2Item</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
		<b>private void</b> <a id="6fbf8b59a1268047" href="../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">AddItem</a>(<a href="../Widgets/IListView2Visual.cs.html#e367555acaaae17b" class="t t">IListView2Visual</a> <span id="r7 rd" class="r7 r">Item</span>)
		{
			<span class="c">/*if (Color2)
			{
				Item.NormalBgColor = NormalBgColor2;
				Item.NormalFgColor = NormalFgColor1;
			}
			else
			{
				Item.NormalBgColor = NormalBgColor1;
				Item.NormalFgColor = NormalFgColor1;
			}

			Color2 = !Color2;
			db.Add(Item);
			Item.ButtonPressed += Item_ButtonPressed;
			Item.EditComplete += sender =&gt;
			{
				var handler = EditComplete;
				if (handler != null)
				{
					handler(sender, this);
				}
			};
			Item.CanGetFocus = true;
			if (LastRow == 0) _SetPoint(Item);
			LastRow++;*/</span>
		}


		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Add some new widgets into database</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public void</b> <a id="bdf4a1d49cd4bcb6" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AddItems</a>(<a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="/Xwt3/A.html#66cf9eb320966cca" class="t t">Widget</a>&gt; <span id="r8 rd" class="r8 r">w</span>)
		{
			<a href="#1866744701b4071e" class="i field">db</a>.<a href="@0@mscorlib/A.html#e569d850a66a1771" class="i method">AddRange</a>(<span class="r8 r">w</span>);
		}
		
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Clear the database</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public void</b> <a id="40cb54527869536c" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Clear</a>()
		{
			<a href="#1866744701b4071e" class="i field">db</a>.<a href="@0@mscorlib/A.html#ca7bce81a50b0aeb" class="i method">Clear</a>();
		}

		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> The count of the &quot;items&quot; in the memory</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public</b> <a href="@0@mscorlib/A.html#e566178cce890c36" class="t t">Int64</a> <a id="8af709e1924681e8" href="../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Count</a>
		{
			<b>get</b> { <b>return</b> <a href="#1866744701b4071e" class="i field">db</a>.<a href="@0@mscorlib/A.html#78a69d857716bc68" class="i property">Count</a>; }
		}
	}
}
</pre></td></tr></table></div></body></html>
